<?xml version="1.0" encoding="UTF-8"?>
<!--
This file was generated by Altova MapForce 2024r2sp1

YOU SHOULD NOT MODIFY THIS FILE, BECAUSE IT WILL BE
OVERWRITTEN WHEN YOU RE-RUN CODE GENERATION.

Refer to the Altova MapForce Documentation for further details.
http://www.altova.com/mapforce
-->
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:provisio="http://www.altova.com/MapForce/UDF/provisio" xmlns:vmf="http://www.altova.com/MapForce/UDF/vmf" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:ns0="urn:cz-mzcr:ns:dasta:ds4:ds_dasta" xmlns:ns1="urn:cz-mzcr:ns:dasta:ds4:ds_ip" xmlns:ns2="urn:hl7-org:v3" exclude-result-prefixes="provisio vmf xs fn ns0 ns1">
	<xsl:template name="provisio:eHDSI_Immunizations">
		<xsl:param name="oc" select="()"/>
		<xsl:param name="root" select="()"/>
		<xsl:for-each select="$oc">
			<xsl:variable name="var9_ocz" as="node()*" select="ns1:ocz"/>
			<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
				<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
					<xsl:attribute name="classCode" namespace="" select="'DOCSECT'"/>
					<hl7v3:templateId>
						<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.15'"/>
					</hl7v3:templateId>
					<hl7v3:templateId>
						<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.23'"/>
					</hl7v3:templateId>
					<hl7v3:templateId>
						<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.6'"/>
					</hl7v3:templateId>
					<hl7v3:id>
						<xsl:attribute name="root" namespace="" select="$root"/>
						<xsl:for-each select="$var9_ocz/@guid">
							<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.ImmunizationsSection')"/>
						</xsl:for-each>
					</hl7v3:id>
					<hl7v3:code>
						<xsl:attribute name="code" namespace="" select="'11369-6'"/>
						<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
						<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
					</hl7v3:code>
					<hl7v3:title>Immunizations</hl7v3:title>
					<hl7v3:text>
						<xsl:for-each select="$var9_ocz">
							<xsl:variable name="var2_cur" as="node()" select="."/>
							<hl7v3:paragraph>
								<xsl:attribute name="ID" namespace="" select="fn:concat('imm', xs:string(position()))"/>
								<xsl:for-each select="@typ_oc_text">
									<xsl:variable name="var1_cur" as="node()" select="."/>
									<xsl:for-each select="$var2_cur/ns1:davka/ns1:dat_du">
										<xsl:sequence select="fn:concat(fn:concat(fn:string($var1_cur), ':'), fn:string(.))"/>
									</xsl:for-each>
								</xsl:for-each>
							</hl7v3:paragraph>
						</xsl:for-each>
					</hl7v3:text>
					<xsl:for-each select="$var9_ocz">
						<xsl:variable name="var8_davka" as="node()*" select="ns1:davka"/>
						<hl7v3:entry>
							<hl7v3:substanceAdministration>
								<xsl:attribute name="classCode" namespace="" select="'SBADM'"/>
								<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
								<xsl:attribute name="negationInd" namespace="" select="xs:string(fn:false())"/>
								<hl7v3:templateId>
									<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.19'"/>
								</hl7v3:templateId>
								<hl7v3:templateId>
									<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.12'"/>
								</hl7v3:templateId>
								<hl7v3:templateId>
									<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.24'"/>
								</hl7v3:templateId>
								<hl7v3:id>
									<xsl:attribute name="root" namespace="" select="$root"/>
									<xsl:for-each select="$var8_davka/@guid">
										<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.ImmunizationsSectionEntrySubstanceAdministration')"/>
									</xsl:for-each>
								</hl7v3:id>
								<hl7v3:code>
									<xsl:attribute name="code" namespace="" select="'IMMUNIZ'"/>
									<xsl:attribute name="codeSystem" namespace="" select="'1.3.5.1.4.1.19376.1.5.3.2'"/>
									<xsl:attribute name="codeSystemName" namespace="" select="'IHEActCode'"/>
								</hl7v3:code>
								<hl7v3:text>
									<hl7v3:reference>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', fn:concat('imm', xs:string(position())))))"/>
									</hl7v3:reference>
								</hl7v3:text>
								<hl7v3:statusCode>
									<xsl:attribute name="code" namespace="" select="'completed'"/>
								</hl7v3:statusCode>
								<hl7v3:effectiveTime>
									<xsl:for-each select="$var8_davka/ns1:dat_du">
										<xsl:variable name="var4___as_double" as="xs:double" select="xs:double('2')"/>
										<xsl:variable name="var3_cur_as_string" as="xs:string" select="fn:string(.)"/>
										<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(fn:substring($var3_cur_as_string, xs:double('1'), xs:double('4')), fn:substring($var3_cur_as_string, xs:double('6'), $var4___as_double)), fn:substring($var3_cur_as_string, xs:double('9'), $var4___as_double))"/>
									</xsl:for-each>
								</hl7v3:effectiveTime>
								<xsl:for-each select="$var8_davka/@apl_cesta_klic">
									<xsl:variable name="var7_cur_as_string" as="xs:string" select="fn:string(.)"/>
									<hl7v3:routeCode>
										<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf13_inputtoresult">
												<xsl:with-param name="input" select="$var7_cur_as_string" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
											<xsl:attribute name="code" namespace="" select="."/>
										</xsl:for-each>
										<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.112'"/>
										<xsl:attribute name="codeSystemName" namespace="" select="'RouteOfAdministration'"/>
										<xsl:variable name="var6_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf14_inputtoresult">
												<xsl:with-param name="input" select="$var7_cur_as_string" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var6_resultof_vmf___inputtoresult">
											<xsl:attribute name="displayName" namespace="" select="."/>
										</xsl:for-each>
									</hl7v3:routeCode>
								</xsl:for-each>
								<hl7v3:consumable>
									<xsl:attribute name="typeCode" namespace="" select="'CSM'"/>
									<hl7v3:manufacturedProduct>
										<xsl:attribute name="classCode" namespace="" select="'MANU'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.18'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.7.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.53'"/>
										</hl7v3:templateId>
										<hl7v3:manufacturedMaterial>
											<xsl:attribute name="classCode" namespace="" select="'MMAT'"/>
											<xsl:attribute name="determinerCode" namespace="" select="'KIND'"/>
											<hl7v3:code>
												<xsl:for-each select="$var8_davka/@kod_ol">
													<xsl:attribute name="code" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
												<xsl:for-each select="$var8_davka/@nazev_ol">
													<xsl:attribute name="displayName" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
											</hl7v3:code>
											<xsl:for-each select="$var8_davka/@gene_ol">
												<hl7v3:name>
													<xsl:sequence select="fn:string(.)"/>
												</hl7v3:name>
											</xsl:for-each>
											<xsl:for-each select="$var8_davka/@cis_sarze">
												<hl7v3:lotNumberText>
													<xsl:sequence select="fn:string(.)"/>
												</hl7v3:lotNumberText>
											</xsl:for-each>
										</hl7v3:manufacturedMaterial>
									</hl7v3:manufacturedProduct>
								</hl7v3:consumable>
							</hl7v3:substanceAdministration>
						</hl7v3:entry>
					</xsl:for-each>
				</hl7v3:section>
			</POCD_MT000040.Component3>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Social_History">
		<xsl:param name="anfType" select="()"/>
		<xsl:param name="root" select="()"/>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<xsl:attribute name="classCode" namespace="" select="'DOCSECT'"/>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.13'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.16.1'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.16'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.15'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$anfType/@guid">
						<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedSocialHistorySection')"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:attribute name="code" namespace="" select="'29762-2'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
				</hl7v3:code>
				<hl7v3:title>Coded Social History</hl7v3:title>
				<hl7v3:text>
					<hl7v3:list>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'alcoholUse'"/>
								<xsl:for-each select="$anfType/ns1:anam_aba/ns1:aba_mnoz_text">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat('Alkohol: ', fn:string(.)), ' '), 'dr/d')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'smoking'"/>
								<xsl:for-each select="$anfType/ns1:anam_abk/ns1:abk_mnoz_text">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat('Kouření: ', fn:string(.)), ' '), 'pkg/d')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'drugUse'"/>
								<xsl:for-each select="$anfType/ns1:anam_abd/ns1:abd_lattyp_text">
									<xsl:sequence select="fn:concat('Drogy: ', fn:string(.))"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
					</hl7v3:list>
				</hl7v3:text>
				<xsl:for-each select="$anfType/ns1:anam_aba">
					<hl7v3:entry>
						<hl7v3:observation>
							<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
							<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.23'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.4'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.33'"/>
							</hl7v3:templateId>
							<hl7v3:id>
								<xsl:attribute name="root" namespace="" select="$root"/>
								<xsl:for-each select="@guid">
									<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedSocialHistoryEntryObservation')"/>
								</xsl:for-each>
							</hl7v3:id>
							<hl7v3:code>
								<xsl:attribute name="code" namespace="" select="'160573003'"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
								<xsl:attribute name="displayName" namespace="" select="'ETOH (Alcohol) Use'"/>
							</hl7v3:code>
							<hl7v3:text>
								<hl7v3:reference>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'alcoholUse')))"/>
								</hl7v3:reference>
							</hl7v3:text>
							<hl7v3:statusCode>
								<xsl:attribute name="code" namespace="" select="'completed'"/>
							</hl7v3:statusCode>
							<hl7v3:effectiveTime>
								<hl7v3:low>
									<xsl:for-each select="ns1:aba_dat_od">
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</xsl:for-each>
								</hl7v3:low>
								<hl7v3:high>
									<xsl:for-each select="ns1:aba_dat_do">
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</xsl:for-each>
								</hl7v3:high>
							</hl7v3:effectiveTime>
							<hl7v3:value>
								<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
								<xsl:for-each select="ns1:aba_mnoz_text">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
								<xsl:attribute name="unit" namespace="" select="'dr/d'"/>
							</hl7v3:value>
						</hl7v3:observation>
					</hl7v3:entry>
				</xsl:for-each>
				<xsl:for-each select="$anfType/ns1:anam_abk">
					<hl7v3:entry>
						<hl7v3:observation>
							<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
							<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.23'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.4'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.33'"/>
							</hl7v3:templateId>
							<hl7v3:id>
								<xsl:attribute name="root" namespace="" select="$root"/>
								<xsl:for-each select="@guid">
									<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedSocialHistoryEntryObservation')"/>
								</xsl:for-each>
							</hl7v3:id>
							<hl7v3:code>
								<xsl:attribute name="code" namespace="" select="'229819007'"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
								<xsl:attribute name="displayName" namespace="" select="'Smoking'"/>
							</hl7v3:code>
							<hl7v3:text>
								<hl7v3:reference>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'smoking')))"/>
								</hl7v3:reference>
							</hl7v3:text>
							<hl7v3:statusCode>
								<xsl:attribute name="code" namespace="" select="'completed'"/>
							</hl7v3:statusCode>
							<hl7v3:effectiveTime>
								<hl7v3:low>
									<xsl:for-each select="ns1:abk_dat_od">
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</xsl:for-each>
								</hl7v3:low>
								<xsl:for-each select="ns1:abk_dat_do">
									<hl7v3:high>
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</hl7v3:high>
								</xsl:for-each>
							</hl7v3:effectiveTime>
							<hl7v3:value>
								<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
								<xsl:for-each select="ns1:abk_mnoz_text">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
								<xsl:attribute name="unit" namespace="" select="'pkg/d'"/>
							</hl7v3:value>
						</hl7v3:observation>
					</hl7v3:entry>
				</xsl:for-each>
				<xsl:for-each select="$anfType/ns1:anam_abd">
					<hl7v3:entry>
						<hl7v3:observation>
							<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
							<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.23'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.4'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.33'"/>
							</hl7v3:templateId>
							<hl7v3:id>
								<xsl:attribute name="root" namespace="" select="$root"/>
								<xsl:for-each select="@guid">
									<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedSocialHistoryEntryObservation')"/>
								</xsl:for-each>
							</hl7v3:id>
							<hl7v3:code>
								<xsl:attribute name="code" namespace="" select="'363908000'"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
								<xsl:attribute name="displayName" namespace="" select="'Details of drug misuse behavior'"/>
							</hl7v3:code>
							<hl7v3:text>
								<hl7v3:reference>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'drugUse')))"/>
								</hl7v3:reference>
							</hl7v3:text>
							<hl7v3:statusCode>
								<xsl:attribute name="code" namespace="" select="'completed'"/>
							</hl7v3:statusCode>
							<hl7v3:effectiveTime>
								<hl7v3:low>
									<xsl:for-each select="ns1:abd_dat_od">
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</xsl:for-each>
								</hl7v3:low>
								<xsl:for-each select="ns1:abd_dat_do">
									<hl7v3:high>
										<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
									</hl7v3:high>
								</xsl:for-each>
							</hl7v3:effectiveTime>
							<hl7v3:value>
								<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:CD')"/>
								<xsl:for-each select="ns1:abd_lattyp_kod">
									<xsl:variable name="var1_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf15_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var1_resultof_vmf___inputtoresult">
										<xsl:attribute name="code" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
								<xsl:for-each select="ns1:abd_lattyp_text">
									<xsl:attribute name="displayName" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</hl7v3:value>
						</hl7v3:observation>
					</hl7v3:entry>
				</xsl:for-each>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="provisio:root">
		<xsl:param name="ICZ" select="()"/>
		<xsl:if test="fn:exists($ICZ)">
			<xsl:sequence select="fn:concat(fn:concat('1.2.203.24341.1.10.', $ICZ), '.4')"/>
		</xsl:if>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Pregnancy_History">
		<xsl:param name="gravType" select="()"/>
		<xsl:param name="root" select="()"/>
		<xsl:variable name="var10_typ" as="node()?" select="$gravType/@typ"/>
		<xsl:variable name="var11_grav_tp" as="node()*" select="$gravType/ns1:grav_tp"/>
		<xsl:variable name="var9_create_value_of_dat_vys" as="node()*">
			<xsl:for-each select="$gravType/ns1:dat_vys">
				<xsl:attribute name="value" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
			</xsl:for-each>
		</xsl:variable>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<xsl:attribute name="classCode" namespace="" select="'DOCSECT'"/>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.7'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.1.5.3.4'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$var11_grav_tp/@guid">
						<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.PregnancyHistorySection')"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:attribute name="code" namespace="" select="'10162-6'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
				</hl7v3:code>
				<hl7v3:title>Pregnancy History</hl7v3:title>
				<hl7v3:text>
					<hl7v3:content>
						<xsl:for-each select="$var11_grav_tp">
							<xsl:attribute name="ID" namespace="" select="fn:concat('pregnancy', xs:string(position()))"/>
						</xsl:for-each>
						<xsl:for-each select="$var11_grav_tp">
							<xsl:variable name="var3_cur" as="node()" select="."/>
							<xsl:for-each select="@zutp_klic">
								<xsl:variable name="var1_resultof_vmf___inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf16_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var1_resultof_vmf___inputtoresult">
									<xsl:variable name="var2_cur" as="xs:string" select="."/>
									<xsl:for-each select="$var3_cur/ns1:dat_por">
										<xsl:sequence select="fn:concat(fn:concat($var2_cur, ':'), xs:string(xs:date(fn:string(.))))"/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:for-each>
					</hl7v3:content>
				</hl7v3:text>
				<hl7v3:entry>
					<xsl:attribute name="typeCode" namespace="" select="'COMP'"/>
					<xsl:attribute name="contextConductionInd" namespace="" select="xs:string(fn:true())"/>
					<hl7v3:observation>
						<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
						<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
						<hl7v3:templateId>
							<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.45'"/>
						</hl7v3:templateId>
						<hl7v3:code>
							<xsl:attribute name="code" namespace="" select="'82810-3'"/>
							<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
							<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
						</hl7v3:code>
						<hl7v3:text>
							<hl7v3:reference>
								<xsl:for-each select="$var11_grav_tp">
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', fn:concat('pregnancy', xs:string(position())))))"/>
								</xsl:for-each>
							</hl7v3:reference>
						</hl7v3:text>
						<hl7v3:statusCode>
							<xsl:attribute name="code" namespace="" select="'completed'"/>
						</hl7v3:statusCode>
						<hl7v3:effectiveTime>
							<xsl:sequence select="$var9_create_value_of_dat_vys"/>
						</hl7v3:effectiveTime>
						<hl7v3:value>
							<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:CE')"/>
							<xsl:for-each select="$var10_typ">
								<xsl:variable name="var4_resultof_vmf___inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf17_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var4_resultof_vmf___inputtoresult">
									<xsl:attribute name="code" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
							<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
							<xsl:for-each select="$var10_typ">
								<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf17_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
									<xsl:variable name="var6_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf18_inputtoresult">
											<xsl:with-param name="input" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var6_resultof_vmf___inputtoresult">
										<xsl:attribute name="displayName" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</hl7v3:value>
						<xsl:for-each select="$var11_grav_tp">
							<xsl:variable name="var8_zutp_klic" as="node()?" select="@zutp_klic"/>
							<hl7v3:entryRelationship>
								<xsl:attribute name="typeCode" namespace="" select="'COMP'"/>
								<hl7v3:observation>
									<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
									<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.24'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.5'"/>
									</hl7v3:templateId>
									<hl7v3:id>
										<xsl:attribute name="root" namespace="" select="$root"/>
										<xsl:for-each select="@guid">
											<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.PregnancyHistoryEntryEntryRelationshipObservation')"/>
										</xsl:for-each>
									</hl7v3:id>
									<hl7v3:code>
										<xsl:for-each select="$var8_zutp_klic">
											<xsl:attribute name="code" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
										<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
										<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
										<xsl:for-each select="$var8_zutp_klic">
											<xsl:variable name="var7_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf16_inputtoresult">
													<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<xsl:for-each select="$var7_resultof_vmf___inputtoresult">
												<xsl:attribute name="displayName" namespace="" select="."/>
											</xsl:for-each>
										</xsl:for-each>
									</hl7v3:code>
									<hl7v3:text>
										<hl7v3:reference>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', fn:concat('pregnancy', xs:string(position())))))"/>
										</hl7v3:reference>
									</hl7v3:text>
									<hl7v3:statusCode>
										<xsl:attribute name="code" namespace="" select="'completed'"/>
									</hl7v3:statusCode>
									<hl7v3:effectiveTime>
										<xsl:sequence select="$var9_create_value_of_dat_vys"/>
									</hl7v3:effectiveTime>
									<hl7v3:value>
										<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:TS')"/>
										<xsl:for-each select="ns1:dat_por">
											<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(xs:date(fn:string(.))), '[Y][M,2][D,2]')"/>
										</xsl:for-each>
									</hl7v3:value>
								</hl7v3:observation>
							</hl7v3:entryRelationship>
						</xsl:for-each>
					</hl7v3:observation>
				</hl7v3:entry>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Vital_Signs">
		<xsl:param name="fyznalType" select="()"/>
		<xsl:param name="hType" select="()"/>
		<xsl:param name="root" select="()"/>
		<xsl:variable name="var5_o_pas" as="node()?" select="$hType/@o_pas"/>
		<xsl:variable name="var6_hmotnost" as="node()?" select="$hType/@hmotnost"/>
		<xsl:variable name="var7_bmi" as="node()?" select="$hType/@bmi"/>
		<xsl:variable name="var8_vyska" as="node()?" select="$hType/@vyska"/>
		<xsl:variable name="var9_o_hlava" as="node()?" select="$hType/@o_hlava"/>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<xsl:attribute name="classCode" namespace="" select="'DOCSECT'"/>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.6'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.25'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.1.5.3.2'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$fyznalType/@guid_tk">
						<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsSection')"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:attribute name="code" namespace="" select="'8716-3'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
					<xsl:attribute name="displayName" namespace="" select="'Vital signs note'"/>
				</hl7v3:code>
				<hl7v3:title>Coded Vital Signs</hl7v3:title>
				<hl7v3:text>
					<hl7v3:list>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns1'"/>
								<xsl:for-each select="$fyznalType/ns1:tk_syst">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Systolic blood pressure', ' : '), fn:string(.)), ' '), 'mmHg')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns2'"/>
								<xsl:for-each select="$fyznalType/ns1:tk_diast">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Diastolic blood pressure', ' : '), fn:string(.)), ' '), 'mmHg')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns3'"/>
								<xsl:for-each select="$fyznalType/ns1:pulz">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Heart rate', ' : '), fn:string(.)), ' '), 'beats/min')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns4'"/>
								<xsl:for-each select="$fyznalType/ns1:teplota">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Body temperature', ' : '), fn:string(.)), ' '), 'Cel')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns5'"/>
								<xsl:for-each select="$var8_vyska">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Body height', ' : '), xs:string(xs:integer(fn:string(.)))), ' '), 'cm')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns6'"/>
								<xsl:for-each select="$var6_hmotnost">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Body weight', ' : '), xs:string(xs:decimal(fn:string(.)))), ' '), 'kg')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns7'"/>
								<xsl:for-each select="$var7_bmi">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Body mass index (BMI)', ' : '), xs:string(xs:decimal(fn:string(.)))), ' '), 'kg/m²')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns8'"/>
								<xsl:for-each select="$fyznalType/ns1:o2sat">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Oxygen saturation', ' : '), fn:string(.)), ' '), '%')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns9'"/>
								<xsl:for-each select="$fyznalType/ns1:dech">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Respiratory rate', ' : '), fn:string(.)), ' '), 'breaths/min')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns10'"/>
								<xsl:for-each select="$var9_o_hlava">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Head circumference', ' : '), xs:string(xs:integer(fn:string(.)))), ' '), 'cm')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
						<hl7v3:item>
							<hl7v3:content>
								<xsl:attribute name="ID" namespace="" select="'vitalSigns11'"/>
								<xsl:for-each select="$var5_o_pas">
									<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat('Waist circumference', ' : '), xs:string(xs:integer(fn:string(.)))), ' '), 'cm')"/>
								</xsl:for-each>
							</hl7v3:content>
						</hl7v3:item>
					</hl7v3:list>
				</hl7v3:text>
				<xsl:for-each select="$fyznalType">
					<xsl:variable name="var4_cur" as="node()" select="."/>
					<xsl:variable name="var3_guid_tk" as="node()?" select="@guid_tk"/>
					<xsl:variable name="var2_create_value_of_dat_vys" as="node()*">
						<xsl:for-each select="ns1:dat_vys">
							<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
						</xsl:for-each>
					</xsl:variable>
					<xsl:variable name="var1_let" as="node()*">
						<xsl:attribute name="root" namespace="" select="$root"/>
						<xsl:for-each select="$var3_guid_tk">
							<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
						</xsl:for-each>
					</xsl:variable>
					<hl7v3:entry>
						<hl7v3:organizer>
							<xsl:attribute name="classCode" namespace="" select="'CLUSTER'"/>
							<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.21'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.1'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.32'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.35'"/>
							</hl7v3:templateId>
							<hl7v3:id>
								<xsl:attribute name="root" namespace="" select="$root"/>
								<xsl:for-each select="$var3_guid_tk">
									<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizer')"/>
								</xsl:for-each>
							</hl7v3:id>
							<hl7v3:code>
								<xsl:attribute name="code" namespace="" select="'46680005'"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED-CT'"/>
								<xsl:attribute name="displayName" namespace="" select="'Vital signs'"/>
							</hl7v3:code>
							<hl7v3:statusCode>
								<xsl:attribute name="code" namespace="" select="'completed'"/>
							</hl7v3:statusCode>
							<hl7v3:effectiveTime>
								<xsl:sequence select="$var2_create_value_of_dat_vys"/>
							</hl7v3:effectiveTime>
							<hl7v3:component>
								<hl7v3:observation>
									<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
									<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
									</hl7v3:templateId>
									<hl7v3:id>
										<xsl:sequence select="$var1_let"/>
									</hl7v3:id>
									<hl7v3:code>
										<xsl:attribute name="code" namespace="" select="'8480-6'"/>
										<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
										<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
										<xsl:attribute name="displayName" namespace="" select="'Systolic blood pressure'"/>
									</hl7v3:code>
									<hl7v3:text>
										<hl7v3:reference>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns1')))"/>
										</hl7v3:reference>
									</hl7v3:text>
									<hl7v3:statusCode>
										<xsl:attribute name="code" namespace="" select="'completed'"/>
									</hl7v3:statusCode>
									<hl7v3:effectiveTime>
										<xsl:sequence select="$var2_create_value_of_dat_vys"/>
									</hl7v3:effectiveTime>
									<hl7v3:value>
										<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
										<xsl:for-each select="ns1:tk_syst">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
										<xsl:attribute name="unit" namespace="" select="'mmHg'"/>
									</hl7v3:value>
								</hl7v3:observation>
							</hl7v3:component>
							<hl7v3:component>
								<hl7v3:observation>
									<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
									<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
									</hl7v3:templateId>
									<hl7v3:templateId>
										<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
									</hl7v3:templateId>
									<hl7v3:id>
										<xsl:sequence select="$var1_let"/>
									</hl7v3:id>
									<hl7v3:code>
										<xsl:attribute name="code" namespace="" select="'8462-4'"/>
										<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
										<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
										<xsl:attribute name="displayName" namespace="" select="'Diastolic blood pressure'"/>
									</hl7v3:code>
									<hl7v3:text>
										<hl7v3:reference>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns2')))"/>
										</hl7v3:reference>
									</hl7v3:text>
									<hl7v3:statusCode>
										<xsl:attribute name="code" namespace="" select="'completed'"/>
									</hl7v3:statusCode>
									<hl7v3:effectiveTime>
										<xsl:sequence select="$var2_create_value_of_dat_vys"/>
									</hl7v3:effectiveTime>
									<hl7v3:value>
										<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
										<xsl:for-each select="ns1:tk_diast">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
										<xsl:attribute name="unit" namespace="" select="'mmHg'"/>
									</hl7v3:value>
								</hl7v3:observation>
							</hl7v3:component>
							<xsl:for-each select="ns1:pulz">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$var4_cur/@guid_pulz">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'8867-4'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Heart rate'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns3')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											<xsl:attribute name="unit" namespace="" select="'beats/min'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="ns1:teplota">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$var4_cur/@guid_teplota">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'8310-5'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Body temperature'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns4')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											<xsl:attribute name="unit" namespace="" select="'Cel'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="$var8_vyska">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$hType/@guid_vyska">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'8302-2'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Body height'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns5')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
											<xsl:attribute name="unit" namespace="" select="'cm'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="$var6_hmotnost">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$hType/@guid_hmotnost">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'29463-7'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Body weight'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns6')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:decimal(fn:string(.)))"/>
											<xsl:attribute name="unit" namespace="" select="'kg'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="$var7_bmi">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$hType/@guid_bmi">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'39156-5'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Body mass index (BMI)'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns7')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:decimal(fn:string(.)))"/>
											<xsl:attribute name="unit" namespace="" select="'kg/m²'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="ns1:o2sat">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$var4_cur/@guid_o2sat">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'2710-2'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Oxygen saturation'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns8')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											<xsl:attribute name="unit" namespace="" select="'%'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="ns1:dech">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$var4_cur/@guid_dech">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'9279-1'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Respiratory rate'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns9')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											<xsl:attribute name="unit" namespace="" select="'breaths/min'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="$var9_o_hlava">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$hType/@guid_o_hlava">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'8287-5'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Head circumference'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns10')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
											<xsl:attribute name="unit" namespace="" select="'cm'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
							<xsl:for-each select="$var5_o_pas">
								<hl7v3:component>
									<hl7v3:observation>
										<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
										<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.22'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.2'"/>
										</hl7v3:templateId>
										<hl7v3:templateId>
											<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.31'"/>
										</hl7v3:templateId>
										<hl7v3:id>
											<xsl:attribute name="root" namespace="" select="$root"/>
											<xsl:for-each select="$hType/@guid_o_pas">
												<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedVitalSignsEntryOrganizerComponentObservation')"/>
											</xsl:for-each>
										</hl7v3:id>
										<hl7v3:code>
											<xsl:attribute name="code" namespace="" select="'8280-0'"/>
											<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
											<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
											<xsl:attribute name="displayName" namespace="" select="'Waist circumference'"/>
										</hl7v3:code>
										<hl7v3:text>
											<hl7v3:reference>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'vitalSigns11')))"/>
											</hl7v3:reference>
										</hl7v3:text>
										<hl7v3:statusCode>
											<xsl:attribute name="code" namespace="" select="'completed'"/>
										</hl7v3:statusCode>
										<hl7v3:effectiveTime>
											<xsl:sequence select="$var2_create_value_of_dat_vys"/>
										</hl7v3:effectiveTime>
										<hl7v3:value>
											<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:PQ')"/>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
											<xsl:attribute name="unit" namespace="" select="'cm'"/>
										</hl7v3:value>
									</hl7v3:observation>
								</hl7v3:component>
							</xsl:for-each>
						</hl7v3:organizer>
					</hl7v3:entry>
				</xsl:for-each>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Coded_Results">
		<xsl:param name="uksType" select="()"/>
		<xsl:param name="root" select="()"/>
		<xsl:param name="ku_z_labType" select="()"/>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<xsl:attribute name="classCode" namespace="" select="'DOCSECT'"/>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.5'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$uksType/@guid">
						<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedResultsSection')"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:attribute name="code" namespace="" select="'30954-2'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
					<xsl:attribute name="displayName" namespace="" select="'Relevant diagnostic tests/laboratory data note'"/>
				</hl7v3:code>
				<hl7v3:title>Coded Results</hl7v3:title>
				<hl7v3:text>
					<hl7v3:table>
						<hl7v3:thead>
							<hl7v3:tr>
								<hl7v3:th>Test date</hl7v3:th>
								<hl7v3:th>The name of the test</hl7v3:th>
								<hl7v3:th>Test result</hl7v3:th>
							</hl7v3:tr>
						</hl7v3:thead>
						<hl7v3:tbody>
							<hl7v3:tr>
								<xsl:attribute name="ID" namespace="" select="'bloodGroup'"/>
								<hl7v3:td>
									<xsl:for-each select="$uksType/ns1:dat_du">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</hl7v3:td>
								<hl7v3:td>Blood Group Test</hl7v3:td>
								<xsl:variable name="var3_test_resultof_any" as="xs:string*">
									<xsl:choose>
										<xsl:when test="fn:exists(($uksType)[fn:exists(ns1:ks_rh)])">
											<xsl:for-each select="$uksType/ns1:ks_rh">
												<xsl:sequence select="fn:string(.)"/>
											</xsl:for-each>
										</xsl:when>
										<xsl:otherwise>
											<xsl:for-each select="$uksType">
												<xsl:variable name="var2_cur" as="node()" select="."/>
												<xsl:for-each select="ns1:krevskup">
													<xsl:variable name="var1_cur" as="node()" select="."/>
													<xsl:for-each select="$var2_cur/ns1:rh">
														<xsl:sequence select="fn:concat(fn:string($var1_cur), fn:string(.))"/>
													</xsl:for-each>
												</xsl:for-each>
											</xsl:for-each>
										</xsl:otherwise>
									</xsl:choose>
								</xsl:variable>
								<hl7v3:td>
									<xsl:for-each select="$var3_test_resultof_any">
										<xsl:variable name="var4_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf19_inputtoresult">
												<xsl:with-param name="input" select="." as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var4_resultof_vmf___inputtoresult">
											<xsl:call-template name="vmf:vmf20_inputtoresult">
												<xsl:with-param name="input" select="." as="xs:string"/>
											</xsl:call-template>
										</xsl:for-each>
									</xsl:for-each>
								</hl7v3:td>
							</hl7v3:tr>
						</hl7v3:tbody>
					</hl7v3:table>
				</hl7v3:text>
				<xsl:for-each select="$uksType">
					<xsl:variable name="var11_cur" as="node()" select="."/>
					<xsl:variable name="var10_ks_rh" as="node()*" select="ns1:ks_rh"/>
					<xsl:variable name="var9_test_resultof_exists" as="xs:string*">
						<xsl:choose>
							<xsl:when test="fn:exists($var10_ks_rh)">
								<xsl:for-each select="$var10_ks_rh">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</xsl:when>
							<xsl:otherwise>
								<xsl:for-each select="ns1:krevskup">
									<xsl:variable name="var8_cur" as="node()" select="."/>
									<xsl:for-each select="$var11_cur/ns1:rh">
										<xsl:sequence select="fn:concat(fn:string($var8_cur), fn:string(.))"/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:otherwise>
						</xsl:choose>
					</xsl:variable>
					<hl7v3:entry>
						<hl7v3:observation>
							<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
							<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.25'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.20'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13.6'"/>
							</hl7v3:templateId>
							<hl7v3:templateId>
								<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
							</hl7v3:templateId>
							<hl7v3:id>
								<xsl:attribute name="root" namespace="" select="$root"/>
								<xsl:for-each select="@guid">
									<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.CodedResultsEntryObservation')"/>
								</xsl:for-each>
							</hl7v3:id>
							<hl7v3:code>
								<xsl:attribute name="code" namespace="" select="'34530-6'"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
								<xsl:attribute name="displayName" namespace="" select="'ABO and Rh group panel - Blood'"/>
							</hl7v3:code>
							<hl7v3:text>
								<hl7v3:reference>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', 'bloodGroup')))"/>
								</hl7v3:reference>
							</hl7v3:text>
							<hl7v3:statusCode>
								<xsl:attribute name="code" namespace="" select="'completed'"/>
							</hl7v3:statusCode>
							<hl7v3:effectiveTime>
								<xsl:for-each select="ns1:dat_du">
									<xsl:attribute name="value" namespace="" select="format-date(xs:date(fn:string(.)), '[Y][M,2][D,2]', 'en', (), ())"/>
								</xsl:for-each>
							</hl7v3:effectiveTime>
							<hl7v3:value>
								<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:CE')"/>
								<xsl:for-each select="$var9_test_resultof_exists">
									<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf19_inputtoresult">
											<xsl:with-param name="input" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
										<xsl:attribute name="code" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
								<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
								<xsl:for-each select="$var9_test_resultof_exists">
									<xsl:variable name="var6_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf19_inputtoresult">
											<xsl:with-param name="input" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var6_resultof_vmf___inputtoresult">
										<xsl:variable name="var7_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf20_inputtoresult">
												<xsl:with-param name="input" select="." as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var7_resultof_vmf___inputtoresult">
											<xsl:attribute name="displayName" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</xsl:for-each>
							</hl7v3:value>
						</hl7v3:observation>
					</hl7v3:entry>
				</xsl:for-each>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Functional_Status">
		<xsl:param name="fsType" select="()"/>
		<xsl:param name="root" select="()"/>
		<xsl:variable name="var2_let" as="node()+">
			<xsl:attribute name="code" select="'47420-5'"/>
			<xsl:attribute name="codeSystem" select="'2.16.840.1.113883.6.1'"/>
			<xsl:attribute name="codeSystemName" select="'LOINC'"/>
			<xsl:attribute name="displayName" select="'Functional Status'"/>
		</xsl:variable>
		<xsl:variable name="var1_map_of_fsType" as="node()*">
			<xsl:for-each select="$fsType/@dat_ab">
				<xsl:attribute name="value" select="format-dateTime(xs:dateTime(fn:string(.)), '[Y][M,2][D,2]')"/>
			</xsl:for-each>
		</xsl:variable>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.14'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.17'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.5'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$fsType/@guid">
						<xsl:attribute name="extension" namespace="" select="fn:concat('FunctionalStatusSection-', fn:string(.))"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:sequence select="$var2_let"/>
				</hl7v3:code>
				<hl7v3:title>Functional Status</hl7v3:title>
				<hl7v3:text>
					<hl7v3:content>
						<xsl:for-each select="$fsType">
							<xsl:for-each select="ns1:text">
								<xsl:attribute name="ID" namespace="" select="fn:concat('fs', xs:string(position()))"/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$fsType/ns1:text/ns1:ptext">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:for-each>
					</hl7v3:content>
				</hl7v3:text>
				<hl7v3:entry>
					<hl7v3:organizer>
						<xsl:attribute name="classCode" namespace="" select="'CLUSTER'"/>
						<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
						<hl7v3:templateId>
							<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.39'"/>
							<xsl:for-each select="$fsType/@guid">
								<xsl:attribute name="extension" namespace="" select="fn:concat('FunctionalStatusEntryOrganizer-', fn:string(.))"/>
							</xsl:for-each>
						</hl7v3:templateId>
						<hl7v3:id>
							<xsl:attribute name="root" namespace="" select="$root"/>
						</hl7v3:id>
						<hl7v3:code>
							<xsl:sequence select="$var2_let"/>
						</hl7v3:code>
						<hl7v3:statusCode>
							<xsl:attribute name="code" namespace="" select="'completed'"/>
						</hl7v3:statusCode>
						<hl7v3:effectiveTime>
							<xsl:sequence select="$var1_map_of_fsType"/>
						</hl7v3:effectiveTime>
						<hl7v3:component>
							<hl7v3:observation>
								<xsl:attribute name="classCode" namespace="" select="'OBS'"/>
								<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
								<hl7v3:templateId>
									<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.3.40'"/>
								</hl7v3:templateId>
								<hl7v3:templateId>
									<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.4.13'"/>
								</hl7v3:templateId>
								<hl7v3:id>
									<xsl:attribute name="root" namespace="" select="$root"/>
									<xsl:for-each select="$fsType/@guid">
										<xsl:attribute name="extension" namespace="" select="fn:concat('FunctionalStatusEntryOrganizerComponentObservation-', fn:string(.))"/>
									</xsl:for-each>
								</hl7v3:id>
								<hl7v3:code>
									<xsl:attribute name="code" namespace="" select="'228158008'"/>
									<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
									<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
									<xsl:attribute name="displayName" namespace="" select="'Reduced exercise tolerance'"/>
								</hl7v3:code>
								<hl7v3:text>
									<hl7v3:reference>
										<xsl:for-each select="$fsType">
											<xsl:for-each select="ns1:text">
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('#', fn:concat('fs', xs:string(position())))))"/>
											</xsl:for-each>
										</xsl:for-each>
									</hl7v3:reference>
								</hl7v3:text>
								<hl7v3:statusCode>
									<xsl:attribute name="code" namespace="" select="'completed'"/>
								</hl7v3:statusCode>
								<hl7v3:effectiveTime>
									<xsl:sequence select="$var1_map_of_fsType"/>
								</hl7v3:effectiveTime>
								<hl7v3:value>
									<xsl:attribute name="xsi:type" namespace="http://www.w3.org/2001/XMLSchema-instance" select="xs:QName('hl7v3:CD')"/>
									<xsl:attribute name="code" namespace="" select="'52101004'"/>
									<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.96'"/>
									<xsl:attribute name="codeSystemName" namespace="" select="'SNOMED CT'"/>
									<xsl:attribute name="displayName" namespace="" select="'Present'"/>
								</hl7v3:value>
							</hl7v3:observation>
						</hl7v3:component>
					</hl7v3:organizer>
				</hl7v3:entry>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="provisio:eHDSI_Health_Maintenance_Care_Plan">
		<xsl:param name="ldType" select="()"/>
		<xsl:param name="root" select="()"/>
		<POCD_MT000040.Component3 xmlns="urn:hl7-org:v3">
			<hl7v3:section xmlns:hl7v3="urn:hl7-org:v3">
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.2.8'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.3.31'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.1.9.50'"/>
				</hl7v3:templateId>
				<hl7v3:templateId>
					<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.10.20.1.10'"/>
				</hl7v3:templateId>
				<hl7v3:id>
					<xsl:attribute name="root" namespace="" select="$root"/>
					<xsl:for-each select="$ldType/@guid">
						<xsl:attribute name="extension" namespace="" select="fn:concat(fn:string(.), '.HealthMaintenanceCarePlanSection')"/>
					</xsl:for-each>
				</hl7v3:id>
				<hl7v3:code>
					<xsl:attribute name="code" namespace="" select="'18776-5'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
					<xsl:attribute name="displayName" namespace="" select="'Plan of care note'"/>
				</hl7v3:code>
				<hl7v3:title>Health Maintenance Care Plan</hl7v3:title>
				<hl7v3:text>
					<hl7v3:paragraph>
						<xsl:for-each select="$ldType">
							<xsl:for-each select="ns1:text">
								<xsl:attribute name="ID" namespace="" select="fn:concat('careplan', xs:string(position()))"/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$ldType/ns1:text/ns1:ptext">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:for-each>
					</hl7v3:paragraph>
				</hl7v3:text>
			</hl7v3:section>
		</POCD_MT000040.Component3>
	</xsl:template>
	<xsl:template name="vmf:vmf1_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='1'">
				<xsl:copy-of select="'N'"/>
			</xsl:when>
			<xsl:when test="$input='2'">
				<xsl:copy-of select="'R'"/>
			</xsl:when>
			<xsl:when test="$input='3'">
				<xsl:copy-of select="'V'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf2_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'normal'"/>
			</xsl:when>
			<xsl:when test="$input='R'">
				<xsl:copy-of select="'restricted'"/>
			</xsl:when>
			<xsl:when test="$input='V'">
				<xsl:copy-of select="'very restricted'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf3_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='1'">
				<xsl:copy-of select="'HP'"/>
			</xsl:when>
			<xsl:when test="$input='2'">
				<xsl:copy-of select="'TMP'"/>
			</xsl:when>
			<xsl:when test="$input='5'">
				<xsl:copy-of select="'WP'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf4_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'mailto:'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf5_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'MC'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'HP'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'HP'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf6_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='M'">
				<xsl:copy-of select="'M'"/>
			</xsl:when>
			<xsl:when test="$input='F'">
				<xsl:copy-of select="'F'"/>
			</xsl:when>
			<xsl:when test="$input='X'">
				<xsl:copy-of select="'UN'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf7_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='M'">
				<xsl:copy-of select="'Male'"/>
			</xsl:when>
			<xsl:when test="$input='F'">
				<xsl:copy-of select="'Female'"/>
			</xsl:when>
			<xsl:when test="$input='UN'">
				<xsl:copy-of select="'Undetermined'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf8_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='001'">
				<xsl:copy-of select="'GP'"/>
			</xsl:when>
			<xsl:when test="$input='002'">
				<xsl:copy-of select="'GP'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf9_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'mailto:'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf10_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'MC'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'HP'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'HP'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf11_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'tel:'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'mailto:'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf12_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'MC'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'WP'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'WP'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf13_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='IVN'">
				<xsl:copy-of select="'IM'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf14_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='IVN'">
				<xsl:copy-of select="'Intramuscular'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf15_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='AMFETAM'">
				<xsl:copy-of select="'703842006'"/>
			</xsl:when>
			<xsl:when test="$input='ANABST'">
				<xsl:copy-of select="'111151007'"/>
			</xsl:when>
			<xsl:when test="$input='BARBIT'">
				<xsl:copy-of select="'372798009'"/>
			</xsl:when>
			<xsl:when test="$input='BENZOD'">
				<xsl:copy-of select="'372664007'"/>
			</xsl:when>
			<xsl:when test="$input='BUP'">
				<xsl:copy-of select="'387173000'"/>
			</xsl:when>
			<xsl:when test="$input='PHENC'">
				<xsl:copy-of select="'9721008'"/>
			</xsl:when>
			<xsl:when test="$input='FENTAN'">
				<xsl:copy-of select="'373492002'"/>
			</xsl:when>
			<xsl:when test="$input='HALLMUSH'">
				<xsl:copy-of select="'229006007'"/>
			</xsl:when>
			<xsl:when test="$input='HEROIN'">
				<xsl:copy-of select="'387341002'"/>
			</xsl:when>
			<xsl:when test="$input='3OHBUTYR'">
				<xsl:copy-of select="'62821004'"/>
			</xsl:when>
			<xsl:when test="$input='KETAM'">
				<xsl:copy-of select="'373464007'"/>
			</xsl:when>
			<xsl:when test="$input='COCAINE'">
				<xsl:copy-of select="'387085005'"/>
			</xsl:when>
			<xsl:when test="$input='COCFB'">
				<xsl:copy-of select="'229003004'"/>
			</xsl:when>
			<xsl:when test="$input='CANAB'">
				<xsl:copy-of select="'398705004'"/>
			</xsl:when>
			<xsl:when test="$input='LAXAT'">
				<xsl:copy-of select="'372800002'"/>
			</xsl:when>
			<xsl:when test="$input='LSD'">
				<xsl:copy-of select="'15698006'"/>
			</xsl:when>
			<xsl:when test="$input='MDMA'">
				<xsl:copy-of select="'288459003'"/>
			</xsl:when>
			<xsl:when test="$input='METHAD'">
				<xsl:copy-of select="'387286002'"/>
			</xsl:when>
			<xsl:when test="$input='METAMF'">
				<xsl:copy-of select="'387499002'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf16_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='11778-8'">
				<xsl:copy-of select="'Delivery date Estimated'"/>
			</xsl:when>
			<xsl:when test="$input='11779-6'">
				<xsl:copy-of select="'Delivery date Estimated from last menstrual period'"/>
			</xsl:when>
			<xsl:when test="$input='11780-4'">
				<xsl:copy-of select="'Delivery date Estimated from ovulation date'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf17_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'261665006'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'60001007'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'146799005'"/>
			</xsl:when>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'77386006'"/>
			</xsl:when>
			<xsl:when test="$input='G'">
				<xsl:copy-of select="'77386006'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf18_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='77386006'">
				<xsl:copy-of select="'Pregnant'"/>
			</xsl:when>
			<xsl:when test="$input='60001007'">
				<xsl:copy-of select="'Not pregnant'"/>
			</xsl:when>
			<xsl:when test="$input='261665006'">
				<xsl:copy-of select="'Unknown'"/>
			</xsl:when>
			<xsl:when test="$input='102876002'">
				<xsl:copy-of select="'Multigravida'"/>
			</xsl:when>
			<xsl:when test="$input='127364007'">
				<xsl:copy-of select="'Primigravida'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf19_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='A+'">
				<xsl:copy-of select="'278149003'"/>
			</xsl:when>
			<xsl:when test="$input='A-'">
				<xsl:copy-of select="'278152006'"/>
			</xsl:when>
			<xsl:when test="$input='B+'">
				<xsl:copy-of select="'278150003'"/>
			</xsl:when>
			<xsl:when test="$input='B-'">
				<xsl:copy-of select="'278153001'"/>
			</xsl:when>
			<xsl:when test="$input='AB+'">
				<xsl:copy-of select="'278151004'"/>
			</xsl:when>
			<xsl:when test="$input='AB-'">
				<xsl:copy-of select="'278154007'"/>
			</xsl:when>
			<xsl:when test="$input='0+'">
				<xsl:copy-of select="'278147001'"/>
			</xsl:when>
			<xsl:when test="$input='0-'">
				<xsl:copy-of select="'278148006'"/>
			</xsl:when>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'112144000'"/>
			</xsl:when>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'112149005'"/>
			</xsl:when>
			<xsl:when test="$input='AB'">
				<xsl:copy-of select="'165743006'"/>
			</xsl:when>
			<xsl:when test="$input='00'">
				<xsl:copy-of select="'58460004'"/>
			</xsl:when>
			<xsl:when test="$input='0'">
				<xsl:copy-of select="'58460004'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf20_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='112144000'">
				<xsl:copy-of select="'Blood group A'"/>
			</xsl:when>
			<xsl:when test="$input='278152006'">
				<xsl:copy-of select="'Blood group A Rh(D) negative'"/>
			</xsl:when>
			<xsl:when test="$input='278149003'">
				<xsl:copy-of select="'Blood group A Rh(D) positive'"/>
			</xsl:when>
			<xsl:when test="$input='165743006'">
				<xsl:copy-of select="'Blood group AB'"/>
			</xsl:when>
			<xsl:when test="$input='278154007'">
				<xsl:copy-of select="'Blood group AB Rh(D) negative'"/>
			</xsl:when>
			<xsl:when test="$input='278151004'">
				<xsl:copy-of select="'Blood group AB Rh(D) positive'"/>
			</xsl:when>
			<xsl:when test="$input='112149005'">
				<xsl:copy-of select="'Blood group B'"/>
			</xsl:when>
			<xsl:when test="$input='278153001'">
				<xsl:copy-of select="'Blood group B Rh(D) negative'"/>
			</xsl:when>
			<xsl:when test="$input='278150003'">
				<xsl:copy-of select="'Blood group B Rh(D) positive'"/>
			</xsl:when>
			<xsl:when test="$input='58460004'">
				<xsl:copy-of select="'Blood group O'"/>
			</xsl:when>
			<xsl:when test="$input='278148006'">
				<xsl:copy-of select="'Blood group O Rh(D) negative'"/>
			</xsl:when>
			<xsl:when test="$input='278147001'">
				<xsl:copy-of select="'Blood group O Rh(D) positive'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:output method="xml" encoding="UTF-8" byte-order-mark="no" indent="yes"/>
	<xsl:template match="/">
		<xsl:variable name="var71_dasta" as="node()?" select="ns0:dasta"/>
		<xsl:variable name="var69_map_of_dasta" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z">
				<xsl:attribute name="value" select="fn:string(ns1:dat_prov)"/>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var70_map_of_dasta" as="xs:string*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z">
				<xsl:sequence select="fn:string(ns1:p_pracoviste/ns1:nazev)"/>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var67_test_resultof_any" as="xs:string*">
			<xsl:choose>
				<xsl:when test="fn:exists(($var71_dasta)[fn:exists((./ns0:is)[fn:exists(@icz)])])">
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:sequence select="fn:string(.)"/>
					</xsl:for-each>
				</xsl:when>
				<xsl:otherwise>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/@icz">
						<xsl:sequence select="fn:string(.)"/>
					</xsl:for-each>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:variable>
		<xsl:variable name="var68_create_extension_of_test_any" as="node()*">
			<xsl:for-each select="$var67_test_resultof_any">
				<xsl:attribute name="extension" select="."/>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var65_map_of_dasta" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:mesto">
				<city xmlns="urn:hl7-org:v3">
					<xsl:sequence select="fn:string(.)"/>
				</city>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var66_map_of_dasta" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:adr">
				<streetAddressLine xmlns="urn:hl7-org:v3">
					<xsl:sequence select="fn:string(.)"/>
				</streetAddressLine>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var64_map_of_dasta" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:psc">
				<postalCode xmlns="urn:hl7-org:v3">
					<xsl:sequence select="xs:string(xs:integer(fn:string(.)))"/>
				</postalCode>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var63_let" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:stat">
				<country xmlns="urn:hl7-org:v3">
					<xsl:sequence select="fn:string(.)"/>
				</country>
			</xsl:for-each>
			<xsl:sequence select="$var65_map_of_dasta"/>
			<xsl:sequence select="$var64_map_of_dasta"/>
			<xsl:sequence select="$var66_map_of_dasta"/>
		</xsl:variable>
		<xsl:variable name="var62_map_of_dasta" as="node()*">
			<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:as">
				<xsl:variable name="var61_cur" as="node()" select="."/>
				<xsl:variable name="var60_typ_as_string" as="xs:string" select="fn:string(@typ)"/>
				<telecom xmlns="urn:hl7-org:v3">
					<xsl:variable name="var57_resultof_vmf___inputtoresult" as="xs:string?">
						<xsl:call-template name="vmf:vmf11_inputtoresult">
							<xsl:with-param name="input" select="$var60_typ_as_string" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var57_resultof_vmf___inputtoresult">
						<xsl:variable name="var58_cur" as="xs:string" select="."/>
						<xsl:for-each select="$var61_cur/ns0:obsah">
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat($var58_cur, fn:string(.))))"/>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:variable name="var59_resultof_vmf___inputtoresult" as="xs:string?">
						<xsl:call-template name="vmf:vmf12_inputtoresult">
							<xsl:with-param name="input" select="$var60_typ_as_string" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var59_resultof_vmf___inputtoresult">
						<xsl:attribute name="use" namespace="" select="."/>
					</xsl:for-each>
				</telecom>
			</xsl:for-each>
		</xsl:variable>
		<ClinicalDocument xmlns="urn:hl7-org:v3" xmlns:ips="urn:hl7-org:ips" xmlns:pharm="urn:hl7-org:pharm">
			<typeId>
				<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.1.3'"/>
				<xsl:attribute name="extension" namespace="" select="'POCD_HD000040'"/>
			</typeId>
			<templateId>
				<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.12559.11.10.1.3.1.1.3'"/>
			</templateId>
			<id>
				<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/@guid">
					<xsl:attribute name="root" namespace="" select="fn:string(.)"/>
				</xsl:for-each>
			</id>
			<code>
				<xsl:attribute name="code" namespace="" select="'60591-5'"/>
				<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.6.1'"/>
				<xsl:attribute name="codeSystemName" namespace="" select="'LOINC'"/>
				<xsl:attribute name="displayName" namespace="" select="'Patient summary Document'"/>
			</code>
			<title>
				<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip">
					<xsl:variable name="var3_cur" as="node()" select="."/>
					<xsl:for-each select="ns1:titul_pred">
						<xsl:variable name="var2_cur" as="node()" select="."/>
						<xsl:for-each select="$var3_cur/ns1:jmeno">
							<xsl:variable name="var1_cur" as="node()" select="."/>
							<xsl:for-each select="$var3_cur/ns1:titul_za">
								<xsl:sequence select="fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(fn:concat(' ', 'epSOS Patient Summary CDA document'), ' : '), fn:string($var2_cur)), ' '), fn:string($var1_cur)), ' '), fn:string($var3_cur/ns1:prijmeni)), ' '), fn:string(.)), ' : '), fn:string($var3_cur/@id_pac))"/>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
			</title>
			<effectiveTime>
				<xsl:sequence select="$var69_map_of_dasta"/>
			</effectiveTime>
			<confidentialityCode>
				<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:duvernost">
					<xsl:variable name="var4_resultof_vmf__inputtoresult" as="xs:string?">
						<xsl:call-template name="vmf:vmf1_inputtoresult">
							<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var4_resultof_vmf__inputtoresult">
						<xsl:attribute name="code" namespace="" select="."/>
					</xsl:for-each>
				</xsl:for-each>
				<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.25'"/>
				<xsl:attribute name="codeSystemName" namespace="" select="'eHDSIConfidentiality'"/>
				<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:duvernost">
					<xsl:variable name="var5_resultof_vmf__inputtoresult" as="xs:string?">
						<xsl:call-template name="vmf:vmf1_inputtoresult">
							<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var5_resultof_vmf__inputtoresult">
						<xsl:variable name="var6_resultof_vmf__inputtoresult" as="xs:string?">
							<xsl:call-template name="vmf:vmf2_inputtoresult">
								<xsl:with-param name="input" select="." as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var6_resultof_vmf__inputtoresult">
							<xsl:attribute name="displayName" namespace="" select="."/>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
			</confidentialityCode>
			<languageCode>
				<xsl:attribute name="code" namespace="" select="'cs'"/>
			</languageCode>
			<recordTarget>
				<xsl:attribute name="typeCode" namespace="" select="'RCT'"/>
				<xsl:attribute name="contextControlCode" namespace="" select="'OP'"/>
				<patientRole>
					<xsl:attribute name="classCode" namespace="" select="'PAT'"/>
					<id>
						<xsl:attribute name="root" namespace="" select="'2.16.840.1.113883.3.1937.777.11.20.100'"/>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip">
							<xsl:attribute name="extension" namespace="" select="fn:string(@id_pac)"/>
						</xsl:for-each>
					</id>
					<addr>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns0:a">
							<xsl:variable name="var7_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf3_inputtoresult">
									<xsl:with-param name="input" select="fn:string(@typ)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var7_resultof_vmf__inputtoresult">
								<xsl:attribute name="use" namespace="" select="."/>
							</xsl:for-each>
						</xsl:for-each>
						<country>CZE</country>
						<city>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns0:a/ns0:mesto">
								<xsl:sequence select="fn:string(.)"/>
							</xsl:for-each>
						</city>
						<postalCode>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns0:a/ns0:psc">
								<xsl:sequence select="xs:string(xs:integer(fn:string(.)))"/>
							</xsl:for-each>
						</postalCode>
						<streetAddressLine>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns0:a/ns0:adr">
								<xsl:sequence select="fn:string(.)"/>
							</xsl:for-each>
						</streetAddressLine>
					</addr>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns0:a/ns0:as">
						<xsl:variable name="var12_cur" as="node()" select="."/>
						<xsl:variable name="var11_typ_as_string" as="xs:string" select="fn:string(@typ)"/>
						<telecom>
							<xsl:variable name="var8_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf4_inputtoresult">
									<xsl:with-param name="input" select="$var11_typ_as_string" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var8_resultof_vmf__inputtoresult">
								<xsl:variable name="var9_cur" as="xs:string" select="."/>
								<xsl:for-each select="$var12_cur/ns0:obsah">
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat($var9_cur, fn:string(.))))"/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:variable name="var10_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf5_inputtoresult">
									<xsl:with-param name="input" select="$var11_typ_as_string" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var10_resultof_vmf__inputtoresult">
								<xsl:attribute name="use" namespace="" select="."/>
							</xsl:for-each>
						</telecom>
					</xsl:for-each>
					<patient>
						<xsl:attribute name="classCode" namespace="" select="'PSN'"/>
						<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
						<name>
							<family>
								<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip">
									<xsl:sequence select="fn:string(ns1:prijmeni)"/>
								</xsl:for-each>
							</family>
							<given>
								<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:jmeno">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</given>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:titul_pred">
								<prefix>
									<xsl:sequence select="fn:string(.)"/>
								</prefix>
							</xsl:for-each>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:titul_za">
								<suffix>
									<xsl:sequence select="fn:string(.)"/>
								</suffix>
							</xsl:for-each>
						</name>
						<administrativeGenderCode>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:sex">
								<xsl:variable name="var13_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf6_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var13_resultof_vmf__inputtoresult">
									<xsl:attribute name="code" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.1'"/>
							<xsl:attribute name="codeSystemName" namespace="" select="'administrativeGenderCode'"/>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:sex">
								<xsl:variable name="var14_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf6_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var14_resultof_vmf__inputtoresult">
									<xsl:variable name="var15_resultof_vmf__inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf7_inputtoresult">
											<xsl:with-param name="input" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var15_resultof_vmf__inputtoresult">
										<xsl:attribute name="displayName" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</administrativeGenderCode>
						<birthTime>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:dat_dn">
								<xsl:attribute name="value" namespace="" select="format-date(xs:date(fn:string(.)), '[Y][M,2][D,2]', 'en', (), ())"/>
							</xsl:for-each>
						</birthTime>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:jazyk">
							<languageCommunication>
								<languageCode>
									<xsl:attribute name="code" namespace="" select="fn:string(@jazyk_klic)"/>
								</languageCode>
							</languageCommunication>
						</xsl:for-each>
					</patient>
				</patientRole>
			</recordTarget>
			<author>
				<xsl:attribute name="typeCode" namespace="" select="'AUT'"/>
				<xsl:attribute name="contextControlCode" namespace="" select="'OP'"/>
				<functionCode>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/@role_klic">
						<xsl:attribute name="code" namespace="" select="fn:string(.)"/>
					</xsl:for-each>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.2.9.6.2.7'"/>
					<xsl:attribute name="codeSystemName" namespace="" select="'ISCO'"/>
					<xsl:attribute name="displayName" namespace="" select="'Generalist medical practitioners'"/>
				</functionCode>
				<time>
					<xsl:sequence select="$var69_map_of_dasta"/>
				</time>
				<assignedAuthor>
					<xsl:attribute name="classCode" namespace="" select="'ASSIGNED'"/>
					<id>
						<xsl:for-each select="$var71_dasta/ns0:is/@icz">
							<xsl:variable name="var16_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var16_resultof_root">
								<xsl:attribute name="root" namespace="" select="."/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:sequence select="$var68_create_extension_of_test_any"/>
					</id>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/@odbornost">
						<xsl:variable name="var17_resultof_vmf__inputtoresult" as="xs:string?">
							<xsl:call-template name="vmf:vmf8_inputtoresult">
								<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var17_resultof_vmf__inputtoresult">
							<code>
								<xsl:attribute name="code" namespace="" select="."/>
								<xsl:attribute name="displayName" namespace="" select="'General Practitioner'"/>
							</code>
						</xsl:for-each>
					</xsl:for-each>
					<addr>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:stat">
							<country>
								<xsl:sequence select="fn:string(.)"/>
							</country>
						</xsl:for-each>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:mesto">
							<city>
								<xsl:sequence select="fn:string(.)"/>
							</city>
						</xsl:for-each>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:psc">
							<postalCode>
								<xsl:sequence select="xs:string(xs:integer(fn:string(.)))"/>
							</postalCode>
						</xsl:for-each>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:adr">
							<streetAddressLine>
								<xsl:sequence select="fn:string(.)"/>
							</streetAddressLine>
						</xsl:for-each>
					</addr>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:as">
						<xsl:variable name="var22_cur" as="node()" select="."/>
						<xsl:variable name="var21_typ_as_string" as="xs:string" select="fn:string(@typ)"/>
						<telecom>
							<xsl:variable name="var18_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf9_inputtoresult">
									<xsl:with-param name="input" select="$var21_typ_as_string" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var18_resultof_vmf__inputtoresult">
								<xsl:variable name="var19_cur" as="xs:string" select="."/>
								<xsl:for-each select="$var22_cur/ns0:obsah">
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat($var19_cur, fn:string(.))))"/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:variable name="var20_resultof_vmf___inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf10_inputtoresult">
									<xsl:with-param name="input" select="$var21_typ_as_string" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var20_resultof_vmf___inputtoresult">
								<xsl:attribute name="use" namespace="" select="."/>
							</xsl:for-each>
						</telecom>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik">
						<assignedPerson>
							<xsl:attribute name="classCode" namespace="" select="'PSN'"/>
							<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
							<name>
								<family>
									<xsl:sequence select="fn:string(ns1:prijmeni)"/>
								</family>
								<xsl:for-each select="ns1:jmeno">
									<given>
										<xsl:sequence select="fn:string(.)"/>
									</given>
								</xsl:for-each>
								<xsl:for-each select="ns1:titul_pred">
									<prefix>
										<xsl:sequence select="fn:string(.)"/>
									</prefix>
								</xsl:for-each>
								<xsl:for-each select="ns1:titul_za">
									<suffix>
										<xsl:sequence select="fn:string(.)"/>
									</suffix>
								</xsl:for-each>
							</name>
						</assignedPerson>
					</xsl:for-each>
					<representedOrganization>
						<xsl:attribute name="classCode" namespace="" select="'ORG'"/>
						<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
						<id>
							<xsl:for-each select="$var71_dasta/ns0:is/@icz">
								<xsl:variable name="var23_resultof_root" as="xs:string?">
									<xsl:call-template name="provisio:root">
										<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var23_resultof_root">
									<xsl:attribute name="root" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:sequence select="$var68_create_extension_of_test_any"/>
						</id>
						<name>
							<xsl:sequence select="$var70_map_of_dasta"/>
						</name>
						<xsl:sequence select="$var62_map_of_dasta"/>
						<addr>
							<xsl:sequence select="$var63_let"/>
						</addr>
					</representedOrganization>
				</assignedAuthor>
			</author>
			<custodian>
				<xsl:attribute name="typeCode" namespace="" select="'CST'"/>
				<assignedCustodian>
					<xsl:attribute name="classCode" namespace="" select="'ASSIGNED'"/>
					<representedCustodianOrganization>
						<xsl:attribute name="classCode" namespace="" select="'ORG'"/>
						<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
						<id>
							<xsl:for-each select="$var71_dasta/ns0:is/@icz">
								<xsl:variable name="var24_resultof_root" as="xs:string?">
									<xsl:call-template name="provisio:root">
										<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var24_resultof_root">
									<xsl:attribute name="root" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:sequence select="$var68_create_extension_of_test_any"/>
						</id>
						<name>
							<xsl:sequence select="$var70_map_of_dasta"/>
						</name>
						<xsl:sequence select="$var62_map_of_dasta"/>
						<addr>
							<xsl:sequence select="$var63_let"/>
						</addr>
					</representedCustodianOrganization>
				</assignedCustodian>
			</custodian>
			<legalAuthenticator>
				<time>
					<xsl:sequence select="$var69_map_of_dasta"/>
				</time>
				<signatureCode>
					<xsl:attribute name="code" namespace="" select="'S'"/>
				</signatureCode>
				<assignedEntity>
					<id>
						<xsl:for-each select="$var71_dasta/ns0:is/@icz">
							<xsl:variable name="var25_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var25_resultof_root">
								<xsl:attribute name="root" namespace="" select="."/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/@id_pracovnik">
							<xsl:attribute name="extension" namespace="" select="fn:string(.)"/>
						</xsl:for-each>
					</id>
					<addr>
						<country>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:stat">
								<xsl:sequence select="fn:string(.)"/>
							</xsl:for-each>
						</country>
						<city>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:mesto">
								<xsl:sequence select="fn:string(.)"/>
							</xsl:for-each>
						</city>
						<postalCode>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:psc">
								<xsl:sequence select="xs:string(xs:integer(fn:string(.)))"/>
							</xsl:for-each>
						</postalCode>
						<streetAddressLine>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns0:a/ns0:adr">
								<xsl:sequence select="fn:string(.)"/>
							</xsl:for-each>
						</streetAddressLine>
					</addr>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z">
						<xsl:variable name="var30_cur" as="node()" select="."/>
						<xsl:for-each select="ns1:p_pracovnik/ns0:a/ns0:as">
							<xsl:variable name="var29_cur" as="node()" select="."/>
							<telecom>
								<xsl:variable name="var26_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf9_inputtoresult">
										<xsl:with-param name="input" select="fn:string(@typ)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var26_resultof_vmf__inputtoresult">
									<xsl:variable name="var27_cur" as="xs:string" select="."/>
									<xsl:for-each select="$var29_cur/ns0:obsah">
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat($var27_cur, fn:string(.))))"/>
									</xsl:for-each>
								</xsl:for-each>
								<xsl:for-each select="$var30_cur/ns1:p_pracoviste/ns0:a/ns0:as">
									<xsl:variable name="var28_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf12_inputtoresult">
											<xsl:with-param name="input" select="fn:string(@typ)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var28_resultof_vmf___inputtoresult">
										<xsl:attribute name="use" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
							</telecom>
						</xsl:for-each>
					</xsl:for-each>
					<assignedPerson>
						<xsl:attribute name="classCode" namespace="" select="'PSN'"/>
						<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
						<name>
							<family>
								<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik">
									<xsl:sequence select="fn:string(ns1:prijmeni)"/>
								</xsl:for-each>
							</family>
							<given>
								<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns1:jmeno">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</given>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns1:titul_pred">
								<prefix>
									<xsl:sequence select="fn:string(.)"/>
								</prefix>
							</xsl:for-each>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracovnik/ns1:titul_za">
								<suffix>
									<xsl:sequence select="fn:string(.)"/>
								</suffix>
							</xsl:for-each>
						</name>
					</assignedPerson>
					<representedOrganization>
						<xsl:attribute name="classCode" namespace="" select="'ORG'"/>
						<xsl:attribute name="determinerCode" namespace="" select="'INSTANCE'"/>
						<id>
							<xsl:for-each select="$var71_dasta/ns0:is/@icz">
								<xsl:variable name="var31_resultof_root" as="xs:string?">
									<xsl:call-template name="provisio:root">
										<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var31_resultof_root">
									<xsl:attribute name="root" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:sequence select="$var68_create_extension_of_test_any"/>
						</id>
						<name>
							<xsl:sequence select="$var70_map_of_dasta"/>
						</name>
						<xsl:sequence select="$var62_map_of_dasta"/>
						<addr>
							<country>
								<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:p_pracoviste/ns0:a/ns0:stat">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</country>
							<xsl:sequence select="$var65_map_of_dasta"/>
							<xsl:sequence select="$var64_map_of_dasta"/>
							<xsl:sequence select="$var66_map_of_dasta"/>
						</addr>
					</representedOrganization>
				</assignedEntity>
			</legalAuthenticator>
			<participant>
				<xsl:attribute name="typeCode" namespace="" select="'IND'"/>
				<templateId>
					<xsl:attribute name="root" namespace="" select="'1.3.6.1.4.1.19376.1.5.3.1.2.4'"/>
				</templateId>
				<functionCode>
					<xsl:attribute name="code" namespace="" select="'PCP'"/>
					<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.88'"/>
				</functionCode>
				<associatedEntity>
					<xsl:attribute name="classCode" namespace="" select="'NOK'"/>
					<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:jazyk/ns0:a">
						<xsl:variable name="var32_cur" as="node()" select="."/>
						<xsl:for-each select="ns0:k_osoba_klic">
							<code>
								<xsl:attribute name="code" namespace="" select="fn:string(.)"/>
								<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.111'"/>
								<xsl:for-each select="$var32_cur/ns0:k_osoba_text">
									<xsl:attribute name="displayName" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</code>
						</xsl:for-each>
					</xsl:for-each>
					<addr>
						<xsl:attribute name="nullFlavor" namespace="" select="'NI'"/>
					</addr>
					<telecom>
						<xsl:attribute name="nullFlavor" namespace="" select="'NI'"/>
					</telecom>
				</associatedEntity>
			</participant>
			<documentationOf>
				<xsl:attribute name="typeCode" namespace="" select="'DOC'"/>
				<serviceEvent>
					<xsl:attribute name="classCode" namespace="" select="'PCPR'"/>
					<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
					<id>
						<xsl:for-each select="$var71_dasta/ns0:is/@icz">
							<xsl:variable name="var33_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var33_resultof_root">
								<xsl:attribute name="root" namespace="" select="."/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:attribute name="extension" namespace="" select="'ServiceEvent'"/>
					</id>
					<code>
						<xsl:attribute name="code" namespace="" select="'PCPR'"/>
						<xsl:attribute name="codeSystem" namespace="" select="'2.16.840.1.113883.5.4'"/>
						<xsl:attribute name="displayName" namespace="" select="'Care provision'"/>
					</code>
					<effectiveTime>
						<high>
							<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z">
								<xsl:attribute name="value" namespace="" select="format-dateTime(xs:dateTime(fn:string(ns1:dat_prov)), '[Y][M,2][D,2]')"/>
							</xsl:for-each>
						</high>
					</effectiveTime>
				</serviceEvent>
			</documentationOf>
			<relatedDocument>
				<xsl:attribute name="typeCode" namespace="" select="'XFRM'"/>
				<parentDocument>
					<xsl:attribute name="classCode" namespace="" select="'DOCCLIN'"/>
					<xsl:attribute name="moodCode" namespace="" select="'EVN'"/>
					<id>
						<xsl:for-each select="$var71_dasta/ns0:is/@icz">
							<xsl:variable name="var34_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var34_resultof_root">
								<xsl:attribute name="root" namespace="" select="."/>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$var71_dasta/@ozn_soub">
							<xsl:attribute name="extension" namespace="" select="fn:string(.)"/>
						</xsl:for-each>
					</id>
				</parentDocument>
			</relatedDocument>
			<component>
				<structuredBody>
					<xsl:attribute name="classCode" namespace="" select="'DOCBODY'"/>
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:variable name="var36_resultof_root" as="xs:string?">
							<xsl:call-template name="provisio:root">
								<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var36_resultof_root">
							<xsl:variable name="var35_resultof_eHDSI_Immunizations" as="node()*">
								<xsl:call-template name="provisio:eHDSI_Immunizations">
									<xsl:with-param name="oc" as="node()*">
										<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:oc">
											<ocType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
												<xsl:sequence select="(./@node(), ./node())"/>
											</ocType>
										</xsl:for-each>
									</xsl:with-param>
									<xsl:with-param name="root" select="." as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var35_resultof_eHDSI_Immunizations">
								<component>
									<xsl:sequence select="(./@node(), ./node())"/>
								</component>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:variable name="var38_resultof_root" as="xs:string?">
							<xsl:call-template name="provisio:root">
								<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var38_resultof_root">
							<xsl:variable name="var37_resultof_eHDSI_Health_Maintenance_Care_Plan" as="node()*">
								<xsl:call-template name="provisio:eHDSI_Health_Maintenance_Care_Plan">
									<xsl:with-param name="ldType" as="node()*">
										<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:ld">
											<ldType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
												<xsl:sequence select="(./@node(), ./node())"/>
											</ldType>
										</xsl:for-each>
									</xsl:with-param>
									<xsl:with-param name="root" select="." as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var37_resultof_eHDSI_Health_Maintenance_Care_Plan">
								<component>
									<xsl:sequence select="(./@node(), ./node())"/>
								</component>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:variable name="var40_resultof_root" as="xs:string?">
							<xsl:call-template name="provisio:root">
								<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var40_resultof_root">
							<xsl:variable name="var39_resultof_eHDSI_Functional_Status" as="node()*">
								<xsl:call-template name="provisio:eHDSI_Functional_Status">
									<xsl:with-param name="fsType" as="node()*">
										<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:fs">
											<fsType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
												<xsl:sequence select="(./@node(), ./node())"/>
											</fsType>
										</xsl:for-each>
									</xsl:with-param>
									<xsl:with-param name="root" select="." as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var39_resultof_eHDSI_Functional_Status">
								<component>
									<xsl:sequence select="(./@node(), ./node())"/>
								</component>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:variable name="var42_resultof_root" as="xs:string?">
							<xsl:call-template name="provisio:root">
								<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var42_resultof_root">
							<xsl:variable name="var41_resultof_eHDSI_Social_History" as="node()*">
								<xsl:call-template name="provisio:eHDSI_Social_History">
									<xsl:with-param name="anfType" as="node()*">
										<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:anf">
											<anfType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
												<xsl:sequence select="(./@node(), ./node())"/>
											</anfType>
										</xsl:for-each>
									</xsl:with-param>
									<xsl:with-param name="root" select="." as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var41_resultof_eHDSI_Social_History">
								<component>
									<xsl:sequence select="(./@node(), ./node())"/>
								</component>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is">
						<xsl:variable name="var48_cur" as="node()" select="."/>
						<xsl:for-each select="ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:grav">
							<xsl:variable name="var47_cur" as="node()" select="."/>
							<xsl:variable name="var46_cur_of_icz" as="xs:string?">
								<xsl:for-each select="$var48_cur/@icz">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</xsl:variable>
							<xsl:variable name="var43_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="$var46_cur_of_icz" as="xs:string?"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var43_resultof_root">
								<xsl:variable name="var44_resultof_root" as="xs:string?">
									<xsl:call-template name="provisio:root">
										<xsl:with-param name="ICZ" select="$var46_cur_of_icz" as="xs:string?"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var44_resultof_root">
									<xsl:variable name="var45_resultof_eHDSI_Pregnancy_History" as="node()*">
										<xsl:call-template name="provisio:eHDSI_Pregnancy_History">
											<xsl:with-param name="gravType" as="node()">
												<gravType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
													<xsl:sequence select="($var47_cur/@node(), $var47_cur/node())"/>
												</gravType>
											</xsl:with-param>
											<xsl:with-param name="root" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var45_resultof_eHDSI_Pregnancy_History">
										<component>
											<xsl:sequence select="(./@node(), ./node())"/>
										</component>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is">
						<xsl:variable name="var54_cur" as="node()" select="."/>
						<xsl:for-each select="ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:h">
							<xsl:variable name="var53_cur" as="node()" select="."/>
							<xsl:variable name="var52_cur_of_icz" as="xs:string?">
								<xsl:for-each select="$var54_cur/@icz">
									<xsl:sequence select="fn:string(.)"/>
								</xsl:for-each>
							</xsl:variable>
							<xsl:variable name="var49_resultof_root" as="xs:string?">
								<xsl:call-template name="provisio:root">
									<xsl:with-param name="ICZ" select="$var52_cur_of_icz" as="xs:string?"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var49_resultof_root">
								<xsl:variable name="var50_resultof_root" as="xs:string?">
									<xsl:call-template name="provisio:root">
										<xsl:with-param name="ICZ" select="$var52_cur_of_icz" as="xs:string?"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var50_resultof_root">
									<xsl:variable name="var51_resultof_eHDSI_Vital_Signs" as="node()*">
										<xsl:call-template name="provisio:eHDSI_Vital_Signs">
											<xsl:with-param name="fyznalType" as="node()*">
												<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:fyznal">
													<fyznalType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
														<xsl:sequence select="(./@node(), ./node())"/>
													</fyznalType>
												</xsl:for-each>
											</xsl:with-param>
											<xsl:with-param name="hType" as="node()">
												<hType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
													<xsl:sequence select="($var53_cur/@node(), $var53_cur/node())"/>
												</hType>
											</xsl:with-param>
											<xsl:with-param name="root" select="." as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var51_resultof_eHDSI_Vital_Signs">
										<component>
											<xsl:sequence select="(./@node(), ./node())"/>
										</component>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns0:is/@icz">
						<xsl:variable name="var56_resultof_root" as="xs:string?">
							<xsl:call-template name="provisio:root">
								<xsl:with-param name="ICZ" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var56_resultof_root">
							<xsl:variable name="var55_resultof_eHDSI_Coded_Results" as="node()*">
								<xsl:call-template name="provisio:eHDSI_Coded_Results">
									<xsl:with-param name="uksType" as="node()*">
										<xsl:for-each select="$var71_dasta/ns0:is/ns1:ip/ns1:ku/ns1:ku_z/ns1:ku_z_patsumdat/ns1:u/ns1:uks">
											<uksType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
												<xsl:sequence select="(./@node(), ./node())"/>
											</uksType>
										</xsl:for-each>
									</xsl:with-param>
									<xsl:with-param name="root" select="." as="xs:string"/>
									<xsl:with-param name="ku_z_labType" as="node()">
										<ku_z_labType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
											<xsl:sequence select="()"/>
										</ku_z_labType>
									</xsl:with-param>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var55_resultof_eHDSI_Coded_Results">
								<component>
									<xsl:sequence select="(./@node(), ./node())"/>
								</component>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<xsl:for-each select="$var71_dasta/ns2:ClinicalDocument/ns2:component/ns2:structuredBody/ns2:component">
						<component>
							<xsl:sequence select="(./@node(), ./node())"/>
						</component>
					</xsl:for-each>
				</structuredBody>
			</component>
		</ClinicalDocument>
	</xsl:template>
</xsl:stylesheet>