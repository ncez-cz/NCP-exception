<?xml version="1.0" encoding="UTF-8"?>
<!--
This file was generated by Altova MapForce 2024r2sp1

YOU SHOULD NOT MODIFY THIS FILE, BECAUSE IT WILL BE
OVERWRITTEN WHEN YOU RE-RUN CODE GENERATION.

Refer to the Altova MapForce Documentation for further details.
http://www.altova.com/mapforce
-->
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ns0="http://hl7.org/fhir" xmlns:provisio="http://www.altova.com/MapForce/UDF/provisio" xmlns:tbf="http://www.altova.com/MapForce/UDF/tbf" xmlns:vmf="http://www.altova.com/MapForce/UDF/vmf" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:ns1="urn:cz-mzcr:ns:dasta:ds4:ds_dasta" xmlns:ns2="urn:cz-mzcr:ns:dasta:ds4:ds_ip" exclude-result-prefixes="ns0 provisio tbf vmf xs fn ns1 ns2">
	<xsl:template name="provisio:FullURL_Organization">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Organization/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:is">
		<xsl:param name="is" select="()"/>
		<xsl:for-each select="$is">
			<xsl:variable name="var4_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var4_guid">
					<xsl:for-each select="$var4_guid">
						<xsl:variable name="var1_resultof_FullURL_Organization" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Organization">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Organization">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Organization>
						<xsl:for-each select="$var4_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
						</meta>
						<xsl:for-each select="@ico">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/ico'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@icz">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/icz'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@icp">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/icp'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@icl">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/icl'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@pcz">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/pcz'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@oddel">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/oddel'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@oavl">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/oavl'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<active>
							<xsl:attribute name="value" namespace="" select="xs:string(fn:true())"/>
						</active>
						<xsl:for-each select="ns1:a">
							<xsl:variable name="var3_cur" as="node()" select="."/>
							<address>
								<use>
									<xsl:attribute name="value" namespace="" select="'work'"/>
								</use>
								<text>
									<xsl:for-each select="ns1:jmeno">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</text>
								<xsl:for-each select="ns1:adr">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:dop1">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:dop2">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:mesto">
									<city>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</city>
								</xsl:for-each>
								<xsl:for-each select="ns1:psc">
									<postalCode>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
									</postalCode>
								</xsl:for-each>
								<xsl:for-each select="ns1:stat">
									<xsl:variable name="var2_cur" as="node()" select="."/>
									<xsl:for-each select="$var3_cur/ns1:stat_text">
										<country>
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(fn:string($var2_cur), ' - '), fn:string(.))"/>
										</country>
									</xsl:for-each>
								</xsl:for-each>
							</address>
						</xsl:for-each>
					</Organization>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:h">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="hType" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$hType">
			<xsl:variable name="var2_cur" as="node()" select="."/>
			<xsl:for-each select="@vyska">
				<xsl:variable name="var1_guid_vyska" as="node()?" select="$var2_cur/@guid_vyska"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var1_guid_vyska">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var1_guid_vyska">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var2_cur/@vguid_vyska">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-height-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'8302-2'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Body height'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$var2_cur/ns2:autor">
								<performer>
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</code>
							</valueQuantity>
							<xsl:for-each select="$var2_cur/ns2:pozn">
								<note>
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</note>
							</xsl:for-each>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$hType">
			<xsl:variable name="var4_cur" as="node()" select="."/>
			<xsl:for-each select="@hmotnost">
				<xsl:variable name="var3_guid_hmotnost" as="node()?" select="$var4_cur/@guid_hmotnost"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var3_guid_hmotnost">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var3_guid_hmotnost">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var4_cur/@vguid_hmotnost">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-weight-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'29463-7'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Body weight'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$var4_cur/ns2:autor">
								<performer>
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:decimal(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'kg'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'kg'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$hType">
			<xsl:variable name="var6_cur" as="node()" select="."/>
			<xsl:for-each select="@bmi">
				<xsl:variable name="var5_guid_bmi" as="node()?" select="$var6_cur/@guid_bmi"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var5_guid_bmi">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var5_guid_bmi">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var6_cur/@vguid_bmi">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-BMI-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'39156-5'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Body mass index (BMI) [Ratio]'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$var6_cur/ns2:autor">
								<performer>
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:decimal(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'kg/m2'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'kg/m2'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$hType">
			<xsl:variable name="var8_cur" as="node()" select="."/>
			<xsl:for-each select="@o_hlava">
				<xsl:variable name="var7_guid_o_hlava" as="node()?" select="$var8_cur/@guid_o_hlava"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var7_guid_o_hlava">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var7_guid_o_hlava">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var8_cur/@vguid_o_hlava">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-headCircumference-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'8287-5'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Head Occipital-frontal circumference by Tape measure'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$var8_cur/ns2:autor">
								<performer>
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$hType">
			<xsl:variable name="var10_cur" as="node()" select="."/>
			<xsl:for-each select="@o_hrudnik">
				<xsl:variable name="var9_guid_o_hrudnik" as="node()?" select="$var10_cur/@guid_o_hrudnik"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var9_guid_o_hrudnik">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var9_guid_o_hrudnik">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var10_cur/@vguid_o_hrudnik">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-chestCircumference-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'8280-0'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Waist Circumference at umbilicus by Tape measure'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$var10_cur/ns2:autor">
								<performer>
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$hType">
			<xsl:variable name="var12_cur" as="node()" select="."/>
			<xsl:for-each select="@o_pas">
				<xsl:variable name="var11_guid_o_pas" as="node()?" select="$var12_cur/@guid_o_pas"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var11_guid_o_pas">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var11_guid_o_pas">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var12_cur/@vguid_o_pas">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-abdominalCircumference-hdr'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'56086-2'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Adult Waist Circumference Protocol'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'cm'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:h_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="ip_h" select="()"/>
		<xsl:param name="patsumdat_h" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var4_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var3_create_dat_prov_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_prov xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_prov>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_h" as="node()*">
			<xsl:call-template name="provisio:h">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="hType" as="node()+">
					<xsl:for-each select="$ip_h">
						<hType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</hType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_h">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_h" as="node()*">
			<xsl:call-template name="provisio:h">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="hType" as="node()+">
					<xsl:for-each select="$patsumdat_h">
						<hType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</hType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_h">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:Composition_EU_PS">
		<xsl:param name="HDRdate" select="()"/>
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="sectionMedications_le" select="()"/>
		<xsl:param name="sectionAllergies_ua" select="()"/>
		<xsl:param name="sectionFunctionalStatus_fs" select="()"/>
		<xsl:param name="sectionPlanOfCare_ld" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="sectionProceduresHx_chv" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="sectionImmunizations_oc" select="()"/>
		<xsl:param name="sectionVitalSigns_h" select="()"/>
		<xsl:param name="sectionVitalSigns_fyznal" select="()"/>
		<xsl:param name="sectionResults_uks" select="()"/>
		<xsl:param name="sectionResults_an" select="()"/>
		<xsl:param name="sectionPregnancyHx_grav" select="()"/>
		<xsl:param name="sectionMedicalDevices_uniz" select="()"/>
		<xsl:param name="sectionAlert_urf_utm_uot" select="()"/>
		<xsl:param name="sectionProblems_anf_anam_prob" select="()"/>
		<xsl:param name="sectionSocialHistory_anf_rao" select="()"/>
		<xsl:param name="sectionSocialHistory_anf_inf_infc_sa" select="()"/>
		<xsl:param name="sectionProblems_dg" select="()"/>
		<xsl:variable name="var1_http___loinc_org_as_string" as="xs:string" select="xs:string(xs:anyURI('http://loinc.org'))"/>
		<entry xmlns="http://hl7.org/fhir">
			<resource>
				<Composition>
					<status>
						<xsl:attribute name="value" namespace="" select="'final'"/>
					</status>
					<type>
						<coding>
							<system>
								<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
							</system>
							<code>
								<xsl:attribute name="value" namespace="" select="'60591-5'"/>
							</code>
						</coding>
					</type>
					<subject>
						<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
					</subject>
					<date>
						<xsl:if test="fn:exists($HDRdate)">
							<xsl:attribute name="value" namespace="" select="$HDRdate"/>
						</xsl:if>
					</date>
					<xsl:for-each select="$practitionerReference">
						<author>
							<reference>
								<xsl:attribute name="value" namespace="" select="."/>
							</reference>
						</author>
					</xsl:for-each>
					<title>
						<xsl:attribute name="value" namespace="" select="'Patient Summary'"/>
					</title>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Problems section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'11450-4'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionProblems_anf_anam_prob">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
						<xsl:for-each select="$sectionProblems_dg">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Allergies section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'48765-2'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionAllergies_ua">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Medication section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'10160-0'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionMedications_le">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Immunizations section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'11369-6'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionImmunizations_oc">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Results section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'30954-2'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionResults_uks">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
						<xsl:for-each select="$sectionResults_an">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'ProceduresHx section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'47519-4'"/>
								</code>
							</coding>
							<text>
								<xsl:attribute name="value" namespace="" select="'ProceduresHx section'"/>
							</text>
						</code>
						<xsl:for-each select="$sectionProceduresHx_chv">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'MedicalDevices section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'46264-8'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionMedicalDevices_uniz">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'AdvanceDirectives section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'42348-3'"/>
								</code>
							</coding>
						</code>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'Alerts section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'104605-1'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionAlert_urf_utm_uot">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'FunctionalStatus section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'47420-5'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionFunctionalStatus_fs">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'PastIllnessHx section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'11348-0'"/>
								</code>
							</coding>
						</code>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'PatientStory section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'81338-6'"/>
								</code>
							</coding>
						</code>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'PregnancyHx section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'10162-6'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionPregnancyHx_grav">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'PlanOfCare section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'18776-5'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionPlanOfCare_ld">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'SocialHistory section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'29762-2'"/>
								</code>
							</coding>
							<text>
								<xsl:attribute name="value" namespace="" select="'SocialHistory section'"/>
							</text>
						</code>
						<xsl:for-each select="$sectionSocialHistory_anf_rao">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
						<xsl:for-each select="$sectionSocialHistory_anf_inf_infc_sa">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
					<section>
						<title>
							<xsl:attribute name="value" namespace="" select="'VitalSigns section'"/>
						</title>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="$var1_http___loinc_org_as_string"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'8716-3'"/>
								</code>
							</coding>
						</code>
						<xsl:for-each select="$sectionVitalSigns_h">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
						<xsl:for-each select="$sectionVitalSigns_fyznal">
							<entry>
								<xsl:sequence select="(./@node(), ./node())"/>
							</entry>
						</xsl:for-each>
					</section>
				</Composition>
			</resource>
		</entry>
	</xsl:template>
	<xsl:template name="provisio:FullURL_AllergyIntolerance">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('AllergyIntolerance/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:ua">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="uaType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$uaType">
			<xsl:variable name="var13_cur" as="node()" select="."/>
			<xsl:variable name="var11_dat_ab" as="node()?" select="@dat_ab"/>
			<xsl:variable name="var12_uaf" as="node()*" select="ns2:uaf"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var12_uaf/@guid">
					<xsl:variable name="var1_resultof_FullURL_AllergyIntolerance" as="xs:string?">
						<xsl:call-template name="provisio:FullURL_AllergyIntolerance">
							<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var1_resultof_FullURL_AllergyIntolerance">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
						</fullUrl>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<AllergyIntolerance>
						<xsl:for-each select="$var12_uaf/@guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="$var12_uaf/@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-allergyIntolerance-hdr'))"/>
							</profile>
						</meta>
						<clinicalStatus>
							<xsl:for-each select="ns2:stav">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical'))"/>
									</system>
									<xsl:variable name="var2_resultof_vmf__inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf1_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<code>
										<xsl:for-each select="$var2_resultof_vmf__inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</code>
								</coding>
							</xsl:for-each>
						</clinicalStatus>
						<verificationStatus>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/allergyintolerance-verification'))"/>
								</system>
								<code>
									<xsl:for-each select="@typ">
										<xsl:variable name="var3_resultof_vmf__inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf2_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var3_resultof_vmf__inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</code>
							</coding>
						</verificationStatus>
						<xsl:for-each select="$var12_uaf/@typ_reakce">
							<xsl:variable name="var4_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf3_inputtoresult">
									<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<type>
								<xsl:for-each select="$var4_resultof_vmf__inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</type>
						</xsl:for-each>
						<xsl:for-each select="$var12_uaf/@typ_agens">
							<xsl:variable name="var5_resultof_vmf__inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf4_inputtoresult">
									<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<category>
								<xsl:for-each select="$var5_resultof_vmf__inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</category>
						</xsl:for-each>
						<criticality>
							<xsl:for-each select="$var12_uaf/@szp_klic">
								<xsl:variable name="var6_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf5_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var6_resultof_vmf__inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
						</criticality>
						<code>
							<xsl:for-each select="$var12_uaf">
								<xsl:variable name="var7_cur" as="node()" select="."/>
								<xsl:for-each select="ns2:alerg_lek_klic">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<xsl:for-each select="$var7_cur/ns2:alerg_text">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:for-each select="$var12_uaf">
								<xsl:variable name="var8_cur" as="node()" select="."/>
								<xsl:for-each select="ns2:alerg_nelek_klic">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<xsl:for-each select="$var8_cur/ns2:alerg_text">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:for-each select="ns2:u_al">
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</xsl:for-each>
						</code>
						<patient>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</patient>
						<xsl:for-each select="ns2:dat_du">
							<onsetPeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var13_cur/ns2:dat_up">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</onsetPeriod>
						</xsl:for-each>
						<xsl:variable name="var9_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var11_dat_ab)">
									<xsl:sequence select="xs:string(xs:dateTime(fn:string($var11_dat_ab)))"/>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var9_test_resultof_exists">
							<recordedDate>
								<xsl:attribute name="value" namespace="" select="."/>
							</recordedDate>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<recorder>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</recorder>
						</xsl:for-each>
						<xsl:for-each select="$var12_uaf">
							<xsl:variable name="var10_cur" as="node()" select="."/>
							<xsl:for-each select="@ar_klic">
								<reaction>
									<manifestation>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</code>
											<display>
												<xsl:for-each select="$var10_cur/@ar_text">
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
											</display>
										</coding>
									</manifestation>
								</reaction>
							</xsl:for-each>
						</xsl:for-each>
					</AllergyIntolerance>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:uot">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="uotType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$uotType">
			<xsl:variable name="var3_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var4_dat_ab" as="node()?" select="@dat_ab"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var3_guid">
					<xsl:for-each select="$var3_guid">
						<xsl:variable name="var1_resultof_FullURL_Flag" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Flag">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Flag">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Flag>
						<xsl:for-each select="$var3_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
								<xsl:choose>
									<xsl:when test="fn:exists($var4_dat_ab)">
										<xsl:sequence select="xs:string(xs:dateTime(fn:string($var4_dat_ab)))"/>
									</xsl:when>
									<xsl:otherwise>
										<xsl:for-each select="$dat_ab">
											<xsl:sequence select="fn:string(.)"/>
										</xsl:for-each>
									</xsl:otherwise>
								</xsl:choose>
							</xsl:variable>
							<xsl:for-each select="$var2_test_resultof_exists">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(.))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-flag-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'active'"/>
						</status>
						<code>
							<text>
								<xsl:attribute name="value" namespace="" select="'Okovn proti tetanu'"/>
							</text>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="ns2:dat_du">
							<period>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
							</period>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<author>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</author>
						</xsl:for-each>
					</Flag>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:urf">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="urfType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$urfType">
			<xsl:variable name="var7_cur" as="node()" select="."/>
			<xsl:variable name="var5_urff" as="node()*" select="ns2:urff"/>
			<xsl:variable name="var6_dat_ab" as="node()?" select="@dat_ab"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var5_urff/@guid">
					<xsl:variable name="var1_resultof_FullURL_Flag" as="xs:string?">
						<xsl:call-template name="provisio:FullURL_Flag">
							<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
						</xsl:call-template>
					</xsl:variable>
					<xsl:for-each select="$var1_resultof_FullURL_Flag">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
						</fullUrl>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Flag>
						<xsl:for-each select="$var5_urff/@guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="$var5_urff/@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
								<xsl:choose>
									<xsl:when test="fn:exists($var6_dat_ab)">
										<xsl:sequence select="xs:string(xs:dateTime(fn:string($var6_dat_ab)))"/>
									</xsl:when>
									<xsl:otherwise>
										<xsl:for-each select="$dat_ab">
											<xsl:sequence select="fn:string(.)"/>
										</xsl:for-each>
									</xsl:otherwise>
								</xsl:choose>
							</xsl:variable>
							<xsl:for-each select="$var2_test_resultof_exists">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(.))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-flag-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:for-each select="@typ">
								<xsl:variable name="var3_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf6_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var3_resultof_vmf__inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
						</status>
						<code>
							<xsl:for-each select="$var5_urff">
								<xsl:variable name="var4_cur" as="node()" select="."/>
								<xsl:for-each select="@rf_klic">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/sid/icd-10'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<xsl:for-each select="$var4_cur/@rf_text">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:for-each select="$var5_urff/@info_text">
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</xsl:for-each>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="ns2:dat_du">
							<period>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var7_cur/ns2:dat_up">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</period>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<author>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</author>
						</xsl:for-each>
					</Flag>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:uks">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="uksType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$uksType">
			<xsl:variable name="var10_cur" as="node()" select="."/>
			<xsl:variable name="var7_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var8_dat_ab" as="node()?" select="@dat_ab"/>
			<xsl:variable name="var9_ks_rh" as="node()*" select="ns2:ks_rh"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var7_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var7_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://www.dastacr.cz/dasta/hypertext/DSAJQ.htm'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'PKS'"/>
								</code>
								<display>
									<xsl:attribute name="value" namespace="" select="'Krevn skupina - popis'"/>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var1_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var8_dat_ab)">
									<xsl:sequence select="xs:string(xs:dateTime(fn:string($var8_dat_ab)))"/>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var1_test_resultof_exists">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="."/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:variable name="var3_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var9_ks_rh)">
									<xsl:for-each select="$var9_ks_rh">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="ns2:krevskup">
										<xsl:variable name="var2_cur" as="node()" select="."/>
										<xsl:for-each select="$var10_cur/ns2:rh">
											<xsl:sequence select="fn:concat(fn:string($var2_cur), fn:string(.))"/>
										</xsl:for-each>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var3_test_resultof_exists">
							<xsl:variable name="var6_ks_rh_text" as="node()*" select="$var10_cur/ns2:ks_rh_text"/>
							<valueCodeableConcept>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/DSAIR.htm'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="."/>
									</code>
									<xsl:variable name="var4_test_resultof_exists" as="xs:string+">
										<xsl:choose>
											<xsl:when test="fn:exists($var6_ks_rh_text)">
												<xsl:for-each select="$var6_ks_rh_text">
													<xsl:sequence select="fn:string(.)"/>
												</xsl:for-each>
											</xsl:when>
											<xsl:otherwise>
												<xsl:sequence select="."/>
											</xsl:otherwise>
										</xsl:choose>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var4_test_resultof_exists">
											<xsl:variable name="var5_resultof_vmf__inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf7_inputtoresult">
													<xsl:with-param name="input" select="." as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<xsl:for-each select="$var5_resultof_vmf__inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</xsl:for-each>
									</display>
								</coding>
							</valueCodeableConcept>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Flag">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Flag/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:utm">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="utmType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$utmType">
			<xsl:variable name="var3_dat_ab" as="node()?" select="@dat_ab"/>
			<xsl:variable name="var4_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var4_guid">
					<xsl:for-each select="$var4_guid">
						<xsl:variable name="var1_resultof_FullURL_Flag" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Flag">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Flag">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Flag>
						<xsl:for-each select="$var4_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
								<xsl:choose>
									<xsl:when test="fn:exists($var3_dat_ab)">
										<xsl:sequence select="xs:string(xs:dateTime(fn:string($var3_dat_ab)))"/>
									</xsl:when>
									<xsl:otherwise>
										<xsl:for-each select="$dat_ab">
											<xsl:sequence select="fn:string(.)"/>
										</xsl:for-each>
									</xsl:otherwise>
								</xsl:choose>
							</xsl:variable>
							<xsl:for-each select="$var2_test_resultof_exists">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(.))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-flag-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'active'"/>
						</status>
						<code>
							<text>
								<xsl:for-each select="ns2:u_tm">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</text>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="ns2:dat_du">
							<period>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
							</period>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<author>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</author>
						</xsl:for-each>
					</Flag>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Device">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Device/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:FullURL_DeviceUseStatement">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('DeviceUseStatement/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:uniz">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="unizType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$unizType">
			<xsl:variable name="var6_cur" as="node()" select="."/>
			<xsl:variable name="var4_dat_ab" as="node()?" select="@dat_ab"/>
			<xsl:variable name="var5_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var5_guid">
					<xsl:for-each select="$var5_guid">
						<xsl:variable name="var1_resultof_FullURL_DeviceUseStatement" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_DeviceUseStatement">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_DeviceUseStatement">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<DeviceUseStatement>
						<xsl:for-each select="$var5_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
								<xsl:choose>
									<xsl:when test="fn:exists($var4_dat_ab)">
										<xsl:sequence select="xs:string(xs:dateTime(fn:string($var4_dat_ab)))"/>
									</xsl:when>
									<xsl:otherwise>
										<xsl:for-each select="$dat_ab">
											<xsl:sequence select="fn:string(.)"/>
										</xsl:for-each>
									</xsl:otherwise>
								</xsl:choose>
							</xsl:variable>
							<xsl:for-each select="$var2_test_resultof_exists">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(.))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/uv/ips/StructureDefinition/DeviceUseStatement-uv-ips'))"/>
							</profile>
						</meta>
						<status>
							<xsl:for-each select="@typ">
								<xsl:variable name="var3_resultof_vmf__inputtoresult" as="xs:string?">
									<xsl:call-template name="vmf:vmf8_inputtoresult">
										<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
									</xsl:call-template>
								</xsl:variable>
								<xsl:for-each select="$var3_resultof_vmf__inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</xsl:for-each>
						</status>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="ns2:dat_du">
							<timingPeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var6_cur/ns2:dat_up">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</timingPeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<source>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</source>
						</xsl:for-each>
						<device>
							<reference>
								<xsl:for-each select="ns2:unizf/@guid">
									<xsl:attribute name="value" namespace="" select="fn:concat('Device/', fn:string(.))"/>
								</xsl:for-each>
							</reference>
						</device>
					</DeviceUseStatement>
				</resource>
			</entry>
		</xsl:for-each>
		<xsl:for-each select="$unizType">
			<xsl:variable name="var12_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:unizf">
				<xsl:variable name="var10_guid" as="node()?" select="@guid"/>
				<xsl:variable name="var11_dat_ab" as="node()?" select="$var12_cur/@dat_ab"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var10_guid">
						<xsl:for-each select="$var10_guid">
							<xsl:variable name="var7_resultof_FullURL_Device" as="xs:string?">
								<xsl:call-template name="provisio:FullURL_Device">
									<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var7_resultof_FullURL_Device">
								<fullUrl>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
								</fullUrl>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<resource>
						<Device>
							<xsl:for-each select="$var10_guid">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="@vguid">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<xsl:variable name="var8_test_resultof_exists" as="xs:string*">
									<xsl:choose>
										<xsl:when test="fn:exists($var11_dat_ab)">
											<xsl:sequence select="xs:string(xs:dateTime(fn:string($var11_dat_ab)))"/>
										</xsl:when>
										<xsl:otherwise>
											<xsl:for-each select="$dat_ab">
												<xsl:sequence select="fn:string(.)"/>
											</xsl:for-each>
										</xsl:otherwise>
									</xsl:choose>
								</xsl:variable>
								<xsl:for-each select="$var8_test_resultof_exists">
									<lastUpdated>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(.))"/>
									</lastUpdated>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/core/StructureDefinition/cz-medical-device'))"/>
								</profile>
							</meta>
							<status>
								<xsl:for-each select="$var12_cur/@typ">
									<xsl:variable name="var9_resultof_vmf__inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf8_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var9_resultof_vmf__inputtoresult">
										<xsl:attribute name="value" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
							</status>
							<xsl:for-each select="@niz_ident">
								<modelNumber>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</modelNumber>
							</xsl:for-each>
							<type>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
									</system>
									<code>
										<xsl:for-each select="@niz_klic">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<display>
										<xsl:for-each select="@niz_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</type>
						</Device>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:u_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_u" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="patsumdat_u" select="()"/>
		<xsl:variable name="var14_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var13_create_dat_ab_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_ab>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_ua" as="node()*">
			<xsl:call-template name="provisio:ua">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uaType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:ua">
						<uaType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uaType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_ua">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_urf" as="node()*">
			<xsl:call-template name="provisio:urf">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="urfType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:urf">
						<urfType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</urfType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_urf">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var3_resultof_uniz" as="node()*">
			<xsl:call-template name="provisio:uniz">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="unizType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:uniz">
						<unizType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</unizType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var3_resultof_uniz">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var4_resultof_utm" as="node()*">
			<xsl:call-template name="provisio:utm">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="utmType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:utm">
						<utmType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</utmType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var4_resultof_utm">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var5_resultof_uks" as="node()*">
			<xsl:call-template name="provisio:uks">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uksType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:uks">
						<uksType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uksType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var5_resultof_uks">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var6_resultof_uot" as="node()*">
			<xsl:call-template name="provisio:uot">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uotType" as="node()*">
					<xsl:for-each select="$ip_u/ns2:uot">
						<uotType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uotType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var6_resultof_uot">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var7_resultof_ua" as="node()*">
			<xsl:call-template name="provisio:ua">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uaType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:ua">
						<uaType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uaType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var7_resultof_ua">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var8_resultof_urf" as="node()*">
			<xsl:call-template name="provisio:urf">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="urfType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:urf">
						<urfType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</urfType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var8_resultof_urf">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var9_resultof_uniz" as="node()*">
			<xsl:call-template name="provisio:uniz">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="unizType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:uniz">
						<unizType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</unizType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var9_resultof_uniz">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var10_resultof_utm" as="node()*">
			<xsl:call-template name="provisio:utm">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="utmType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:utm">
						<utmType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</utmType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var10_resultof_utm">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var11_resultof_uks" as="node()*">
			<xsl:call-template name="provisio:uks">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uksType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:uks">
						<uksType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uksType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var11_resultof_uks">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var12_resultof_uot" as="node()*">
			<xsl:call-template name="provisio:uot">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var14_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="uotType" as="node()*">
					<xsl:for-each select="$patsumdat_u/ns2:uot">
						<uotType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</uotType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var13_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var12_resultof_uot">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Procedure">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Procedure/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:chv">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="chvType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$chvType">
			<xsl:variable name="var9_cur" as="node()" select="."/>
			<xsl:variable name="var7_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var8_dat_vyk" as="node()*" select="ns2:dat_vyk"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var7_guid">
					<xsl:for-each select="$var7_guid">
						<xsl:variable name="var1_resultof_FullURL_Procedure" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Procedure">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Procedure">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Procedure>
						<xsl:for-each select="$var7_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-procedure-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'completed'"/>
						</status>
						<code>
							<xsl:for-each select="@chvps_klic">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<xsl:for-each select="$var9_cur/@chvps_text">
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</xsl:for-each>
								</coding>
							</xsl:for-each>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var3_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var8_dat_vyk)">
									<xsl:for-each select="$var8_dat_vyk">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:when>
								<xsl:otherwise>
									<xsl:variable name="var2_dat_ab" as="node()?" select="@dat_ab"/>
									<xsl:choose>
										<xsl:when test="fn:exists($var2_dat_ab)">
											<xsl:sequence select="xs:string(xs:dateTime(fn:string($var2_dat_ab)))"/>
										</xsl:when>
										<xsl:otherwise>
											<xsl:for-each select="$dat_ab">
												<xsl:sequence select="fn:string(.)"/>
											</xsl:for-each>
										</xsl:otherwise>
									</xsl:choose>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var3_test_resultof_exists">
							<performedDateTime>
								<xsl:attribute name="value" namespace="" select="."/>
							</performedDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<actor>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</actor>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:duvod_kod">
							<reasonCode>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/sid/icd-10'))"/>
									</system>
									<code>
										<xsl:for-each select="ns2:kod">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<display>
										<xsl:for-each select="ns2:kod_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</reasonCode>
						</xsl:for-each>
						<xsl:for-each select="ns2:alv_form">
							<bodySite>
								<xsl:for-each select="ns2:ptext">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
										</system>
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</coding>
								</xsl:for-each>
							</bodySite>
						</xsl:for-each>
						<xsl:for-each select="ns2:vysledek">
							<xsl:variable name="var6_cur_as_string" as="xs:string" select="fn:string(.)"/>
							<outcome>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
									</system>
									<xsl:variable name="var4_resultof_vmf__inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf9_inputtoresult">
											<xsl:with-param name="input" select="$var6_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<code>
										<xsl:for-each select="$var4_resultof_vmf__inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</code>
									<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf10_inputtoresult">
											<xsl:with-param name="input" select="$var6_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</display>
								</coding>
							</outcome>
						</xsl:for-each>
						<xsl:for-each select="ns2:komplikace">
							<complication>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/sid/icd-10'))"/>
									</system>
									<code>
										<xsl:for-each select="ns2:kod">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<display>
										<xsl:for-each select="ns2:kod_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</complication>
						</xsl:for-each>
					</Procedure>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:chv_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_chv" select="()"/>
		<xsl:param name="ip_anf_anam_vyk_chv" select="()"/>
		<xsl:param name="patsumdat_anf_anam_vyk_chv" select="()"/>
		<xsl:param name="patsudat_chv" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="ds_ip415079" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var6_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var5_create_dat_ab_of_dat_prov" as="node()*">
			<xsl:for-each select="$dat_prov">
				<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_ab>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_chv" as="node()*">
			<xsl:call-template name="provisio:chv">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="chvType" as="node()+">
					<xsl:for-each select="$ip_chv">
						<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</chvType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_chv">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_chv" as="node()*">
			<xsl:call-template name="provisio:chv">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="chvType" as="node()+">
					<xsl:for-each select="$ip_anf_anam_vyk_chv">
						<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</chvType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$ds_ip415079">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_chv">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var3_resultof_chv" as="node()*">
			<xsl:call-template name="provisio:chv">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="chvType" as="node()+">
					<xsl:for-each select="$patsumdat_anf_anam_vyk_chv">
						<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</chvType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var5_create_dat_ab_of_dat_prov" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var3_resultof_chv">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var4_resultof_chv" as="node()*">
			<xsl:call-template name="provisio:chv">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="chvType" as="node()+">
					<xsl:for-each select="$patsudat_chv">
						<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</chvType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var5_create_dat_ab_of_dat_prov" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var4_resultof_chv">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_CarePlan">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('CarePlan/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:ld">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ldType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$ldType">
			<xsl:variable name="var3_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var4_dat_ab" as="node()?" select="@dat_ab"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var3_guid">
					<xsl:for-each select="$var3_guid">
						<xsl:variable name="var1_resultof_FullURL_CarePlan" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_CarePlan">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_CarePlan">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<CarePlan>
						<xsl:for-each select="$var3_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-carePlan-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'completed'"/>
						</status>
						<intent>
							<xsl:attribute name="value" namespace="" select="'plan'"/>
						</intent>
						<xsl:for-each select="ns2:text">
							<description>
								<xsl:for-each select="ns2:ptext">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</description>
						</xsl:for-each>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var4_dat_ab)">
									<xsl:sequence select="xs:string(xs:dateTime(fn:string($var4_dat_ab)))"/>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<created>
							<xsl:for-each select="$var2_test_resultof_exists">
								<xsl:attribute name="value" namespace="" select="."/>
							</xsl:for-each>
						</created>
						<xsl:for-each select="$practitionerReference">
							<author>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</author>
						</xsl:for-each>
					</CarePlan>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:ld_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="ip_ld" select="()"/>
		<xsl:param name="patsumdat_ld" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var3_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var1_resultof_ld" as="node()*">
			<xsl:call-template name="provisio:ld">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ldType" as="node()+">
					<xsl:for-each select="$ip_ld">
						<ldType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</ldType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_ld">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_ld" as="node()*">
			<xsl:call-template name="provisio:ld">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ldType" as="node()+">
					<xsl:for-each select="$patsumdat_ld">
						<ldType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</ldType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$dat_prov">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_ld">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:grav">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="gravType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:for-each select="$gravType">
			<xsl:variable name="var4_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var5_typ" as="node()?" select="@typ"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var4_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var4_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-pregnancy-status-uv-ips'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'82810-3'"/>
								</code>
								<display>
									<xsl:attribute name="value" namespace="" select="'Pregnancy status'"/>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_prov">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<valueCodeableConcept>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
								</system>
								<code>
									<xsl:for-each select="$var5_typ">
										<xsl:variable name="var1_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf11_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var1_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="$var5_typ">
										<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf11_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:variable name="var3_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf12_inputtoresult">
													<xsl:with-param name="input" select="." as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<xsl:for-each select="$var3_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</xsl:for-each>
									</xsl:for-each>
								</display>
							</coding>
						</valueCodeableConcept>
						<xsl:for-each select="ns2:grav_tp">
							<hasMember>
								<reference>
									<xsl:for-each select="@guid">
										<xsl:attribute name="value" namespace="" select="fn:concat('Observation/', fn:string(.))"/>
									</xsl:for-each>
								</reference>
							</hasMember>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
		<xsl:for-each select="$gravType/ns2:grav_tp">
			<xsl:variable name="var7_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var8_zutp_klic" as="node()?" select="@zutp_klic"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var7_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var7_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-pregnancy-edd-uv-ips'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
								</system>
								<code>
									<xsl:for-each select="$var8_zutp_klic">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="$var8_zutp_klic">
										<xsl:variable name="var6_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf13_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var6_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_prov">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:dat_por">
							<valueDateTime>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:date(fn:string(.)))"/>
							</valueDateTime>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:grav_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_grav" select="()"/>
		<xsl:param name="patsumdat_grav" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var4_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var3_create_dat_prov_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_prov xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_prov>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_grav" as="node()*">
			<xsl:call-template name="provisio:grav">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="gravType" as="node()+">
					<xsl:for-each select="$ip_grav">
						<gravType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</gravType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_grav">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_grav" as="node()*">
			<xsl:call-template name="provisio:grav">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="gravType" as="node()+">
					<xsl:for-each select="$patsumdat_grav">
						<gravType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</gravType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_grav">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Immunization">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Immunization/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:oc">
		<xsl:param name="Reference" select="()"/>
		<xsl:param name="oczType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$oczType">
			<xsl:variable name="var10_cur" as="node()" select="."/>
			<xsl:variable name="var8_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var9_davka" as="node()*" select="ns2:davka"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var8_guid">
					<xsl:for-each select="$var8_guid">
						<xsl:variable name="var1_resultof_FullURL_Immunization" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Immunization">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Immunization">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Immunization>
						<xsl:for-each select="$var8_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-immunization-hdr'))"/>
							</profile>
						</meta>
						<xsl:for-each select="@id_ockovani">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'ID okovn'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/DSALA.htm'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@id_ockovani_isin">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'ID okovn dle ISIN'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://www.uzis.cz/'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/@id_davka">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'ID dvky okovn'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/DSALA.htm'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/@id_davka_isin">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'ID dvky dle ISIN'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://www.uzis.cz/'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<status>
							<xsl:attribute name="value" namespace="" select="'completed'"/>
						</status>
						<vaccineCode>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/DSAHW.htm'))"/>
								</system>
								<code>
									<xsl:for-each select="@typ_oc_kod">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="@typ_oc_text">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</display>
							</coding>
							<xsl:for-each select="$var9_davka">
								<xsl:variable name="var2_cur" as="node()" select="."/>
								<xsl:for-each select="@kod_ol">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://www.sukl.cz'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<display>
											<xsl:for-each select="$var2_cur/@nazev_ol">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</display>
										<xsl:for-each select="$var2_cur/@gene_ol">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</xsl:for-each>
							</xsl:for-each>
							<xsl:for-each select="ns2:agens">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/DSAKM.htm'))"/>
									</system>
									<code>
										<xsl:for-each select="@agens_klic">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<xsl:for-each select="@agens_text">
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</xsl:for-each>
								</coding>
							</xsl:for-each>
							<xsl:for-each select="$var9_davka/@pozn">
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</xsl:for-each>
						</vaccineCode>
						<patient>
							<xsl:sequence select="($Reference/@node(), $Reference/node())"/>
						</patient>
						<xsl:variable name="var3_test_resultof_any" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists(($var9_davka)[fn:exists(ns2:dat_du)])">
									<xsl:for-each select="$var9_davka/ns2:dat_du">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var3_test_resultof_any">
							<occurrenceDateTime>
								<xsl:attribute name="value" namespace="" select="."/>
							</occurrenceDateTime>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/@nazev_vyrobce">
							<manufacturer>
								<display>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</display>
							</manufacturer>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/@cis_sarze">
							<lotNumber>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</lotNumber>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/ns2:dat_expirace">
							<expirationDate>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</expirationDate>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka">
							<xsl:variable name="var4_cur" as="node()" select="."/>
							<xsl:for-each select="@misto_apl_klic">
								<site>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBUU.htm'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<xsl:for-each select="$var4_cur/@misto_apl_text">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</site>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka">
							<xsl:variable name="var5_cur" as="node()" select="."/>
							<xsl:for-each select="@apl_cesta_klic">
								<route>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBUT.htm'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</code>
										<xsl:for-each select="$var5_cur/@apl_cesta_text">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</route>
							</xsl:for-each>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<actor>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</actor>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:indikace">
							<reasonCode>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://www.uzis.cz/'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<xsl:for-each select="$var10_cur/@indikace_text">
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</xsl:for-each>
								</coding>
							</reasonCode>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka/ns2:reakce">
							<xsl:variable name="var7_typ" as="node()?" select="@typ"/>
							<reaction>
								<date>
									<xsl:for-each select="ns2:dat_or">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</date>
								<detail>
									<type>
										<xsl:for-each select="$var7_typ">
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:string(.)))"/>
										</xsl:for-each>
									</type>
									<display>
										<xsl:for-each select="$var7_typ">
											<xsl:variable name="var6_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf14_inputtoresult">
													<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<xsl:for-each select="$var6_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</xsl:for-each>
									</display>
								</detail>
							</reaction>
						</xsl:for-each>
						<xsl:for-each select="$var9_davka">
							<protocolApplied>
								<doseNumberPositiveInt>
									<xsl:for-each select="@cis_davky">
										<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
									</xsl:for-each>
								</doseNumberPositiveInt>
								<xsl:for-each select="@poc_davek">
									<seriesDosesString>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
									</seriesDosesString>
								</xsl:for-each>
							</protocolApplied>
						</xsl:for-each>
					</Immunization>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:oc_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="ip_oc" select="()"/>
		<xsl:param name="anf_anam_oc" select="()"/>
		<xsl:param name="patsumdat_anf_anam_oc" select="()"/>
		<xsl:param name="patsumdat_oc" select="()"/>
		<xsl:param name="ds_ip415076" select="()"/>
		<xsl:param name="dsipdat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var6_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var5_create_dat_ab_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_ab>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_oc" as="node()*">
			<xsl:call-template name="provisio:oc">
				<xsl:with-param name="Reference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="oczType" as="node()*">
					<xsl:for-each select="$ip_oc/ns2:ocz">
						<oczType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</oczType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$dsipdat_ab">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="xs:string(.)"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_oc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_oc" as="node()*">
			<xsl:call-template name="provisio:oc">
				<xsl:with-param name="Reference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="oczType" as="node()*">
					<xsl:for-each select="$anf_anam_oc/ns2:ocz">
						<oczType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</oczType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$ds_ip415076">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_oc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var3_resultof_oc" as="node()*">
			<xsl:call-template name="provisio:oc">
				<xsl:with-param name="Reference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="oczType" as="node()*">
					<xsl:for-each select="$patsumdat_anf_anam_oc/ns2:ocz">
						<oczType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</oczType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var5_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var3_resultof_oc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var4_resultof_oc" as="node()*">
			<xsl:call-template name="provisio:oc">
				<xsl:with-param name="Reference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var6_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="oczType" as="node()*">
					<xsl:for-each select="$patsumdat_oc/ns2:ocz">
						<oczType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</oczType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var5_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var4_resultof_oc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_MedicationAdministration">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('MedicationAdministration/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:le">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="leType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$leType">
			<xsl:variable name="var13_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:lez">
				<xsl:variable name="var12_cur" as="node()" select="."/>
				<xsl:variable name="var9_kod_atc" as="node()?" select="@kod_atc"/>
				<xsl:variable name="var10_dat_ab" as="node()?" select="$var13_cur/@dat_ab"/>
				<xsl:variable name="var11_guid" as="node()?" select="@guid"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var11_guid">
						<xsl:for-each select="$var11_guid">
							<xsl:variable name="var1_resultof_FullURL_MedicationAdministration" as="xs:string?">
								<xsl:call-template name="provisio:FullURL_MedicationAdministration">
									<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var1_resultof_FullURL_MedicationAdministration">
								<fullUrl>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
								</fullUrl>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
					<resource>
						<MedicationAdministration>
							<xsl:for-each select="$var11_guid">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="@vguid">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
							</meta>
							<status>
								<xsl:for-each select="@ind_oprav_sd">
									<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf15_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
										<xsl:attribute name="value" namespace="" select="."/>
									</xsl:for-each>
								</xsl:for-each>
							</status>
							<xsl:for-each select="ns2:zmena_m_kod">
								<statusReason>
									<coding>
										<xsl:variable name="var3_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf16_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<code>
											<xsl:for-each select="$var3_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</code>
										<display>
											<xsl:for-each select="$var12_cur/ns2:zmena_m_text">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</display>
									</coding>
								</statusReason>
							</xsl:for-each>
							<category>
								<xsl:for-each select="@typ_med">
									<xsl:variable name="var6_cur_as_string" as="xs:string" select="fn:string(.)"/>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/medication-admin-category'))"/>
										</system>
										<xsl:variable name="var4_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf17_inputtoresult">
												<xsl:with-param name="input" select="$var6_cur_as_string" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<code>
											<xsl:for-each select="$var4_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</code>
										<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf18_inputtoresult">
												<xsl:with-param name="input" select="$var6_cur_as_string" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<display>
											<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</display>
									</coding>
								</xsl:for-each>
							</category>
							<medicationCodeableConcept>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://www.snomed.org/'))"/>
									</system>
									<code>
										<xsl:for-each select="@kod_lek">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<display>
										<xsl:for-each select="@nazev_lek">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
								<xsl:variable name="var7_test_resultof_exists" as="xs:string*">
									<xsl:choose>
										<xsl:when test="fn:exists($var9_kod_atc)">
											<xsl:sequence select="fn:string($var9_kod_atc)"/>
										</xsl:when>
										<xsl:otherwise>
											<xsl:for-each select="ns2:aktivni_latka/@kod_atc">
												<xsl:sequence select="fn:string(.)"/>
											</xsl:for-each>
										</xsl:otherwise>
									</xsl:choose>
								</xsl:variable>
								<xsl:for-each select="$var7_test_resultof_exists">
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://www.whocc.no/atc/'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="."/>
										</code>
										<xsl:for-each select="$var12_cur/ns2:aktivni_latka/@nazev">
											<display>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</display>
										</xsl:for-each>
									</coding>
								</xsl:for-each>
								<xsl:for-each select="@gene_lek">
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</xsl:for-each>
							</medicationCodeableConcept>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:variable name="var8_test_resultof_exists" as="xs:string*">
								<xsl:choose>
									<xsl:when test="fn:exists($var10_dat_ab)">
										<xsl:sequence select="xs:string(xs:dateTime(fn:string($var10_dat_ab)))"/>
									</xsl:when>
									<xsl:otherwise>
										<xsl:for-each select="$dat_ab">
											<xsl:sequence select="fn:string(.)"/>
										</xsl:for-each>
									</xsl:otherwise>
								</xsl:choose>
							</xsl:variable>
							<xsl:for-each select="$var8_test_resultof_exists">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="."/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="ns2:dat_od">
								<effectivePeriod>
									<start>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</start>
									<xsl:for-each select="$var12_cur/ns2:dat_do">
										<end>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</end>
									</xsl:for-each>
								</effectivePeriod>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<actor>
										<reference>
											<xsl:attribute name="value" namespace="" select="."/>
										</reference>
									</actor>
								</performer>
							</xsl:for-each>
							<xsl:for-each select="ns2:ind_m_kod">
								<reasonCode>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWI.htm'))"/>
										</system>
										<version>
											<xsl:for-each select="ns2:kod_syst">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</version>
										<code>
											<xsl:for-each select="ns2:kod">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</code>
										<display>
											<xsl:for-each select="ns2:kod_text">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</display>
									</coding>
									<xsl:for-each select="$var12_cur/ns2:ind_m_text">
										<text>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</text>
									</xsl:for-each>
								</reasonCode>
							</xsl:for-each>
							<xsl:for-each select="ns2:pozn">
								<note>
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</note>
							</xsl:for-each>
							<xsl:for-each select="ns2:rozpis_v">
								<dosage>
									<xsl:for-each select="$var12_cur/@misto_apl_klic">
										<site>
											<coding>
												<system>
													<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBUU.htm'))"/>
												</system>
												<code>
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</code>
												<display>
													<xsl:for-each select="$var12_cur/@misto_apl_text">
														<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
													</xsl:for-each>
												</display>
											</coding>
										</site>
									</xsl:for-each>
									<xsl:for-each select="$var12_cur/@apl_cesta_klic">
										<route>
											<coding>
												<system>
													<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBUT.htm'))"/>
												</system>
												<code>
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</code>
												<display>
													<xsl:for-each select="$var12_cur/@apl_cesta_text">
														<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
													</xsl:for-each>
												</display>
											</coding>
										</route>
									</xsl:for-each>
									<xsl:for-each select="$var12_cur/@forma_klic">
										<method>
											<coding>
												<system>
													<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBRW.htm'))"/>
												</system>
												<code>
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</code>
												<display>
													<xsl:for-each select="$var12_cur/@forma_text">
														<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
													</xsl:for-each>
												</display>
											</coding>
										</method>
									</xsl:for-each>
									<dose>
										<value>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</value>
									</dose>
								</dosage>
							</xsl:for-each>
						</MedicationAdministration>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:le_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_le" select="()"/>
		<xsl:param name="patsumdat_le" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var3_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var1_resultof_le" as="node()*">
			<xsl:call-template name="provisio:le">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="leType" as="node()+">
					<xsl:for-each select="$ip_le">
						<leType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</leType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_le">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_le" as="node()*">
			<xsl:call-template name="provisio:le">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="leType" as="node()+">
					<xsl:for-each select="$patsumdat_le">
						<leType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</leType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$dat_prov">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_le">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Patient">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Patient/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:ip_ip">
		<xsl:param name="ip" select="()"/>
		<xsl:for-each select="$ip">
			<xsl:variable name="var22_current" as="node()" select="."/>
			<xsl:variable name="var18_a" as="node()*" select="ns1:a"/>
			<xsl:variable name="var19_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var20_ipi_o" as="node()*" select="ns2:ipi_o"/>
			<xsl:variable name="var21_ipi_v" as="node()*" select="ns2:ipi_v"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var19_guid">
					<xsl:for-each select="$var19_guid">
						<xsl:variable name="var1_resultof_FullURL_Patient" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Patient">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Patient">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Patient>
						<xsl:for-each select="$var19_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/core/StructureDefinition/cz-patient-core'))"/>
							</profile>
							<xsl:for-each select="ns2:duvernost">
								<xsl:variable name="var3_cur_as_string" as="xs:string" select="fn:string(.)"/>
								<security>
									<code>
										<xsl:attribute name="value" namespace="" select="$var3_cur_as_string"/>
									</code>
									<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf19_inputtoresult">
											<xsl:with-param name="input" select="$var3_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</display>
								</security>
							</xsl:for-each>
							<xsl:for-each select="ns2:typ_sdel">
								<xsl:variable name="var5_cur_as_string" as="xs:string" select="fn:string(.)"/>
								<tag>
									<code>
										<xsl:attribute name="value" namespace="" select="$var5_cur_as_string"/>
									</code>
									<xsl:variable name="var4_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf20_inputtoresult">
											<xsl:with-param name="input" select="$var5_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var4_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</display>
								</tag>
							</xsl:for-each>
						</meta>
						<xsl:for-each select="ns2:misto_nar">
							<extension>
								<xsl:attribute name="url" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/patient-birthPlace'))"/>
								<valueAddress>
									<city>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</city>
								</valueAddress>
							</extension>
						</xsl:for-each>
						<xsl:for-each select="ns2:stat_pris">
							<extension>
								<xsl:attribute name="url" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/patient-nationality'))"/>
								<extension>
									<xsl:attribute name="url" namespace="" select="xs:string(xs:anyURI('code'))"/>
									<valueCodeableConcept>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:iso:std:iso:3166'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</code>
										</coding>
									</valueCodeableConcept>
								</extension>
							</extension>
						</xsl:for-each>
						<xsl:for-each select="ns2:povolani">
							<xsl:variable name="var6_cur" as="node()" select="."/>
							<extension>
								<xsl:attribute name="url" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/patient-occupation'))"/>
								<valueString>
									<xsl:for-each select="ns2:povolani_text">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</valueString>
								<xsl:for-each select="ns2:dat_od">
									<valuePeriod>
										<start>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</start>
										<xsl:for-each select="$var6_cur/ns2:dat_do">
											<end>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</end>
										</xsl:for-each>
									</valuePeriod>
								</xsl:for-each>
								<xsl:for-each select="@dat_ab">
									<valueMeta>
										<lastUpdated>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(fn:string(.)))"/>
										</lastUpdated>
									</valueMeta>
								</xsl:for-each>
							</extension>
						</xsl:for-each>
						<xsl:for-each select="@id_pac">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/cpoj'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="ns2:rodcis">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/rcis'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="ns2:pv_pac/ns2:pv_zp/ns2:kodpoj">
							<xsl:variable name="var8_cur_as_string" as="xs:string" select="xs:string(xs:integer(fn:string(.)))"/>
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/v2-0203'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="'NIIP'"/>
										</code>
										<display>
											<xsl:attribute name="value" namespace="" select="'National Insurance Payor Identifier (Payor)'"/>
										</display>
									</coding>
								</type>
								<assigner>
									<identifier>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://www.vzp.cz/poskytovatele/ciselniky/zdravotni-pojistovny'))"/>
										</system>
										<value>
											<xsl:attribute name="value" namespace="" select="$var8_cur_as_string"/>
										</value>
									</identifier>
									<xsl:variable name="var7_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf21_inputtoresult">
											<xsl:with-param name="input" select="$var8_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var7_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</display>
								</assigner>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="ns2:rip">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/rid'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="ns2:id_card">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/op'))"/>
								</system>
								<value>
									<xsl:for-each select="ns2:id_number">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</value>
								<period>
									<end>
										<xsl:for-each select="ns2:dat_pl">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</end>
								</period>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="ns2:passport">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/v2-0203'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="'PPN'"/>
										</code>
									</coding>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/sid/passport-CZE'))"/>
								</system>
								<value>
									<xsl:for-each select="ns2:id_number">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</value>
								<period>
									<end>
										<xsl:for-each select="ns2:dat_pl">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</end>
								</period>
								<assigner>
									<display>
										<xsl:for-each select="ns2:stat">
											<xsl:variable name="var9_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf22_inputtoresult">
													<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<xsl:for-each select="$var9_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</xsl:for-each>
									</display>
								</assigner>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var20_ipi_o/@nem_cis">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'LR'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/nem_cis'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var20_ipi_o/@kat_pac">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'PI'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/kat_pac'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var20_ipi_o/@cis_chor">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'SNO'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/cis_chor'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var20_ipi_o/@cis_is">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'MR'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/cis_is'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var21_ipi_v/@nem_cis">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'LR'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/nem_cis'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var21_ipi_v/@kat_pac">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'PI'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/kat_pac'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var21_ipi_v/@cis_chor">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'SNO'"/>
									</text>
								</type>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/cis_chor'))"/>
								</system>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="$var21_ipi_v/@cis_is">
							<identifier>
								<use>
									<xsl:attribute name="value" namespace="" select="'MR'"/>
								</use>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="'urn:ietf:rfc:3986:http://domnanemocnice.cz/sid/cis_is'"/>
									</text>
								</type>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<active>
							<xsl:attribute name="value" namespace="" select="xs:string(fn:true())"/>
						</active>
						<xsl:for-each select="ns2:prijmeni">
							<name>
								<use>
									<xsl:attribute name="value" namespace="" select="'official'"/>
								</use>
								<family>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</family>
								<xsl:for-each select="$var22_current/ns2:jmeno">
									<given>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</given>
								</xsl:for-each>
								<xsl:for-each select="$var22_current/ns2:titul_pred">
									<prefix>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</prefix>
								</xsl:for-each>
								<xsl:for-each select="$var22_current/ns2:titul_za">
									<suffix>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</suffix>
								</xsl:for-each>
							</name>
						</xsl:for-each>
						<xsl:for-each select="ns2:rod_prijm">
							<name>
								<use>
									<xsl:attribute name="value" namespace="" select="'maiden'"/>
								</use>
								<family>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</family>
							</name>
						</xsl:for-each>
						<xsl:for-each select="$var18_a/ns1:as">
							<xsl:variable name="var12_typ" as="node()?" select="@typ"/>
							<telecom>
								<system>
									<xsl:for-each select="$var12_typ">
										<xsl:variable name="var10_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf23_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var10_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</system>
								<xsl:for-each select="ns1:obsah">
									<value>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</value>
								</xsl:for-each>
								<use>
									<xsl:for-each select="$var12_typ">
										<xsl:variable name="var11_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf24_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var11_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</use>
							</telecom>
						</xsl:for-each>
						<xsl:for-each select="ns2:sex">
							<xsl:variable name="var13_resultof_vmf___inputtoresult" as="xs:string?">
								<xsl:call-template name="vmf:vmf25_inputtoresult">
									<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<gender>
								<xsl:for-each select="$var13_resultof_vmf___inputtoresult">
									<xsl:attribute name="value" namespace="" select="."/>
								</xsl:for-each>
							</gender>
						</xsl:for-each>
						<xsl:for-each select="ns2:dat_dn">
							<birthDate>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</birthDate>
						</xsl:for-each>
						<xsl:for-each select="ns2:dat_de">
							<deceasedDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</deceasedDateTime>
						</xsl:for-each>
						<xsl:for-each select="$var18_a">
							<xsl:variable name="var15_cur" as="node()" select="."/>
							<address>
								<use>
									<xsl:for-each select="@typ">
										<xsl:variable name="var14_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf26_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var14_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</use>
								<text>
									<xsl:for-each select="ns1:jmeno">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</text>
								<xsl:for-each select="ns1:adr">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:dop1">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:dop2">
									<line>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</line>
								</xsl:for-each>
								<xsl:for-each select="ns1:mesto">
									<city>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</city>
								</xsl:for-each>
								<xsl:for-each select="ns1:psc">
									<postalCode>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:integer(fn:string(.)))"/>
									</postalCode>
								</xsl:for-each>
								<xsl:for-each select="ns1:stat">
									<country>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</country>
								</xsl:for-each>
								<xsl:for-each select="ns1:dat_od">
									<period>
										<start>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</start>
										<xsl:for-each select="$var15_cur/ns1:dat_do">
											<end>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</end>
										</xsl:for-each>
									</period>
								</xsl:for-each>
							</address>
						</xsl:for-each>
						<xsl:for-each select="ns2:jazyk">
							<xsl:variable name="var17_cur" as="node()" select="."/>
							<communication>
								<language>
									<xsl:for-each select="@jazyk_klic">
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBRX.htm'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</code>
											<xsl:for-each select="$var17_cur/@jazyk_text">
												<display>
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</display>
											</xsl:for-each>
										</coding>
									</xsl:for-each>
									<xsl:for-each select="@pozn">
										<text>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</text>
									</xsl:for-each>
								</language>
								<xsl:for-each select="@pref">
									<xsl:variable name="var16_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf27_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<preferred>
										<xsl:for-each select="$var16_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="xs:string(xs:boolean(.))"/>
										</xsl:for-each>
									</preferred>
								</xsl:for-each>
							</communication>
						</xsl:for-each>
					</Patient>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_abj">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_abj" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_abj">
			<xsl:variable name="var1_abj_kod" as="node()*" select="ns2:abj_kod"/>
			<xsl:variable name="var2_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var2_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var2_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-sdoh-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'social-history'"/>
								</code>
							</coding>
						</category>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWI.htm'))"/>
								</system>
								<version>
									<xsl:for-each select="$var1_abj_kod/ns2:kod_syst">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</version>
								<code>
									<xsl:for-each select="$var1_abj_kod/ns2:kod">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="$var1_abj_kod/ns2:kod_text">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:abj_text">
							<valueCodeableConcept>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</valueCodeableConcept>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_abd">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_abd" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_abd">
			<xsl:variable name="var4_current" as="node()" select="."/>
			<xsl:variable name="var3_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var3_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var3_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-sdoh-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'social-history'"/>
								</code>
							</coding>
						</category>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWG.htm'))"/>
								</system>
								<xsl:for-each select="ns2:abd_stav_kod">
									<xsl:variable name="var1_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf28_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<code>
										<xsl:for-each select="$var1_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</code>
								</xsl:for-each>
								<xsl:for-each select="ns2:abd_stav_text">
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</xsl:for-each>
							</coding>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWH.htm'))"/>
								</system>
								<xsl:for-each select="ns2:abd_lattyp_kod">
									<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf29_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<code>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</code>
								</xsl:for-each>
								<xsl:for-each select="ns2:abd_lattyp_text">
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</xsl:for-each>
							</coding>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBSE.htm'))"/>
								</system>
								<code>
									<xsl:for-each select="ns2:abd_latzp_kod">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="ns2:abd_latzp_text">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:abd_dat_od">
							<effectivePeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var4_current/ns2:abd_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</effectivePeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:abd_mnoz_text">
							<valueCodeableConcept>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</valueCodeableConcept>
						</xsl:for-each>
						<xsl:for-each select="ns2:abd_koment">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_abk">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_abk" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_abk">
			<xsl:variable name="var2_current" as="node()" select="."/>
			<xsl:variable name="var1_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var1_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var1_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-sdoh-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'social-history'"/>
								</code>
							</coding>
						</category>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
								</system>
								<xsl:for-each select="ns2:abk_stav_kod">
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
								</xsl:for-each>
								<xsl:for-each select="ns2:abk_stav_text">
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</xsl:for-each>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:abk_dat_od">
							<effectivePeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var2_current/ns2:abk_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</effectivePeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:abk_mnoz_text">
							<valueCodeableConcept>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</valueCodeableConcept>
						</xsl:for-each>
						<xsl:for-each select="ns2:abk_koment">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_aba">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_aba" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_aba">
			<xsl:variable name="var2_current" as="node()" select="."/>
			<xsl:variable name="var1_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var1_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var1_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-sdoh-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'social-history'"/>
								</code>
							</coding>
						</category>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
								</system>
								<xsl:for-each select="ns2:aba_stav_kod">
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
								</xsl:for-each>
								<xsl:for-each select="ns2:aba_stav_text">
									<display>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</display>
								</xsl:for-each>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:aba_dat_od">
							<effectivePeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var2_current/ns2:aba_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</effectivePeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:aba_mnoz_text">
							<valueCodeableConcept>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</valueCodeableConcept>
						</xsl:for-each>
						<xsl:for-each select="ns2:aba_koment">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_sa">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_sa" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_sa">
			<xsl:variable name="var10_current" as="node()" select="."/>
			<xsl:variable name="var9_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var9_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var9_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-sdoh-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'social-history'"/>
								</code>
							</coding>
						</category>
						<code>
							<text>
								<xsl:attribute name="value" namespace="" select="'Sociln anamnza'"/>
							</text>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:sau_prac">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Pracovn zapojen'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sau_zajmy">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Konky'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sau_soc">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Sociln s'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sav_vzdel">
							<xsl:variable name="var2_cur_as_string" as="xs:string" select="fn:string(.)"/>
							<component>
								<code>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/v3-EducationLevel'))"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="$var2_cur_as_string"/>
										</code>
										<xsl:variable name="var1_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf30_inputtoresult">
												<xsl:with-param name="input" select="$var2_cur_as_string" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<display>
											<xsl:for-each select="$var1_resultof_vmf___inputtoresult">
												<xsl:attribute name="value" namespace="" select="."/>
											</xsl:for-each>
										</display>
									</coding>
								</code>
								<valueString>
									<xsl:for-each select="$var10_current/ns2:sav_koment">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sab_zpbydl_text">
							<component>
								<code>
									<xsl:for-each select="$var10_current/ns2:sab_zpbydl_kod">
										<xsl:variable name="var4_cur_as_string" as="xs:string" select="fn:string(.)"/>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWB.htm'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="$var4_cur_as_string"/>
											</code>
											<xsl:variable name="var3_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf31_inputtoresult">
													<xsl:with-param name="input" select="$var4_cur_as_string" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<display>
												<xsl:for-each select="$var3_resultof_vmf___inputtoresult">
													<xsl:attribute name="value" namespace="" select="."/>
												</xsl:for-each>
											</display>
										</coding>
									</xsl:for-each>
									<text>
										<xsl:attribute name="value" namespace="" select="'Zpsob bydlen'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sab_prizp_text">
							<component>
								<code>
									<xsl:for-each select="$var10_current/ns2:sab_prizp_kod">
										<xsl:variable name="var6_cur_as_string" as="xs:string" select="fn:string(.)"/>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWC.htm'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="$var6_cur_as_string"/>
											</code>
											<xsl:variable name="var5_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf32_inputtoresult">
													<xsl:with-param name="input" select="$var6_cur_as_string" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<display>
												<xsl:for-each select="$var5_resultof_vmf___inputtoresult">
													<xsl:attribute name="value" namespace="" select="."/>
												</xsl:for-each>
											</display>
										</coding>
									</xsl:for-each>
									<text>
										<xsl:attribute name="value" namespace="" select="'Pizpsoben domcnosti'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sab_bariery_text">
							<component>
								<code>
									<xsl:for-each select="$var10_current/ns2:sab_bariery_kod">
										<xsl:variable name="var8_cur_as_string" as="xs:string" select="fn:string(.)"/>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWD.htm'))"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="$var8_cur_as_string"/>
											</code>
											<xsl:variable name="var7_resultof_vmf___inputtoresult" as="xs:string?">
												<xsl:call-template name="vmf:vmf33_inputtoresult">
													<xsl:with-param name="input" select="$var8_cur_as_string" as="xs:string"/>
												</xsl:call-template>
											</xsl:variable>
											<display>
												<xsl:for-each select="$var7_resultof_vmf___inputtoresult">
													<xsl:attribute name="value" namespace="" select="."/>
												</xsl:for-each>
											</display>
										</coding>
									</xsl:for-each>
									<text>
										<xsl:attribute name="value" namespace="" select="'Bariry'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_koment">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Rodinn situace'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_slozrod_text">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Sloen rodiny'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_rodstav_text">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Rodinn stav'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_pocdet">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Poet dt'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_pocdetd">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Poet dt ve spolen domcnosti'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_dite">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Podrobnosti o dtti'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
						<xsl:for-each select="ns2:sar_pecezc">
							<component>
								<code>
									<text>
										<xsl:attribute name="value" namespace="" select="'Peuje o zvislho lena'"/>
									</text>
								</code>
								<valueString>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</valueString>
							</component>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_FamilyMemberHistory">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('FamilyMemberHistory/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_rao">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_rao" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$anam_rao">
			<xsl:variable name="var4_current" as="node()" select="."/>
			<xsl:variable name="var3_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var3_guid">
					<xsl:for-each select="$var3_guid">
						<xsl:variable name="var1_resultof_FullURL_FamilyMemberHistory" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_FamilyMemberHistory">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_FamilyMemberHistory">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<FamilyMemberHistory>
						<xsl:for-each select="$var3_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:for-each select="$dat_ab">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(fn:string(.)))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/czh-familyMemberHistory-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'completed'"/>
						</status>
						<patient>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</patient>
						<xsl:for-each select="ns2:rao_vztah_kod">
							<relationship>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/ValueSet/v3-FamilyMember'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<xsl:for-each select="$var4_current/ns2:rao_vztah_text">
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</xsl:for-each>
								</coding>
							</relationship>
						</xsl:for-each>
						<xsl:for-each select="ns2:rao_dat_nar">
							<bornDate>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</bornDate>
						</xsl:for-each>
						<xsl:for-each select="ns2:rao_dat_um">
							<deceasedDate>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</deceasedDate>
						</xsl:for-each>
						<xsl:for-each select="ns2:rao_vzdel">
							<note>
								<xsl:for-each select="$practitionerReference">
									<authorReference>
										<reference>
											<xsl:attribute name="value" namespace="" select="."/>
										</reference>
									</authorReference>
								</xsl:for-each>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
						<xsl:for-each select="ns2:rao_zdrprob_kod">
							<xsl:variable name="var2_https___dastacr_cz_dasta_hyper_as_string" as="xs:string" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWI.htm'))"/>
							<condition>
								<code>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="$var2_https___dastacr_cz_dasta_hyper_as_string"/>
										</system>
										<version>
											<xsl:for-each select="ns2:kod_syst">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</version>
										<code>
											<xsl:for-each select="ns2:kod">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</code>
										<display>
											<xsl:for-each select="ns2:kod_text">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</display>
									</coding>
								</code>
								<xsl:for-each select="$var4_current/ns2:rao_duvum_kod">
									<outcome>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="$var2_https___dastacr_cz_dasta_hyper_as_string"/>
											</system>
											<version>
												<xsl:for-each select="ns2:kod_syst">
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
											</version>
											<code>
												<xsl:for-each select="ns2:kod">
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
											</code>
											<display>
												<xsl:for-each select="ns2:kod_text">
													<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
												</xsl:for-each>
											</display>
										</coding>
									</outcome>
								</xsl:for-each>
							</condition>
						</xsl:for-each>
					</FamilyMemberHistory>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_infc">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_infcType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$anam_infcType">
			<xsl:variable name="var2_cur" as="node()" select="."/>
			<xsl:variable name="var1_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var1_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var1_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-travel-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'82753-5'"/>
								</code>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:infc_dat_od">
							<effectivePeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var2_cur/ns2:infc_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</effectivePeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:infc_stat_kod">
							<valueCodeableConcept>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.org/fhir/valueset-iso3166-1-2.html'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<display>
										<xsl:for-each select="$var2_cur/ns2:infc_stat_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
								<xsl:for-each select="$var2_cur/ns2:infc_koment">
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</xsl:for-each>
							</valueCodeableConcept>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_inf">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_infType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$anam_infType">
			<xsl:variable name="var2_cur" as="node()" select="."/>
			<xsl:variable name="var1_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var1_guid">
					<fullUrl>
						<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
					</fullUrl>
				</xsl:for-each>
				<resource>
					<Observation>
						<xsl:for-each select="$var1_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-observation-infectious-contact-hdr'))"/>
							</profile>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/v3-ParticipationType'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'EXPAGNT'"/>
								</code>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="$dat_ab">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:inf_dat_od">
							<effectivePeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var2_cur/ns2:inf_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</effectivePeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<xsl:for-each select="ns2:inf_stat_kod">
							<valueCodeableConcept>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.org/fhir/valueset-iso3166-1-2.html'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<display>
										<xsl:for-each select="$var2_cur/ns2:inf_stat_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</valueCodeableConcept>
						</xsl:for-each>
						<xsl:for-each select="ns2:inf_koment">
							<valueString>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</valueString>
						</xsl:for-each>
					</Observation>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_anam_prob">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anam_probType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$anam_probType">
			<xsl:variable name="var5_cur" as="node()" select="."/>
			<xsl:variable name="var3_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var4_prob_kod" as="node()*" select="ns2:prob_kod"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var3_guid">
					<xsl:for-each select="$var3_guid">
						<xsl:variable name="var1_resultof_FullURL_Condition" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Condition">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Condition">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Condition>
						<xsl:for-each select="$var3_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<xsl:for-each select="$dat_ab">
								<lastUpdated>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:dateTime(fn:string(.)))"/>
								</lastUpdated>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-condition-hdr'))"/>
							</profile>
						</meta>
						<clinicalStatus>
							<xsl:for-each select="ns2:prob_klin">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-clinical'))"/>
									</system>
									<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf34_inputtoresult">
											<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<code>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</code>
								</coding>
							</xsl:for-each>
						</clinicalStatus>
						<verificationStatus>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-ver-status'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'confirmed'"/>
								</code>
							</coding>
						</verificationStatus>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'encounter-diagnosis'"/>
								</code>
								<display>
									<xsl:attribute name="value" namespace="" select="'Encounter Diagnosis'"/>
								</display>
							</coding>
						</category>
						<xsl:for-each select="ns2:prob_zav_text">
							<severity>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</severity>
						</xsl:for-each>
						<code>
							<xsl:for-each select="$var4_prob_kod">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWI.htm'))"/>
									</system>
									<code>
										<xsl:for-each select="ns2:kod_syst">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</code>
									<display>
										<xsl:for-each select="ns2:kod">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</xsl:for-each>
							<text>
								<xsl:for-each select="$var4_prob_kod/ns2:kod_text">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</text>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:for-each select="ns2:prob_dat_od">
							<onsetPeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var5_cur/ns2:prob_dat_do">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</onsetPeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<recorder>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</recorder>
						</xsl:for-each>
						<xsl:for-each select="ns2:prob_stad_kod">
							<stage>
								<summary>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dastacr.cz/dasta/hypertext/WWBWI.htm'))"/>
										</system>
										<code>
											<xsl:for-each select="ns2:kod_syst">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</code>
										<display>
											<xsl:for-each select="ns2:kod">
												<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
											</xsl:for-each>
										</display>
									</coding>
									<text>
										<xsl:for-each select="ns2:kod_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</text>
								</summary>
							</stage>
						</xsl:for-each>
						<xsl:for-each select="ns2:prob_stad_text">
							<stage>
								<type>
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</type>
							</stage>
						</xsl:for-each>
						<xsl:for-each select="ns2:prob_popis">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
						<xsl:for-each select="ns2:prob_okol">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
					</Condition>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:anf_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_anf" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="patsumdat_anf" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var21_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var20_create_dat_ab_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_ab>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var19_map_of_ip_anf" as="node()*">
			<xsl:for-each select="$ip_anf/ns2:dat_ab">
				<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_ab>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_anf_anam_prob" as="node()*">
			<xsl:call-template name="provisio:anf_anam_prob">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_probType" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_prob">
						<anam_probType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_probType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_anf_anam_prob">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_anf_anam_inf" as="node()*">
			<xsl:call-template name="provisio:anf_anam_inf">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_infType" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_inf">
						<anam_infType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_infType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_anf_anam_inf">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var3_resultof_anf_anam_infc" as="node()*">
			<xsl:call-template name="provisio:anf_anam_infc">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_infcType" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_infc">
						<anam_infcType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_infcType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var3_resultof_anf_anam_infc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var4_resultof_anf_anam_rao" as="node()*">
			<xsl:call-template name="provisio:anf_anam_rao">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_rao" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_rao">
						<anam_rao xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_rao>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var4_resultof_anf_anam_rao">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var5_resultof_anf_anam_sa" as="node()*">
			<xsl:call-template name="provisio:anf_anam_sa">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_sa" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_sa">
						<anam_sa xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_sa>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var5_resultof_anf_anam_sa">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var6_resultof_anf_anam_aba" as="node()*">
			<xsl:call-template name="provisio:anf_anam_aba">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_aba" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_aba">
						<anam_aba xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_aba>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var6_resultof_anf_anam_aba">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var7_resultof_anf_anam_abk" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abk">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abk" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_abk">
						<anam_abk xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abk>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var7_resultof_anf_anam_abk">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var8_resultof_anf_anam_abd" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abd">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abd" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_abd">
						<anam_abd xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abd>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var8_resultof_anf_anam_abd">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var9_resultof_anf_anam_abj" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abj">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abj" as="node()*">
					<xsl:for-each select="$ip_anf/ns2:anam_abj">
						<anam_abj xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abj>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var19_map_of_ip_anf" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var9_resultof_anf_anam_abj">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var10_resultof_anf_anam_prob" as="node()*">
			<xsl:call-template name="provisio:anf_anam_prob">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_probType" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_prob">
						<anam_probType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_probType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var10_resultof_anf_anam_prob">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var11_resultof_anf_anam_inf" as="node()*">
			<xsl:call-template name="provisio:anf_anam_inf">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_infType" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_inf">
						<anam_infType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_infType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var11_resultof_anf_anam_inf">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var12_resultof_anf_anam_infc" as="node()*">
			<xsl:call-template name="provisio:anf_anam_infc">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_infcType" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_infc">
						<anam_infcType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_infcType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var12_resultof_anf_anam_infc">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var13_resultof_anf_anam_rao" as="node()*">
			<xsl:call-template name="provisio:anf_anam_rao">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_rao" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_rao">
						<anam_rao xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_rao>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var13_resultof_anf_anam_rao">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var14_resultof_anf_anam_sa" as="node()*">
			<xsl:call-template name="provisio:anf_anam_sa">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_sa" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_sa">
						<anam_sa xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_sa>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var14_resultof_anf_anam_sa">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var15_resultof_anf_anam_aba" as="node()*">
			<xsl:call-template name="provisio:anf_anam_aba">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_aba" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_aba">
						<anam_aba xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_aba>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var15_resultof_anf_anam_aba">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var16_resultof_anf_anam_abk" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abk">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abk" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_abk">
						<anam_abk xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abk>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var16_resultof_anf_anam_abk">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var17_resultof_anf_anam_abd" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abd">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abd" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_abd">
						<anam_abd xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abd>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var17_resultof_anf_anam_abd">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var18_resultof_anf_anam_abj" as="node()*">
			<xsl:call-template name="provisio:anf_anam_abj">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var21_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anam_abj" as="node()*">
					<xsl:for-each select="$patsumdat_anf/ns2:anam_abj">
						<anam_abj xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anam_abj>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" select="$var20_create_dat_ab_of_dat_prov" as="node()+"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var18_resultof_anf_anam_abj">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:dg">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="dgzType" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:for-each select="$dgzType">
			<xsl:variable name="var7_cur" as="node()" select="."/>
			<xsl:variable name="var5_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var6_dat_vb" as="node()*" select="ns2:dat_vb"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var5_guid">
					<xsl:for-each select="$var5_guid">
						<xsl:variable name="var1_resultof_FullURL_Condition" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Condition">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Condition">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Condition>
						<xsl:for-each select="$var5_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
							<profile>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://hl7.cz/fhir/hdr/StructureDefinition/cz-condition-hdr'))"/>
							</profile>
						</meta>
						<clinicalStatus>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-clinical'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'active'"/>
								</code>
							</coding>
						</clinicalStatus>
						<verificationStatus>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-ver-status'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'confirmed'"/>
								</code>
							</coding>
						</verificationStatus>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/condition-category'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'encounter-diagnosis'"/>
								</code>
								<display>
									<xsl:attribute name="value" namespace="" select="'Encounter Diagnosis'"/>
								</display>
							</coding>
						</category>
						<xsl:for-each select="ns2:zavaz_dg">
							<xsl:variable name="var3_cur_as_string" as="xs:string" select="fn:string(.)"/>
							<severity>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://snomed.info/sct'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="$var3_cur_as_string"/>
									</code>
									<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
										<xsl:call-template name="vmf:vmf35_inputtoresult">
											<xsl:with-param name="input" select="$var3_cur_as_string" as="xs:string"/>
										</xsl:call-template>
									</xsl:variable>
									<display>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</display>
								</coding>
							</severity>
						</xsl:for-each>
						<code>
							<xsl:for-each select="ns2:diag">
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/sid/icd-10'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<xsl:for-each select="@nazev">
										<display>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</display>
									</xsl:for-each>
								</coding>
							</xsl:for-each>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var4_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var6_dat_vb)">
									<xsl:for-each select="$var6_dat_vb">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var4_test_resultof_exists">
							<onsetDateTime>
								<xsl:attribute name="value" namespace="" select="."/>
							</onsetDateTime>
						</xsl:for-each>
						<xsl:for-each select="ns2:dat_du">
							<onsetPeriod>
								<start>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</start>
								<xsl:for-each select="$var7_cur/ns2:dat_up">
									<end>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</end>
								</xsl:for-each>
							</onsetPeriod>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<recorder>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</recorder>
						</xsl:for-each>
						<xsl:for-each select="ns2:pozn">
							<note>
								<text>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</text>
							</note>
						</xsl:for-each>
					</Condition>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:dg_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_dg" select="()"/>
		<xsl:param name="patsumdat_dg" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var3_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var1_resultof_dg" as="node()*">
			<xsl:call-template name="provisio:dg">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="dgzType" as="node()*">
					<xsl:for-each select="$ip_dg/ns2:dgz">
						<dgzType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dgzType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$ip_dg/@dat_ab">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="xs:string(xs:dateTime(fn:string(.)))"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_dg">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_dg" as="node()*">
			<xsl:call-template name="provisio:dg">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="dgzType" as="node()*">
					<xsl:for-each select="$patsumdat_dg/ns2:dgz">
						<dgzType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dgzType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$dat_prov">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_dg">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Condition">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Condition/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:fs">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="fsType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$fsType">
			<xsl:variable name="var4_typ" as="node()?" select="@typ"/>
			<xsl:variable name="var5_guid" as="node()?" select="@guid"/>
			<xsl:variable name="var6_dat_ab" as="node()?" select="@dat_ab"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var5_guid">
					<xsl:for-each select="$var5_guid">
						<xsl:variable name="var1_resultof_FullURL_Condition" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_Condition">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_Condition">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<Condition>
						<xsl:for-each select="$var5_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
						</meta>
						<category>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/ValueSet/condition-category'))"/>
								</system>
								<code>
									<xsl:for-each select="$var4_typ">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</code>
								<display>
									<xsl:for-each select="$var4_typ">
										<xsl:variable name="var2_resultof_vmf___inputtoresult" as="xs:string?">
											<xsl:call-template name="vmf:vmf36_inputtoresult">
												<xsl:with-param name="input" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:for-each select="$var2_resultof_vmf___inputtoresult">
											<xsl:attribute name="value" namespace="" select="."/>
										</xsl:for-each>
									</xsl:for-each>
								</display>
							</coding>
						</category>
						<xsl:for-each select="ns2:text">
							<code>
								<text>
									<xsl:for-each select="ns2:ptext">
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</xsl:for-each>
								</text>
							</code>
						</xsl:for-each>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var3_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var6_dat_ab)">
									<xsl:sequence select="xs:string(xs:dateTime(fn:string($var6_dat_ab)))"/>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var3_test_resultof_exists">
							<recordedDate>
								<xsl:attribute name="value" namespace="" select="."/>
							</recordedDate>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<recorder>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</recorder>
						</xsl:for-each>
					</Condition>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:fs_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_fs" select="()"/>
		<xsl:param name="patsumdat_fs" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:variable name="var3_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var1_resultof_fs" as="node()*">
			<xsl:call-template name="provisio:fs">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="fsType" as="node()+">
					<xsl:for-each select="$ip_fs">
						<fsType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</fsType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_fs">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_fs" as="node()*">
			<xsl:call-template name="provisio:fs">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="fsType" as="node()+">
					<xsl:for-each select="$patsumdat_fs">
						<fsType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</fsType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()*">
					<xsl:for-each select="$dat_prov">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_fs">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_DiagnosticReport">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('DiagnosticReport/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:an">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="anType" select="()"/>
		<xsl:param name="dat_ab" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$anType">
			<xsl:variable name="var3_dat_ab" as="node()?" select="@dat_ab"/>
			<xsl:variable name="var4_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<xsl:for-each select="$var4_guid">
					<xsl:for-each select="$var4_guid">
						<xsl:variable name="var1_resultof_FullURL_DiagnosticReport" as="xs:string?">
							<xsl:call-template name="provisio:FullURL_DiagnosticReport">
								<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
							</xsl:call-template>
						</xsl:variable>
						<xsl:for-each select="$var1_resultof_FullURL_DiagnosticReport">
							<fullUrl>
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</fullUrl>
						</xsl:for-each>
					</xsl:for-each>
				</xsl:for-each>
				<resource>
					<DiagnosticReport>
						<xsl:for-each select="$var4_guid">
							<id>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</id>
						</xsl:for-each>
						<meta>
							<xsl:for-each select="@vguid">
								<versionId>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</versionId>
							</xsl:for-each>
						</meta>
						<status>
							<xsl:attribute name="value" namespace="" select="'final'"/>
						</status>
						<code>
							<coding>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://loinc.org/'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'34117-2'"/>
								</code>
								<display>
									<xsl:attribute name="value" namespace="" select="'History and physical note'"/>
								</display>
							</coding>
						</code>
						<subject>
							<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
						</subject>
						<xsl:variable name="var2_test_resultof_exists" as="xs:string*">
							<xsl:choose>
								<xsl:when test="fn:exists($var3_dat_ab)">
									<xsl:sequence select="xs:string(xs:dateTime(fn:string($var3_dat_ab)))"/>
								</xsl:when>
								<xsl:otherwise>
									<xsl:for-each select="$dat_ab">
										<xsl:sequence select="fn:string(.)"/>
									</xsl:for-each>
								</xsl:otherwise>
							</xsl:choose>
						</xsl:variable>
						<xsl:for-each select="$var2_test_resultof_exists">
							<effectiveDateTime>
								<xsl:attribute name="value" namespace="" select="."/>
							</effectiveDateTime>
						</xsl:for-each>
						<xsl:for-each select="$practitionerReference">
							<performer>
								<reference>
									<xsl:attribute name="value" namespace="" select="."/>
								</reference>
							</performer>
						</xsl:for-each>
						<conclusion>
							<xsl:for-each select="ns2:text/ns2:ptext">
								<xsl:attribute name="value" namespace="" select="fn:normalize-space(fn:string(.))"/>
							</xsl:for-each>
						</conclusion>
					</DiagnosticReport>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:an_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="ip_an" select="()"/>
		<xsl:param name="patsumdat_an" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var3_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var1_resultof_an" as="node()*">
			<xsl:call-template name="provisio:an">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anType" as="node()+">
					<xsl:for-each select="$ip_an">
						<anType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_an">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_an" as="node()*">
			<xsl:call-template name="provisio:an">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var3_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="anType" as="node()+">
					<xsl:for-each select="$patsumdat_an">
						<anType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</anType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_ab" as="node()+">
					<xsl:for-each select="$dat_prov">
						<dat_ab xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</dat_ab>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_an">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:fyznal">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="fyznalType" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:for-each select="$fyznalType">
			<xsl:variable name="var4_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:tk_syst">
				<xsl:variable name="var1_guid_tk" as="node()?" select="$var4_cur/@guid_tk"/>
				<xsl:variable name="var2_http___unitsofmeasure_org_as_string" as="xs:string" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
				<xsl:variable name="var3_http___loinc_org_as_string" as="xs:string" select="xs:string(xs:anyURI('http://loinc.org'))"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var1_guid_tk">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var1_guid_tk">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var4_cur/@vguid_tk">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/bp'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="$var3_http___loinc_org_as_string"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'85354-9'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Blood pressure panel with all children optional'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<xsl:for-each select="$var4_cur/ns2:pozn">
								<note>
									<text>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</text>
								</note>
							</xsl:for-each>
							<component>
								<code>
									<coding>
										<system>
											<xsl:attribute name="value" namespace="" select="$var3_http___loinc_org_as_string"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="'8480-6'"/>
										</code>
										<display>
											<xsl:attribute name="value" namespace="" select="'Systolic blood pressure'"/>
										</display>
									</coding>
								</code>
								<valueQuantity>
									<value>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</value>
									<unit>
										<xsl:attribute name="value" namespace="" select="'mmHg'"/>
									</unit>
									<system>
										<xsl:attribute name="value" namespace="" select="$var2_http___unitsofmeasure_org_as_string"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'mm[Hg]'"/>
									</code>
								</valueQuantity>
							</component>
							<xsl:for-each select="$var4_cur/ns2:tk_diast">
								<component>
									<code>
										<coding>
											<system>
												<xsl:attribute name="value" namespace="" select="$var3_http___loinc_org_as_string"/>
											</system>
											<code>
												<xsl:attribute name="value" namespace="" select="'8462-4'"/>
											</code>
											<display>
												<xsl:attribute name="value" namespace="" select="'Diastolic blood pressure'"/>
											</display>
										</coding>
									</code>
									<valueQuantity>
										<value>
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</value>
										<unit>
											<xsl:attribute name="value" namespace="" select="'mmHg'"/>
										</unit>
										<system>
											<xsl:attribute name="value" namespace="" select="$var2_http___unitsofmeasure_org_as_string"/>
										</system>
										<code>
											<xsl:attribute name="value" namespace="" select="'mm[Hg]'"/>
										</code>
									</valueQuantity>
								</component>
							</xsl:for-each>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$fyznalType">
			<xsl:variable name="var6_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:pulz">
				<xsl:variable name="var5_guid_pulz" as="node()?" select="$var6_cur/@guid_pulz"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var5_guid_pulz">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var5_guid_pulz">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var6_cur/@vguid_pulz">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/heartrate'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'8867-4'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Heart rate'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'/min'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'/min'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$fyznalType">
			<xsl:variable name="var8_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:o2sat">
				<xsl:variable name="var7_guid_o_sat" as="node()?" select="$var8_cur/@guid_o2sat"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var7_guid_o_sat">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var7_guid_o_sat">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var8_cur/@vguid_o2sat">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/oxygensat'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'2708-6'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Oxygen saturation in Arterial blood'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'%'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'%'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$fyznalType">
			<xsl:variable name="var10_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:dech">
				<xsl:variable name="var9_guid_dech" as="node()?" select="$var10_cur/@guid_dech"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var9_guid_dech">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var9_guid_dech">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var10_cur/@vguid_dech">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/resprate'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'9279-1'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Respiratory rate'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'/min'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'/min'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:for-each select="$fyznalType">
			<xsl:variable name="var12_cur" as="node()" select="."/>
			<xsl:for-each select="ns2:teplota">
				<xsl:variable name="var11_guid_teplota" as="node()?" select="$var12_cur/@guid_teplota"/>
				<entry xmlns="http://hl7.org/fhir">
					<xsl:for-each select="$var11_guid_teplota">
						<fullUrl>
							<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(fn:concat('Observation/', fn:string(.))))"/>
						</fullUrl>
					</xsl:for-each>
					<resource>
						<Observation>
							<xsl:for-each select="$var11_guid_teplota">
								<id>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</id>
							</xsl:for-each>
							<meta>
								<xsl:for-each select="$var12_cur/@vguid_teplota">
									<versionId>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</versionId>
								</xsl:for-each>
								<profile>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://hl7.org/fhir/StructureDefinition/bodytemp'))"/>
								</profile>
							</meta>
							<status>
								<xsl:attribute name="value" namespace="" select="'final'"/>
							</status>
							<category>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://terminology.hl7.org/CodeSystem/observation-category'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'vital-signs'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Vital Signs'"/>
									</display>
								</coding>
							</category>
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://loinc.org'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="'8310-5'"/>
									</code>
									<display>
										<xsl:attribute name="value" namespace="" select="'Body temperature'"/>
									</display>
								</coding>
							</code>
							<subject>
								<xsl:sequence select="($patientReference/@node(), $patientReference/node())"/>
							</subject>
							<xsl:for-each select="$dat_prov">
								<effectiveDateTime>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</effectiveDateTime>
							</xsl:for-each>
							<xsl:for-each select="$practitionerReference">
								<performer>
									<reference>
										<xsl:attribute name="value" namespace="" select="."/>
									</reference>
								</performer>
							</xsl:for-each>
							<valueQuantity>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
								<unit>
									<xsl:attribute name="value" namespace="" select="'C'"/>
								</unit>
								<system>
									<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('http://unitsofmeasure.org'))"/>
								</system>
								<code>
									<xsl:attribute name="value" namespace="" select="'Cel'"/>
								</code>
							</valueQuantity>
						</Observation>
					</resource>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:fyznal_-_all">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip_fyznal" select="()"/>
		<xsl:param name="patsumdat_fyznal" select="()"/>
		<xsl:param name="dat_prov" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var4_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var3_create_dat_prov_of_dat_prov" as="node()+">
			<xsl:for-each select="$dat_prov">
				<dat_prov xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_prov>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var1_resultof_fyznal" as="node()*">
			<xsl:call-template name="provisio:fyznal">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="fyznalType" as="node()+">
					<xsl:for-each select="$ip_fyznal">
						<fyznalType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</fyznalType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var1_resultof_fyznal">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var2_resultof_fyznal" as="node()*">
			<xsl:call-template name="provisio:fyznal">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var4_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="fyznalType" as="node()+">
					<xsl:for-each select="$patsumdat_fyznal">
						<fyznalType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</fyznalType>
					</xsl:for-each>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var3_create_dat_prov_of_dat_prov" as="node()+"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var2_resultof_fyznal">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:ip">
		<xsl:param name="patientReference" select="()"/>
		<xsl:param name="ip" select="()"/>
		<xsl:param name="organizatinReference" select="()"/>
		<xsl:param name="practitionerReference" select="()"/>
		<xsl:variable name="var95_let" as="node()*" select="($patientReference/@node(), $patientReference/node())"/>
		<xsl:variable name="var83_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:grav">
				<gravType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</gravType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var84_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:fyznal">
				<fyznalType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</fyznalType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var85_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:chv">
				<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</chvType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var86_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:le">
				<leType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</leType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var87_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:oc">
				<ocType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</ocType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var88_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:dg">
				<dgType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dgType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var89_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:an">
				<anType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</anType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var90_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:u">
				<uType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</uType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var91_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:h">
				<hType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</hType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var92_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:anf">
				<anfType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</anfType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var93_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:fs">
				<fsType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</fsType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var94_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ld">
				<ldType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</ldType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var81_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:dat_prov">
				<dat_prov xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dat_prov>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var82_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:anf/ns2:anam_vyk/ns2:chv">
				<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</chvType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var80_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:anf/ns2:anam_oc">
				<ocType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:for-each select="@guid">
						<xsl:attribute name="guid" namespace="" select="fn:string(.)"/>
					</xsl:for-each>
					<xsl:for-each select="@vguid">
						<xsl:attribute name="vguid" namespace="" select="fn:string(.)"/>
					</xsl:for-each>
					<xsl:for-each select="ns2:ocz">
						<ocz>
							<xsl:sequence select="(./@node(), ./node())"/>
						</ocz>
					</xsl:for-each>
				</ocType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var68_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:chv">
				<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</chvType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var69_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:ld">
				<ldType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</ldType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var70_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:le">
				<leType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</leType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var71_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:grav">
				<gravType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</gravType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var72_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:fs">
				<fsType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</fsType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var73_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:dg">
				<dgType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</dgType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var74_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:fyznal">
				<fyznalType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</fyznalType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var75_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:an">
				<anType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</anType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var76_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:u">
				<uType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</uType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var77_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:h">
				<hType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</hType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var78_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:oc">
				<ocType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</ocType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var79_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:anf">
				<anfType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</anfType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var67_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:anf/ns2:anam_vyk/ns2:chv">
				<chvType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:sequence select="(./@node(), ./node())"/>
				</chvType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var66_map_of_ip" as="node()*">
			<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:ku_z_patsumdat/ns2:anf/ns2:anam_oc">
				<ocType xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
					<xsl:for-each select="@guid">
						<xsl:attribute name="guid" namespace="" select="fn:string(.)"/>
					</xsl:for-each>
					<xsl:for-each select="@vguid">
						<xsl:attribute name="vguid" namespace="" select="fn:string(.)"/>
					</xsl:for-each>
					<xsl:for-each select="ns2:ocz">
						<ocz>
							<xsl:sequence select="(./@node(), ./node())"/>
						</ocz>
					</xsl:for-each>
				</ocType>
			</xsl:for-each>
		</xsl:variable>
		<xsl:for-each select="$ip/ns2:ku/ns2:ku_z/ns2:dat_prov">
			<xsl:variable name="var3_resultof_le___all" as="node()*">
				<xsl:call-template name="provisio:le_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_le" select="$var86_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_le" select="$var70_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var6_resultof_u___all" as="node()*">
				<xsl:call-template name="provisio:u_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_u" select="$var90_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_u" select="$var76_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var9_resultof_fs___all" as="node()*">
				<xsl:call-template name="provisio:fs_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_fs" select="$var93_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_fs" select="$var72_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var12_resultof_ld___all" as="node()*">
				<xsl:call-template name="provisio:ld_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="ip_ld" select="$var94_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_ld" select="$var69_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var15_resultof_chv___all" as="node()*">
				<xsl:call-template name="provisio:chv_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_chv" select="$var85_map_of_ip" as="node()*"/>
					<xsl:with-param name="ip_anf_anam_vyk_chv" select="$var82_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_anf_anam_vyk_chv" select="$var67_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsudat_chv" select="$var68_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var18_resultof_oc___all" as="node()*">
				<xsl:call-template name="provisio:oc_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="ip_oc" select="$var87_map_of_ip" as="node()*"/>
					<xsl:with-param name="anf_anam_oc" select="$var80_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_anf_anam_oc" select="$var66_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_oc" select="$var78_map_of_ip" as="node()*"/>
					<xsl:with-param name="dsipdat_ab" select="()" as="xs:dateTime?"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var21_resultof_h___all" as="node()*">
				<xsl:call-template name="provisio:h_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="ip_h" select="$var91_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_h" select="$var77_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var24_resultof_fyznal___all" as="node()*">
				<xsl:call-template name="provisio:fyznal_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_fyznal" select="$var84_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_fyznal" select="$var74_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var27_resultof_u___all" as="node()*">
				<xsl:call-template name="provisio:u_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_u" select="$var90_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_u" select="$var76_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var30_resultof_an___all" as="node()*">
				<xsl:call-template name="provisio:an_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="ip_an" select="$var89_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_an" select="$var75_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var33_resultof_grav___all" as="node()*">
				<xsl:call-template name="provisio:grav_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_grav" select="$var83_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_grav" select="$var71_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var36_resultof_u___all" as="node()*">
				<xsl:call-template name="provisio:u_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_u" select="$var90_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_u" select="$var76_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var39_resultof_u___all" as="node()*">
				<xsl:call-template name="provisio:u_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_u" select="$var90_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_u" select="$var76_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var42_resultof_anf___all" as="node()*">
				<xsl:call-template name="provisio:anf_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_anf" select="$var92_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="patsumdat_anf" select="$var79_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var45_resultof_anf___all" as="node()*">
				<xsl:call-template name="provisio:anf_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_anf" select="$var92_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="patsumdat_anf" select="$var79_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var48_resultof_anf___all" as="node()*">
				<xsl:call-template name="provisio:anf_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_anf" select="$var92_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="patsumdat_anf" select="$var79_map_of_ip" as="node()*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var51_resultof_dg___all" as="node()*">
				<xsl:call-template name="provisio:dg_-_all">
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="ip_dg" select="$var88_map_of_ip" as="node()*"/>
					<xsl:with-param name="patsumdat_dg" select="$var73_map_of_ip" as="node()*"/>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:variable name="var52_resultof_Composition_EU_PS" as="node()*">
				<xsl:call-template name="provisio:Composition_EU_PS">
					<xsl:with-param name="HDRdate" select="fn:string(.)" as="xs:string"/>
					<xsl:with-param name="patientReference" as="node()">
						<Reference xmlns="http://hl7.org/fhir">
							<xsl:sequence select="$var95_let"/>
						</Reference>
					</xsl:with-param>
					<xsl:with-param name="sectionMedications_le" as="node()*">
						<xsl:for-each select="$var3_resultof_le___all">
							<xsl:variable name="var2_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var1_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var2_cur/ns0:resource/ns0:MedicationAdministration/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var1_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionAllergies_ua" as="node()*">
						<xsl:for-each select="$var6_resultof_u___all">
							<xsl:variable name="var5_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'AllergyIntolerance')]">
								<xsl:variable name="var4_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var5_cur/ns0:resource/ns0:AllergyIntolerance/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var4_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionFunctionalStatus_fs" as="node()*">
						<xsl:for-each select="$var9_resultof_fs___all">
							<xsl:variable name="var8_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var7_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var8_cur/ns0:resource/ns0:Condition/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var7_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionPlanOfCare_ld" as="node()*">
						<xsl:for-each select="$var12_resultof_ld___all">
							<xsl:variable name="var11_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var10_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var11_cur/ns0:resource/ns0:CarePlan/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var10_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
					<xsl:with-param name="sectionProceduresHx_chv" as="node()*">
						<xsl:for-each select="$var15_resultof_chv___all">
							<xsl:variable name="var14_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var13_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var14_cur/ns0:resource/ns0:Procedure/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var13_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
					<xsl:with-param name="sectionImmunizations_oc" as="node()*">
						<xsl:for-each select="$var18_resultof_oc___all">
							<xsl:variable name="var17_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var16_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var17_cur/ns0:resource/ns0:Immunization/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var16_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionVitalSigns_h" as="node()*">
						<xsl:for-each select="$var21_resultof_h___all">
							<xsl:variable name="var20_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var19_cur" as="node()" select="."/>
								<xsl:for-each select="$var20_cur/ns0:resource/ns0:Observation/ns0:meta/ns0:versionId/@value">
									<entry xmlns="http://hl7.org/fhir">
										<reference>
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var19_cur))), '/_history/'), fn:string(.))"/>
										</reference>
									</entry>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionVitalSigns_fyznal" as="node()*">
						<xsl:for-each select="$var24_resultof_fyznal___all">
							<xsl:variable name="var23_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var22_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var23_cur/ns0:resource/ns0:Observation/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var22_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionResults_uks" as="node()*">
						<xsl:for-each select="$var27_resultof_u___all">
							<xsl:variable name="var26_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'Observation')]">
								<xsl:variable name="var25_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var26_cur/ns0:resource/ns0:Observation/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var25_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionResults_an" as="node()*">
						<xsl:for-each select="$var30_resultof_an___all">
							<xsl:variable name="var29_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var28_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var29_cur/ns0:resource/ns0:DiagnosticReport/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var28_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionPregnancyHx_grav" as="node()*">
						<xsl:for-each select="$var33_resultof_grav___all">
							<xsl:variable name="var32_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var31_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var32_cur/ns0:resource/ns0:Observation/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var31_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionMedicalDevices_uniz" as="node()*">
						<xsl:for-each select="$var36_resultof_u___all">
							<xsl:variable name="var35_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'DeviceUseStatement')]">
								<xsl:variable name="var34_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var35_cur/ns0:resource/ns0:DeviceUseStatement/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var34_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionAlert_urf_utm_uot" as="node()*">
						<xsl:for-each select="$var39_resultof_u___all">
							<xsl:variable name="var38_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'Flag')]">
								<xsl:variable name="var37_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var38_cur/ns0:resource/ns0:Flag/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var37_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionProblems_anf_anam_prob" as="node()*">
						<xsl:for-each select="$var42_resultof_anf___all">
							<xsl:variable name="var41_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'Condition')]">
								<xsl:variable name="var40_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var41_cur/ns0:resource/ns0:Condition/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var40_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionSocialHistory_anf_rao" as="node()*">
						<xsl:for-each select="$var45_resultof_anf___all">
							<xsl:variable name="var44_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'FamilyMemberHistory')]">
								<xsl:variable name="var43_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var44_cur/ns0:resource/ns0:FamilyMemberHistory/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var43_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionSocialHistory_anf_inf_infc_sa" as="node()*">
						<xsl:for-each select="$var48_resultof_anf___all">
							<xsl:variable name="var47_cur" as="node()" select="."/>
							<xsl:for-each select="(./ns0:fullUrl/@value)[fn:starts-with(xs:string(xs:anyURI(fn:string(.))), 'Observation')]">
								<xsl:variable name="var46_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var47_cur/ns0:resource/ns0:Observation/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var46_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
					<xsl:with-param name="sectionProblems_dg" as="node()*">
						<xsl:for-each select="$var51_resultof_dg___all">
							<xsl:variable name="var50_cur" as="node()" select="."/>
							<xsl:for-each select="ns0:fullUrl/@value">
								<xsl:variable name="var49_cur" as="node()" select="."/>
								<entry xmlns="http://hl7.org/fhir">
									<reference>
										<xsl:for-each select="$var50_cur/ns0:resource/ns0:Condition/ns0:meta/ns0:versionId/@value">
											<xsl:attribute name="value" namespace="" select="fn:concat(fn:concat(xs:string(xs:anyURI(fn:string($var49_cur))), '/_history/'), fn:string(.))"/>
										</xsl:for-each>
									</reference>
								</entry>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:with-param>
				</xsl:call-template>
			</xsl:variable>
			<xsl:for-each select="$var52_resultof_Composition_EU_PS">
				<entry xmlns="http://hl7.org/fhir">
					<xsl:sequence select="(./@node(), ./node())"/>
				</entry>
			</xsl:for-each>
		</xsl:for-each>
		<xsl:variable name="var53_resultof_h___all" as="node()*">
			<xsl:call-template name="provisio:h_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="ip_h" select="$var91_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_h" select="$var77_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var53_resultof_h___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var54_resultof_fyznal___all" as="node()*">
			<xsl:call-template name="provisio:fyznal_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_fyznal" select="$var84_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_fyznal" select="$var74_map_of_ip" as="node()*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var54_resultof_fyznal___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var55_resultof_grav___all" as="node()*">
			<xsl:call-template name="provisio:grav_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_grav" select="$var83_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_grav" select="$var71_map_of_ip" as="node()*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var55_resultof_grav___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var56_resultof_u___all" as="node()*">
			<xsl:call-template name="provisio:u_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_u" select="$var90_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_u" select="$var76_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var56_resultof_u___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var57_resultof_an___all" as="node()*">
			<xsl:call-template name="provisio:an_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="ip_an" select="$var89_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_an" select="$var75_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var57_resultof_an___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var58_resultof_anf___all" as="node()*">
			<xsl:call-template name="provisio:anf_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_anf" select="$var92_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="patsumdat_anf" select="$var79_map_of_ip" as="node()*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var58_resultof_anf___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var59_resultof_oc___all" as="node()*">
			<xsl:call-template name="provisio:oc_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
				<xsl:with-param name="ip_oc" select="$var87_map_of_ip" as="node()*"/>
				<xsl:with-param name="anf_anam_oc" select="$var80_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_anf_anam_oc" select="$var66_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_oc" select="$var78_map_of_ip" as="node()*"/>
				<xsl:with-param name="dsipdat_ab" select="()" as="xs:dateTime?"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var59_resultof_oc___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var60_resultof_dg___all" as="node()*">
			<xsl:call-template name="provisio:dg_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_dg" select="$var88_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_dg" select="$var73_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var60_resultof_dg___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var61_resultof_le___all" as="node()*">
			<xsl:call-template name="provisio:le_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_le" select="$var86_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_le" select="$var70_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var61_resultof_le___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var62_resultof_chv___all" as="node()*">
			<xsl:call-template name="provisio:chv_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_chv" select="$var85_map_of_ip" as="node()*"/>
				<xsl:with-param name="ip_anf_anam_vyk_chv" select="$var82_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_anf_anam_vyk_chv" select="$var67_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsudat_chv" select="$var68_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var62_resultof_chv___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var63_resultof_ld___all" as="node()*">
			<xsl:call-template name="provisio:ld_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="ip_ld" select="$var94_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_ld" select="$var69_map_of_ip" as="node()*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var63_resultof_ld___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var64_resultof_fs___all" as="node()*">
			<xsl:call-template name="provisio:fs_-_all">
				<xsl:with-param name="patientReference" as="node()">
					<Reference xmlns="http://hl7.org/fhir">
						<xsl:sequence select="$var95_let"/>
					</Reference>
				</xsl:with-param>
				<xsl:with-param name="ip_fs" select="$var93_map_of_ip" as="node()*"/>
				<xsl:with-param name="patsumdat_fs" select="$var72_map_of_ip" as="node()*"/>
				<xsl:with-param name="organizatinReference" select="$organizatinReference" as="xs:string*"/>
				<xsl:with-param name="practitionerReference" select="$practitionerReference" as="xs:string*"/>
				<xsl:with-param name="dat_prov" select="$var81_map_of_ip" as="node()*"/>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var64_resultof_fs___all">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
		<xsl:variable name="var65_resultof_ip_ip" as="node()*">
			<xsl:call-template name="provisio:ip_ip">
				<xsl:with-param name="ip" as="node()+">
					<xsl:for-each select="$ip">
						<ip xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
							<xsl:sequence select="(./@node(), ./node())"/>
						</ip>
					</xsl:for-each>
				</xsl:with-param>
			</xsl:call-template>
		</xsl:variable>
		<xsl:for-each select="$var65_resultof_ip_ip">
			<entry xmlns="http://hl7.org/fhir">
				<xsl:sequence select="(./@node(), ./node())"/>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:FullURL_PractitionerRole">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('PractitionerRole/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:FullURL_Practitioner">
		<xsl:param name="GUID" select="()"/>
		<xsl:sequence select="fn:concat('Practitioner/', $GUID)"/>
	</xsl:template>
	<xsl:template name="provisio:garant_dat">
		<xsl:param name="garant_dat" select="()"/>
		<xsl:for-each select="$garant_dat">
			<xsl:variable name="var2_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<fullUrl>
					<xsl:for-each select="$var2_guid">
						<xsl:for-each select="$var2_guid">
							<xsl:variable name="var1_resultof_FullURL_Practitioner" as="xs:string?">
								<xsl:call-template name="provisio:FullURL_Practitioner">
									<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var1_resultof_FullURL_Practitioner">
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
				</fullUrl>
				<resource>
					<Practitioner>
						<id>
							<xsl:for-each select="$var2_guid">
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</xsl:for-each>
						</id>
						<meta>
							<versionId>
								<xsl:for-each select="@vguid">
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</xsl:for-each>
							</versionId>
						</meta>
						<xsl:for-each select="@id_zp">
							<identifier>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@id_garant">
							<identifier>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<xsl:for-each select="@id_clk">
							<identifier>
								<value>
									<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
								</value>
							</identifier>
						</xsl:for-each>
						<name>
							<text>
								<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
							</text>
						</name>
					</Practitioner>
				</resource>
			</entry>
		</xsl:for-each>
		<xsl:for-each select="$garant_dat">
			<xsl:variable name="var8_current" as="node()" select="."/>
			<xsl:variable name="var7_guid" as="node()?" select="@guid"/>
			<entry xmlns="http://hl7.org/fhir">
				<fullUrl>
					<xsl:for-each select="$var7_guid">
						<xsl:for-each select="$var7_guid">
							<xsl:variable name="var3_resultof_FullURL_PractitionerRole" as="xs:string?">
								<xsl:call-template name="provisio:FullURL_PractitionerRole">
									<xsl:with-param name="GUID" select="fn:string(.)" as="xs:string"/>
								</xsl:call-template>
							</xsl:variable>
							<xsl:for-each select="$var3_resultof_FullURL_PractitionerRole">
								<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI(.))"/>
							</xsl:for-each>
						</xsl:for-each>
					</xsl:for-each>
				</fullUrl>
				<resource>
					<PractitionerRole>
						<practitioner>
							<reference>
								<xsl:for-each select="$var7_guid">
									<xsl:variable name="var6_vguid" as="node()?" select="$var8_current/@vguid"/>
									<xsl:for-each select="$var6_vguid">
										<xsl:for-each select="$var7_guid">
											<xsl:variable name="var5_cur" as="node()" select="."/>
											<xsl:for-each select="$var6_vguid">
												<xsl:variable name="var4_resultof_Reference_Practitioner" as="xs:string?">
													<xsl:call-template name="provisio:Reference_Practitioner">
														<xsl:with-param name="GUID" select="fn:string($var5_cur)" as="xs:string"/>
														<xsl:with-param name="VGUID" select="fn:string(.)" as="xs:string"/>
													</xsl:call-template>
												</xsl:variable>
												<xsl:for-each select="$var4_resultof_Reference_Practitioner">
													<xsl:attribute name="value" namespace="" select="."/>
												</xsl:for-each>
											</xsl:for-each>
										</xsl:for-each>
									</xsl:for-each>
								</xsl:for-each>
							</reference>
						</practitioner>
						<xsl:for-each select="@role_klic">
							<code>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dasta.mzcr.cz/WWBSK.htm'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
									<display>
										<xsl:for-each select="$var8_current/@role_text">
											<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
										</xsl:for-each>
									</display>
								</coding>
							</code>
						</xsl:for-each>
						<xsl:for-each select="@odbornost">
							<specialty>
								<coding>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://dasta.mzcr.cz/UZAGT.htm'))"/>
									</system>
									<code>
										<xsl:attribute name="value" namespace="" select="fn:string(.)"/>
									</code>
								</coding>
							</specialty>
						</xsl:for-each>
					</PractitionerRole>
				</resource>
			</entry>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="provisio:Reference_Practitioner">
		<xsl:param name="GUID" select="()"/>
		<xsl:param name="VGUID" select="()"/>
		<xsl:sequence select="fn:concat(fn:concat(fn:concat('Practitioner/', $GUID), '/_history/'), $VGUID)"/>
	</xsl:template>
	<xsl:template name="provisio:Reference_Organization">
		<xsl:param name="GUID" select="()"/>
		<xsl:param name="VGUID" select="()"/>
		<xsl:sequence select="fn:concat(fn:concat(fn:concat('Organization/', $GUID), '/_history/'), $VGUID)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf1_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_pac">
			<xsl:attribute name="id_pac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_id_pac">
			<xsl:attribute name="typ_id_pac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:rodcis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rip)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:id_card)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf2_id_cardType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:passport)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf3_passportType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_pred)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_za)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_dn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:misto_nar)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat_pris)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_de)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sex)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sex_klin)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rod_prijm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jine_idu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typ_sdel)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duvernost)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jazyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf5_jazykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ipi_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf6_ipiType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ipi_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf6_ipiType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:povolani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf8_povolaniType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf9_hType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fyznal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf10_fyznalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:grav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf11_gravType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_pac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf12_pv_pacType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf13_pType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:n)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf14_nType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:u)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf15_uType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:an)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf16_anType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf17_anfType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:oc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf18_ocType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf19_dgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:le)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lek)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf21_lekType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:chv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf22_chvType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fzs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf23_fzsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ld)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf24_ldType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf25_fsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf26_pnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ts)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf27_tsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tps)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf28_tpsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf29_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ipAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf2_id_cardType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:id_number)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf3_passportType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:id_number)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf4_dat_xxType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@format">
			<xsl:attribute name="format" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf5_jazykType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jazyk_klic">
			<xsl:attribute name="jazyk_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jazyk_text">
			<xsl:attribute name="jazyk_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pref">
			<xsl:attribute name="pref" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn">
			<xsl:attribute name="pozn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jazykAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf6_ipiType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nem_cis">
			<xsl:attribute name="nem_cis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kat_pac">
			<xsl:attribute name="kat_pac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_chor">
			<xsl:attribute name="cis_chor" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_is">
			<xsl:attribute name="cis_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ipiAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf7_aType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_kont">
			<xsl:attribute name="ind_kont" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sr_typ">
			<xsl:attribute name="sr_typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sr_pois">
			<xsl:attribute name="sr_pois" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sr_kod">
			<xsl:attribute name="sr_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sr_lekar">
			<xsl:attribute name="sr_lekar" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns1:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:o_jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:o_prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:o_titul_pred)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:o_titul_za)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:f_jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:f_ico)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:adr)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:dop1)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:dop2)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:psc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:mesto)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:stat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:stat_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:gps)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf33_gpsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:vztah)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:k_osoba_klic)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:k_osoba_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:k_osoba_pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:k_osoba_typ)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:k_osoba_pravo)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:icl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:id_zp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:as)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf34_asType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:aAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf8_povolaniType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:povolani_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:povolaniAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf9_hType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_vyska">
			<xsl:attribute name="guid_vyska" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_vyska">
			<xsl:attribute name="vguid_vyska" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_hmotnost">
			<xsl:attribute name="guid_hmotnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_hmotnost">
			<xsl:attribute name="vguid_hmotnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_bmi">
			<xsl:attribute name="guid_bmi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_bmi">
			<xsl:attribute name="vguid_bmi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_o_hlava">
			<xsl:attribute name="guid_o_hlava" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_o_hlava">
			<xsl:attribute name="vguid_o_hlava" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_o_hrudnik">
			<xsl:attribute name="guid_o_hrudnik" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_o_hrudnik">
			<xsl:attribute name="vguid_o_hrudnik" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_o_pas">
			<xsl:attribute name="guid_o_pas" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_o_pas">
			<xsl:attribute name="vguid_o_pas" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vyska">
			<xsl:attribute name="vyska" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hmotnost">
			<xsl:attribute name="hmotnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@bmi">
			<xsl:attribute name="bmi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@o_hlava">
			<xsl:attribute name="o_hlava" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@o_hrudnik">
			<xsl:attribute name="o_hrudnik" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@o_pas">
			<xsl:attribute name="o_pas" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf10_fyznalType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_tk">
			<xsl:attribute name="guid_tk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_tk">
			<xsl:attribute name="vguid_tk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_pulz">
			<xsl:attribute name="guid_pulz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_pulz">
			<xsl:attribute name="vguid_pulz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_o2sat">
			<xsl:attribute name="guid_o2sat" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_o2sat">
			<xsl:attribute name="vguid_o2sat" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_dech">
			<xsl:attribute name="guid_dech" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_dech">
			<xsl:attribute name="vguid_dech" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@guid_teplota">
			<xsl:attribute name="guid_teplota" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid_teplota">
			<xsl:attribute name="vguid_teplota" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:tk_syst)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tk_diast)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pulz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:o2sat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dech)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:teplota)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fyznalAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf11_gravType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:grav_tp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf36_grav_tpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_poc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:gravAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf12_pv_pacType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_pv">
			<xsl:attribute name="typ_pv" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pv_zp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf37_pv_zpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_zpeu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf38_pv_zpeuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_jp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf39_pv_jpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_st)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf40_studieType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_pacAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf13_pType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:cispoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kodpoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typpoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat_poj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:euro_ide)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pruk_cis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf14_nType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zam_text">
			<xsl:attribute name="zam_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klas_zam">
			<xsl:attribute name="klas_zam" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rod_stav">
			<xsl:attribute name="rod_stav" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@narodnost">
			<xsl:attribute name="narodnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vzdelani">
			<xsl:attribute name="vzdelani" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf15_uType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ua)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf42_uaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf43_urfType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uniz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf44_unizType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:utm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf45_utmType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uks)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf46_uksType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uot)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf47_uotType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf16_anType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ak)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf17_anfType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:anam_prob)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf49_anam_probType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_zpi)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf50_anam_zpiType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_vyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf51_anam_vykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_oc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf52_anam_ocType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_inf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf53_anam_infType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_infc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf54_anam_infcType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_rao)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf55_anam_raoType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_sa)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf56_anam_saType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_aba)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf57_anam_abaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf58_anam_abkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf59_anam_abdType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf60_anam_abjType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf18_ocType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ocz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf61_oczType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ak)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ocAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf19_dgType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dgz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dgAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf20_leType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lez)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf63_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:leAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf21_lekType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lek_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf64_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lekAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf22_chvType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@chvps_klic">
			<xsl:attribute name="chvps_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@chvps_text">
			<xsl:attribute name="chvps_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:alv_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:alv_form)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duvod_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duvod_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysledek)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:komplikace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zdrav_prost)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:chvAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf23_fzsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fzsAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf24_ldType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ldAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf25_fsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fsAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf26_pnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pnz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf66_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf67_hpnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pdhpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf68_pdhpnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pnAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf27_tsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ts_z)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf69_ts_zType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ts_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf70_ts_oType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf28_tpsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:tps_z)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf71_tps_zType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tps_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf72_tps_oType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tps_a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tps_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf73_tps_vType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf29_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ku_p)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf74_ku_pType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf75_ku_zType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf76_ku_oType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf77_ku_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf30_AnyType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::*)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="(./@node(), ./node())"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf31_autorType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_zp">
			<xsl:attribute name="id_zp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_autor">
			<xsl:attribute name="id_autor" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odbornost">
			<xsl:attribute name="odbornost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_clk">
			<xsl:attribute name="id_clk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_klic">
			<xsl:attribute name="role_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_text">
			<xsl:attribute name="role_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf32_dat_duType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@format">
			<xsl:attribute name="format" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf33_gpsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lat">
			<xsl:attribute name="lat" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lon">
			<xsl:attribute name="lon" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf34_asType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poradi">
			<xsl:attribute name="poradi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns1:obsah)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:vnitrni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:sdeleni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:heslo)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:asAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf35_iidType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@root">
			<xsl:attribute name="root" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ext">
			<xsl:attribute name="ext" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf36_grav_tpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zutp_klic">
			<xsl:attribute name="zutp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zutp_text">
			<xsl:attribute name="zutp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_por)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf37_pv_zpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:cispoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kodpoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typpoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf38_pv_zpeuType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:euro_ide)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat_poj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typpoj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf39_pv_jpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:identifikace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kod_platce)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nazev_platce)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf40_studieType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:cis_studie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:id_studie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nazev_studie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:platnost_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:platnost_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf41_garant_datType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_zp">
			<xsl:attribute name="id_zp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_garant">
			<xsl:attribute name="id_garant" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odbornost">
			<xsl:attribute name="odbornost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_clk">
			<xsl:attribute name="id_clk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_klic">
			<xsl:attribute name="role_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_text">
			<xsl:attribute name="role_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf42_uaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:u_al)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uaf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf78_uafType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jistota_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jistota_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_up)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:obdobi_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:obdobi_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf43_urfType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:u_rf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urff)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf79_urffType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_up)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urfAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf44_unizType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:u_niz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:unizf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf80_unizfType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duvod_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duvod_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_up)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:unizAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf45_utmType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:u_tm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ak)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:utmAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf46_uksType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ks_rh)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ks_rh_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:krevskup)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rh)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ak)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uksAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf47_uotType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_ak)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uotAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf48_textType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ptext)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf81_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ktext)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf82_ktextType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:priloha)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf83_prilohaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:textAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf49_anam_probType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:prob_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_klin)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_okol)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_zav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_stad_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_stad_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf50_anam_zpiType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:uniz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf44_unizType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zpi_souhrn_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf51_anam_vykType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:chv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf22_chvType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vyk_souhrn_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf52_anam_ocType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ocz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf61_oczType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:oc_souhrn_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf53_anam_infType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:inf_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_agens)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_expoz_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_expoz_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_stat_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_stat_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:inf_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf54_anam_infcType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:infc_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:infc_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:infc_stat_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:infc_stat_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:infc_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf55_anam_raoType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:rao_vztah_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_vztah_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_dat_nar)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_dat_um)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_vzdel)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_zdrprob_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rao_duvum_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf56_anam_saType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:sau_prac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sau_zajmy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sau_soc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sav_vzdel)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sav_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_zpbydl_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_zpbydl_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_prizp_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_prizp_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_bariery_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sab_bariery_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_slozrod_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_rodstav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_pocdet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_pocdetd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_dite)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sar_pecezc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf57_anam_abaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:aba_stav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aba_stav_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aba_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aba_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aba_mnoz_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aba_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf58_anam_abkType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:abk_stav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abk_stav_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abk_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abk_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abk_mnoz_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abk_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf59_anam_abdType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:abd_stav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_stav_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_mnoz_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_lattyp_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_lattyp_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_latzp_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_latzp_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abd_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf60_anam_abjType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:abj_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:abj_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf61_oczType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_oc_kod">
			<xsl:attribute name="typ_oc_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_oc_text">
			<xsl:attribute name="typ_oc_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_ockovani">
			<xsl:attribute name="id_ockovani" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_ockovani_isin">
			<xsl:attribute name="id_ockovani_isin" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@indikace_text">
			<xsl:attribute name="indikace_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:indikace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:agens)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf84_agensType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:davka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf85_davkaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_po)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:oczAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf62_dgzType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_dg">
			<xsl:attribute name="typ_dg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvernost">
			<xsl:attribute name="duvernost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duverne">
			<xsl:attribute name="duverne" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:diag)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf86_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stav_dg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zavaz_dg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_up)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:spec_dg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dgzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf63_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_med">
			<xsl:attribute name="typ_med" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_lek">
			<xsl:attribute name="nazev_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@gene_lek">
			<xsl:attribute name="gene_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_lek">
			<xsl:attribute name="kod_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_kod_lek">
			<xsl:attribute name="cis_kod_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_kod_lek_v">
			<xsl:attribute name="cis_kod_lek_v" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_atc">
			<xsl:attribute name="kod_atc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_atb">
			<xsl:attribute name="kod_atb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@apl_cesta_klic">
			<xsl:attribute name="apl_cesta_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@apl_cesta_text">
			<xsl:attribute name="apl_cesta_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@misto_apl_klic">
			<xsl:attribute name="misto_apl_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@misto_apl_text">
			<xsl:attribute name="misto_apl_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@forma_klic">
			<xsl:attribute name="forma_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@forma_text">
			<xsl:attribute name="forma_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sila_leku">
			<xsl:attribute name="sila_leku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@velikost_baleni">
			<xsl:attribute name="velikost_baleni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ind_m_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ind_m_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zmena_m_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zmena_m_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aktivni_latka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf87_lez_alType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lez_obal_leku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf88_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rozpis_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:magistraliter)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:instrukce_pac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:delka_vyb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lezAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf64_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_lek">
			<xsl:attribute name="nazev_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poc_bal">
			<xsl:attribute name="poc_bal" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@gene_lek">
			<xsl:attribute name="gene_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_lek">
			<xsl:attribute name="kod_lek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_atc">
			<xsl:attribute name="kod_atc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_pdk">
			<xsl:attribute name="kod_pdk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_dok_is">
			<xsl:attribute name="id_dok_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cena">
			<xsl:attribute name="cena" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@icl">
			<xsl:attribute name="icl" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rozpis_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vydal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:magistraliter)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lekvAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf65_mknorphaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:kod_syst)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kod_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf66_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cislo_tiskopisu">
			<xsl:attribute name="cislo_tiskopisu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag_poc">
			<xsl:attribute name="diag_poc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uraz_prac">
			<xsl:attribute name="uraz_prac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uraz_ostatni">
			<xsl:attribute name="uraz_ostatni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uraz_zavineny">
			<xsl:attribute name="uraz_zavineny" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nemoc_povol">
			<xsl:attribute name="nemoc_povol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@alkohol">
			<xsl:attribute name="alkohol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@drogy">
			<xsl:attribute name="drogy" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jinemu_lekari">
			<xsl:attribute name="jinemu_lekari" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag_kon">
			<xsl:attribute name="diag_kon" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pnzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf67_hpnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cfrm">
			<xsl:attribute name="cfrm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@tfrm">
			<xsl:attribute name="tfrm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag_poc">
			<xsl:attribute name="diag_poc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uraz_kod">
			<xsl:attribute name="uraz_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@alkoml">
			<xsl:attribute name="alkoml" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag_kon">
			<xsl:attribute name="diag_kon" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag_zm">
			<xsl:attribute name="diag_zm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_diag_zm">
			<xsl:attribute name="ind_diag_zm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uk_duvod">
			<xsl:attribute name="uk_duvod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_porus_rzm">
			<xsl:attribute name="ind_porus_rzm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:chpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf89_chpnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:idl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf90_idlType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ahpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf91_ahpnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:izam)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf92_izamType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vchz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf93_vchzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hsp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf94_hspType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zpshl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf95_zpshlType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:astat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_diag_zm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urssz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf97_ursszType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pece_zm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf98_pece_zmType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:porus_rzm_pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_ru)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf68_pdhpnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav">
			<xsl:attribute name="stav" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:chyba_pd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf99_chyba_pdType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf69_ts_zType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idts">
			<xsl:attribute name="idts" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_odberu">
			<xsl:attribute name="typ_odberu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav_odb">
			<xsl:attribute name="stav_odb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nest_odb">
			<xsl:attribute name="nest_odb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komplikace">
			<xsl:attribute name="komplikace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odb_zapocti">
			<xsl:attribute name="odb_zapocti" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odb_vyroba">
			<xsl:attribute name="odb_vyroba" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odb_mnozstvi">
			<xsl:attribute name="odb_mnozstvi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dar)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf100_darType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_odb_zac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_odb_konec)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:time_odb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf70_ts_oType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idts">
			<xsl:attribute name="idts" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_odberu">
			<xsl:attribute name="typ_odberu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@por_m">
			<xsl:attribute name="por_m" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav_odb">
			<xsl:attribute name="stav_odb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odb_placeny">
			<xsl:attribute name="odb_placeny" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dop_mnozstvi">
			<xsl:attribute name="dop_mnozstvi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dar)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf100_darType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_odb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_zadosti)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf71_tps_zType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idtps">
			<xsl:attribute name="idtps" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urgentni">
			<xsl:attribute name="urgentni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vydani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_tps)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf103_pv_kuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tp_z)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf104_tp_zType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf72_tps_oType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idtps">
			<xsl:attribute name="idtps" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urgentni">
			<xsl:attribute name="urgentni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_tp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf103_pv_kuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_zadosti)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tp_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf105_tp_oType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf73_tps_vType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idtps">
			<xsl:attribute name="idtps" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vraceni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:tp_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf106_tp_vType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf74_ku_pType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@idku">
			<xsl:attribute name="idku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_pac_puv">
			<xsl:attribute name="id_pac_puv" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf75_ku_zType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typku">
			<xsl:attribute name="typku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typkuspeclok">
			<xsl:attribute name="typkuspeclok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idku">
			<xsl:attribute name="idku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idsub">
			<xsl:attribute name="idsub" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idkulok">
			<xsl:attribute name="idkulok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@elabidzad_sk">
			<xsl:attribute name="elabidzad_sk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urgentni">
			<xsl:attribute name="urgentni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg_info">
			<xsl:attribute name="urg_info" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvernost">
			<xsl:attribute name="duvernost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duverne">
			<xsl:attribute name="duverne" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jazyk_dok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf107_jazyk_dokType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_real_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_real_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vydani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sdilejici)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf108_sdilejiciType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zpo)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf109_zpoType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_ku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf103_pv_kuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:studie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf40_studieType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:garant_dat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf41_garant_datType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lek_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urg_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf15_uType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:leg_vyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf110_legVykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_zaver)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_pp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:le_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_rdg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf111_ku_z_rdgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf112_ku_z_labType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_pat_n)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf113_ku_z_pat_nType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_soupis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf114_ku_z_soupisType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_pac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf115_ku_pacType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_patsumdat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf116_ku_z_patsumdatType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_patsumsest)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf117_ku_z_patsumsestType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf118_ku_z_propzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:auzku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf119_auzkuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf76_ku_oType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typku">
			<xsl:attribute name="typku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typkuspeclok">
			<xsl:attribute name="typkuspeclok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idku">
			<xsl:attribute name="idku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idsub">
			<xsl:attribute name="idsub" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idkulok">
			<xsl:attribute name="idkulok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urgentni">
			<xsl:attribute name="urgentni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvernost">
			<xsl:attribute name="duvernost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@handicap">
			<xsl:attribute name="handicap" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sdilejici)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf108_sdilejiciType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_ku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf103_pv_kuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:studie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf40_studieType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lek_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urg_poz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf15_uType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:leg_vyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf110_legVykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_prilohy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_zadosti)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_rdg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf120_ku_o_rdgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf121_ku_o_labType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_vypis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf122_ku_o_vypisType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_soupis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf123_ku_o_soupisType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuoAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf77_ku_aType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typku">
			<xsl:attribute name="typku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typkuspeclok">
			<xsl:attribute name="typkuspeclok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idku">
			<xsl:attribute name="idku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idsub">
			<xsl:attribute name="idsub" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idkulok">
			<xsl:attribute name="idkulok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stavakcept">
			<xsl:attribute name="stavakcept" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@chyba_ao">
			<xsl:attribute name="chyba_ao" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@chyba_az">
			<xsl:attribute name="chyba_az" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_akc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:akc_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:akc_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_ao_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf124_ku_ao_labType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf78_uafType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_agens">
			<xsl:attribute name="typ_agens" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_reakce">
			<xsl:attribute name="typ_reakce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@alerg_info">
			<xsl:attribute name="alerg_info" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ar_klic">
			<xsl:attribute name="ar_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ar_text">
			<xsl:attribute name="ar_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@szp_klic">
			<xsl:attribute name="szp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@szp_text">
			<xsl:attribute name="szp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:alerg_lek_klic)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:alerg_nelek_klic)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:alerg_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uafAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf79_urffType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rf_klic">
			<xsl:attribute name="rf_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rf_text">
			<xsl:attribute name="rf_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@szrf_klic">
			<xsl:attribute name="szrf_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@szrf_text">
			<xsl:attribute name="szrf_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:urffAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf80_unizfType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@niz_klic">
			<xsl:attribute name="niz_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@niz_text">
			<xsl:attribute name="niz_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@niz_ident">
			<xsl:attribute name="niz_ident" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:unizfAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf81_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@xml:space">
			<xsl:attribute name="xml:space" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf82_ktextType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@encode">
			<xsl:attribute name="encode" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf83_prilohaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@zdroj">
			<xsl:attribute name="zdroj" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf84_agensType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@agens_klic">
			<xsl:attribute name="agens_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@agens_text">
			<xsl:attribute name="agens_text" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf85_davkaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_davky">
			<xsl:attribute name="cis_davky" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poc_davek">
			<xsl:attribute name="poc_davek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_oprav_sd">
			<xsl:attribute name="ind_oprav_sd" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_davka">
			<xsl:attribute name="id_davka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_davka_isin">
			<xsl:attribute name="id_davka_isin" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_ol">
			<xsl:attribute name="kod_ol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_ol">
			<xsl:attribute name="nazev_ol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_vyrobce">
			<xsl:attribute name="nazev_vyrobce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@gene_ol">
			<xsl:attribute name="gene_ol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cis_sarze">
			<xsl:attribute name="cis_sarze" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@apl_cesta_klic">
			<xsl:attribute name="apl_cesta_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@apl_cesta_text">
			<xsl:attribute name="apl_cesta_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@misto_apl_klic">
			<xsl:attribute name="misto_apl_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@misto_apl_text">
			<xsl:attribute name="misto_apl_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn">
			<xsl:attribute name="pozn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_expirace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:reakce)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf125_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:davkaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf86_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@mkn_verze">
			<xsl:attribute name="mkn_verze" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poradi">
			<xsl:attribute name="poradi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev">
			<xsl:attribute name="nazev" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf87_lez_alType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@kod_atc">
			<xsl:attribute name="kod_atc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev">
			<xsl:attribute name="nazev" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf88_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@obal_klic">
			<xsl:attribute name="obal_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@obal_text">
			<xsl:attribute name="obal_text" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf89_chpnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@cpn">
			<xsl:attribute name="cpn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ecnicpe">
			<xsl:attribute name="ecnicpe" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ecnpc">
			<xsl:attribute name="ecnpc" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf90_idlType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:idlp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf126_idlpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf91_ahpnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@acp">
			<xsl:attribute name="acp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@aco">
			<xsl:attribute name="aco" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@az">
			<xsl:attribute name="az" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:astat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf92_izamType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@zam_text">
			<xsl:attribute name="zam_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klas_zam">
			<xsl:attribute name="klas_zam" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf93_vchzType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vch1_od">
			<xsl:attribute name="vch1_od" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vch1_do">
			<xsl:attribute name="vch1_do" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vch2_od">
			<xsl:attribute name="vch2_od" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vch2_do">
			<xsl:attribute name="vch2_do" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_vch_pvl">
			<xsl:attribute name="ind_vch_pvl" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_vch_zrs">
			<xsl:attribute name="ind_vch_zrs" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dath_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf94_hspType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_hsp_zm">
			<xsl:attribute name="ind_hsp_zm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dath_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dath_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf95_zpshlType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ssz_kod">
			<xsl:attribute name="ssz_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dath_vy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf96_dath_xxType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@format">
			<xsl:attribute name="format" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf97_ursszType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ssz_kod">
			<xsl:attribute name="ssz_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dath_uk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf98_pece_zmType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_p_pzt">
			<xsl:attribute name="ind_p_pzt" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_p_pdn">
			<xsl:attribute name="ind_p_pdn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dath_zm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf96_dath_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:idl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf90_idlType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf99_chyba_pdType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@kod">
			<xsl:attribute name="kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lokalizace">
			<xsl:attribute name="lokalizace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@osetreni">
			<xsl:attribute name="osetreni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@popis">
			<xsl:attribute name="popis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf100_darType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dar_id)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf101_pracovisteType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_lok">
			<xsl:attribute name="kod_lok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ico">
			<xsl:attribute name="ico" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@icz">
			<xsl:attribute name="icz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@icp">
			<xsl:attribute name="icp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odb">
			<xsl:attribute name="odb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nesmluv_p">
			<xsl:attribute name="nesmluv_p" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ns">
			<xsl:attribute name="ns" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@oddel">
			<xsl:attribute name="oddel" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pcz">
			<xsl:attribute name="pcz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracovisteAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf102_pracovnikType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_zp">
			<xsl:attribute name="id_zp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@icl">
			<xsl:attribute name="icl" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odbornost">
			<xsl:attribute name="odbornost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_pracovnik">
			<xsl:attribute name="id_pracovnik" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_clk">
			<xsl:attribute name="id_clk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_klic">
			<xsl:attribute name="role_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@role_text">
			<xsl:attribute name="role_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:titul_pred)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_za)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracovnikAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf103_pv_kuType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_pv">
			<xsl:attribute name="typ_pv" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dat_ab">
			<xsl:attribute name="dat_ab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pv_zp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf37_pv_zpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_zpeu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf38_pv_zpeuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_jp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf39_pv_jpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_st)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf40_studieType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_sm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf127_samoplatceType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_kuAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf104_tp_zType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_vydejovypohyb">
			<xsl:attribute name="id_vydejovypohyb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_zts">
			<xsl:attribute name="kod_zts" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cisloodber">
			<xsl:attribute name="cisloodber" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@porce">
			<xsl:attribute name="porce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zkratka_tp">
			<xsl:attribute name="zkratka_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_tp">
			<xsl:attribute name="nazev_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komkod_tp">
			<xsl:attribute name="komkod_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pocet_tu">
			<xsl:attribute name="pocet_tu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_zk">
			<xsl:attribute name="v_zk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_vydejovydoklad">
			<xsl:attribute name="id_vydejovydoklad" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn">
			<xsl:attribute name="pozn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_exp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pzk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf128_tp_pzkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_zk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:datzal_zk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:datvyd_zk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf105_tp_oType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@nazev_tp">
			<xsl:attribute name="nazev_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zkratka_tp">
			<xsl:attribute name="zkratka_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komkod_tp">
			<xsl:attribute name="komkod_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@testovat">
			<xsl:attribute name="testovat" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pocet_tu">
			<xsl:attribute name="pocet_tu" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf106_tp_vType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@id_vydejovypohyb">
			<xsl:attribute name="id_vydejovypohyb" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nazev_tp">
			<xsl:attribute name="nazev_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@zkratka_tp">
			<xsl:attribute name="zkratka_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komkod_tp">
			<xsl:attribute name="komkod_tp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_zts">
			<xsl:attribute name="kod_zts" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cisloodber">
			<xsl:attribute name="cisloodber" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@porce">
			<xsl:attribute name="porce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvod">
			<xsl:attribute name="duvod" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf107_jazyk_dokType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:jazyk_orig)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf108_sdilejiciType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:poznamka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_zaslani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf109_zpoType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ico">
			<xsl:attribute name="ico" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@icz">
			<xsl:attribute name="icz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_zp">
			<xsl:attribute name="id_zp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:a_p)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_pred)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_za)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid_zp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:a_zo)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zpoAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf110_legVykType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uraz">
			<xsl:attribute name="uraz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nahrady)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:legVykAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf111_ku_z_rdgType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvod_vys">
			<xsl:attribute name="duvod_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klin_otazka">
			<xsl:attribute name="klin_otazka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@modalita">
			<xsl:attribute name="modalita" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@procedura">
			<xsl:attribute name="procedura" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stanice">
			<xsl:attribute name="stanice" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:diagnoza)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:id_study)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ozareni_celkem)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_rdg_e)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf129_ku_z_rdg_eType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_rdg_o)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf130_ku_z_rdg_oType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzrdgAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf112_ku_z_labType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nclp_verze">
			<xsl:attribute name="nclp_verze" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_klic">
			<xsl:attribute name="syst_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komp_klic">
			<xsl:attribute name="komp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_sp_klic">
			<xsl:attribute name="syst_sp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_sp_text">
			<xsl:attribute name="syst_sp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subsp_text">
			<xsl:attribute name="subsp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_klic">
			<xsl:attribute name="ziskmat_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_text">
			<xsl:attribute name="ziskmat_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp_o">
			<xsl:attribute name="klic_nclp_o" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_cispol">
			<xsl:attribute name="typ_cispol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typpol_fh">
			<xsl:attribute name="typpol_fh" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nahrad_vys">
			<xsl:attribute name="nahrad_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav_vys">
			<xsl:attribute name="stav_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg_info">
			<xsl:attribute name="urg_info" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg_zprac">
			<xsl:attribute name="urg_zprac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_sdel_vys">
			<xsl:attribute name="typ_sdel_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_vazb_fv">
			<xsl:attribute name="ind_vazb_fv" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ind_test_nf">
			<xsl:attribute name="ind_test_nf" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_proc">
			<xsl:attribute name="spec_proc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kolize">
			<xsl:attribute name="kolize" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@akreditace">
			<xsl:attribute name="akreditace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@akreditace_t">
			<xsl:attribute name="akreditace_t" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_jrc">
			<xsl:attribute name="id_jrc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vyrobce_klic">
			<xsl:attribute name="vyrobce_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vyrobce_text">
			<xsl:attribute name="vyrobce_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@set_klic">
			<xsl:attribute name="set_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@set_text">
			<xsl:attribute name="set_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duverne">
			<xsl:attribute name="duverne" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_lis">
			<xsl:attribute name="id_lis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_lo_is">
			<xsl:attribute name="id_lo_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_obalu">
			<xsl:attribute name="typ_obalu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_zt)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:odeslal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf131_odeslalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:o_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sci)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf132_sciType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nazev_lclp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf133_vrnType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf134_vrfType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf135_vrsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrx)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf136_vrxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf137_vrkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf138_vrbType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrr)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf139_vrrType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf140_vrdType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf141_vrpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vro)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf142_vroType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf143_vrzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf144_vrcType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzlabAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf113_ku_z_pat_nType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@verze_mkn">
			<xsl:attribute name="verze_mkn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@verze_mkno">
			<xsl:attribute name="verze_mkno" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@verze_tnm">
			<xsl:attribute name="verze_tnm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dg_nov">
			<xsl:attribute name="dg_nov" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@morfo">
			<xsl:attribute name="morfo" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@grade">
			<xsl:attribute name="grade" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@topo">
			<xsl:attribute name="topo" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pt">
			<xsl:attribute name="pt" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pnrn">
			<xsl:attribute name="pnrn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pn">
			<xsl:attribute name="pn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pvu">
			<xsl:attribute name="pvu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ppu">
			<xsl:attribute name="ppu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pm">
			<xsl:attribute name="pm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rn">
			<xsl:attribute name="rn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sdyspl">
			<xsl:attribute name="sdyspl" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_text">
			<xsl:attribute name="info_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ptmm">
			<xsl:attribute name="ptmm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@gleason1">
			<xsl:attribute name="gleason1" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@gleason2">
			<xsl:attribute name="gleason2" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:kuzpatnAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf114_ku_z_soupisType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ku_z_soupis_u)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf145_ku_z_soupis_uType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vb)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzlabAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf115_ku_pacType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_pac">
			<xsl:attribute name="id_pac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ident_pac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf146_ident_pacType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jmeno)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prijmeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_pred)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:titul_za)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_dn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat_pris)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sex)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sex_klin)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rod_prijm)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jine_idu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns1:a)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf116_ku_z_patsumdatType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:jazyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf5_jazykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:povolani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf8_povolaniType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf9_hType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fyznal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf10_fyznalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:grav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf11_gravType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pv_pac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf12_pv_pacType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:u)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf15_uType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:an)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf16_anType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf17_anfType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:oc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf18_ocType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf19_dgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:le)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:chv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf22_chvType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fzs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf23_fzsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ld)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf24_ldType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf25_fsType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zdroj_sw)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf147_zdroj_isType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf117_ku_z_patsumsestType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ktext)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf82_ktextType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf118_ku_z_propzType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_admu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf148_ku_z_propz_admuType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_dvp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf149_ku_z_propz_dvpType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_urg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf150_ku_z_propz_urgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_hosp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf151_ku_z_propz_hospType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_sprij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf152_ku_z_propz_sprijType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_anam)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf153_ku_z_propz_anamType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_prubh)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf154_ku_z_propz_prubhType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_sprop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf155_ku_z_propz_spropType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_dopor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf156_ku_z_propz_doporType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrnAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf119_auzkuType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@indikace">
			<xsl:attribute name="indikace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@doklad_typ">
			<xsl:attribute name="doklad_typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@doklad_kod">
			<xsl:attribute name="doklad_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typpol_vz">
			<xsl:attribute name="typpol_vz" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@diag">
			<xsl:attribute name="diag" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@elabidzad_sk">
			<xsl:attribute name="elabidzad_sk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vykon)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf157_vykonType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf158_zumType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:auzkuAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf120_ku_o_rdgType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvod_vys">
			<xsl:attribute name="duvod_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klin_otazka">
			<xsl:attribute name="klin_otazka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@modalita">
			<xsl:attribute name="modalita" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@procedura">
			<xsl:attribute name="procedura" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kontrast">
			<xsl:attribute name="kontrast" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:diagnoza)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_rdg_lokal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf159_rdg_lokalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuordgAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf121_ku_o_labType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_lo_is">
			<xsl:attribute name="id_lo_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodani">
			<xsl:attribute name="dodani" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duv_objed">
			<xsl:attribute name="duv_objed" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_poc_hosp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:los)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf160_losType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_du)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf32_dat_duType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lip)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf161_lipType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:loi)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf162_loiType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf163_lopType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf164_lopkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf165_lopzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopr)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf166_loprType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuolabAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf122_ku_o_vypisType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_puvod">
			<xsl:attribute name="typ_puvod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_urg">
			<xsl:attribute name="typ_urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vypis_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vypis_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typ_ku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:max_pocet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:min_pocet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:idku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuovypisAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf123_ku_o_soupisType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_puvod">
			<xsl:attribute name="typ_puvod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_urg">
			<xsl:attribute name="typ_urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_soupis_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_soupis_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typ_ku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:max_pocet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:min_pocet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuosoupisAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf124_ku_ao_labType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_loi_is">
			<xsl:attribute name="id_loi_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_lis">
			<xsl:attribute name="id_lis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:prijato_ok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kolize_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf167_kolize_vType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf163_lopType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf125_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_or)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_or)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:reakceAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf126_idlpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vyst">
			<xsl:attribute name="vyst" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hod">
			<xsl:attribute name="hod" select="fn:string(.)"/>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf127_samoplatceType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:typ_platby)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf128_tp_pzkType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:platnost_dny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf129_ku_z_rdg_eType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@projekce">
			<xsl:attribute name="projekce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@napeti">
			<xsl:attribute name="napeti" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@proud">
			<xsl:attribute name="proud" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@el_mnozstvi">
			<xsl:attribute name="el_mnozstvi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@doba">
			<xsl:attribute name="doba" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komprese">
			<xsl:attribute name="komprese" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@davka_ozareni">
			<xsl:attribute name="davka_ozareni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:kuzrdgeAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf130_ku_z_rdg_oType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:id_image)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:id_serie)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_o_rdg_lokal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf159_rdg_lokalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:priloha)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf83_prilohaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:int_pril)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf168_int_prilType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzrdgoAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf131_odeslalType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@funkce">
			<xsl:attribute name="funkce" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_clk">
			<xsl:attribute name="id_clk" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf132_sciType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_sci_is">
			<xsl:attribute name="id_sci_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@krok">
			<xsl:attribute name="krok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@prubeh">
			<xsl:attribute name="prubeh" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:sciAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf133_vrnType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@priznak_kvant">
			<xsl:attribute name="priznak_kvant" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@formrm">
			<xsl:attribute name="formrm" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prepocet)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf170_prepocetType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnota)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:jednotka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:barva_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nejistota)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf171_nejistotaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnoceni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf172_hodnoceniType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:skala)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf173_skalaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrnAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf134_vrfType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@s_hodn_ko">
			<xsl:attribute name="s_hodn_ko" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnota_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnota_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrfAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf135_vrsType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrs_h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf174_vrs_hType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrsAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf136_vrxType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnota_nt)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrxAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf137_vrkType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@systspec_kod">
			<xsl:attribute name="systspec_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_text">
			<xsl:attribute name="spec_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subspec_text">
			<xsl:attribute name="subspec_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_kod">
			<xsl:attribute name="ziskmat_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_text">
			<xsl:attribute name="ziskmat_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lokal_mo">
			<xsl:attribute name="lokal_mo" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav_mat">
			<xsl:attribute name="stav_mat" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@stav_zprac">
			<xsl:attribute name="stav_zprac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@info_s">
			<xsl:attribute name="info_s" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sez">
			<xsl:attribute name="sez" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf175_lopokType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ttd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmmn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrkpa)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf176_vrkpaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmahn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmlpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmzhl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrkAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf138_vrbType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_vzniku">
			<xsl:attribute name="typ_vzniku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@misto_vzniku">
			<xsl:attribute name="misto_vzniku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@autorizace">
			<xsl:attribute name="autorizace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_obj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrbAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf139_vrrType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rad_zahlavi">
			<xsl:attribute name="rad_zahlavi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rad_paty">
			<xsl:attribute name="rad_paty" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poc_stran">
			<xsl:attribute name="poc_stran" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@autorizace">
			<xsl:attribute name="autorizace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrrAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf140_vrdType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_dv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrdAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf141_vrpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrpAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf142_vroType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:priloha)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf83_prilohaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:int_pril)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf168_int_prilType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vroAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf143_vrzType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf144_vrcType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota">
			<xsl:attribute name="hodnota" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jednotka">
			<xsl:attribute name="jednotka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvy)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf169_nazvyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrcAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf145_ku_z_soupis_uType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typku">
			<xsl:attribute name="typku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typkuspeclok">
			<xsl:attribute name="typkuspeclok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fazespec">
			<xsl:attribute name="fazespec" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idku">
			<xsl:attribute name="idku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idsub">
			<xsl:attribute name="idsub" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@idkulok">
			<xsl:attribute name="idkulok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urgentni">
			<xsl:attribute name="urgentni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duvernost">
			<xsl:attribute name="duvernost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@duverne">
			<xsl:attribute name="duverne" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_real_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_real_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vydani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dg_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf62_dgzType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kuzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf146_ident_pacType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id">
			<xsl:attribute name="id" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_typ">
			<xsl:attribute name="id_typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:autorita)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stat)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf147_zdroj_isType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_firmy">
			<xsl:attribute name="kod_firmy" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_prog">
			<xsl:attribute name="kod_prog" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@verze_prog">
			<xsl:attribute name="verze_prog" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@liccis_prog">
			<xsl:attribute name="liccis_prog" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns1:zdrojisAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf148_ku_z_propz_admuType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:p_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:p_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:a_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:a_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_a_mod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:o_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:o_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_overeni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:z_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_autorizace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kat_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stav_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:verze_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:spr_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf149_ku_z_propz_dvpType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_dvp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dvp_typ)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dvp_koment)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dvp_dotstav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dvp_dokum)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf150_ku_z_propz_urgType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:alerg_int)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf42_uaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_urg_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf177_ku_z_propz_urg_vType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf151_ku_z_propz_hospType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:typ_kontaktu)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hospital_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:urg_prij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prij_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:zdroj_prij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dop_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dop_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duv_prij_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duv_prij_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:duv_prij_kom)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:po_prij_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:po_prij_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:cil_prop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prop_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_h_p)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf178_ku_z_propz_h_pType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf152_ku_z_propz_sprijType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vys_prij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prij_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf9_hType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_param)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf179_p_zap_vysType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_typ)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fyznal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf10_fyznalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_param)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf179_p_zap_vysType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_s_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_s_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_hodn_fs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_form)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf180_vys_fs_formType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf153_ku_z_propz_anamType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:anam_prob)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf49_anam_probType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_zpi)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf50_anam_zpiType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_vyk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf51_anam_vykType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_oc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf52_anam_ocType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_inf)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf53_anam_infType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_infc)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf54_anam_infcType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_rao)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf55_anam_raoType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_sa)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf56_anam_saType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_aba)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf57_anam_abaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf58_anam_abkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf59_anam_abdType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:anam_abj)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf60_anam_abjType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf154_ku_z_propz_prubhType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_prubh_p)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf181_ku_z_propz_prubh_pType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:chv)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf22_chvType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:uniz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf44_unizType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_prubh_d)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf182_ku_z_propz_prubh_dType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:le)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_prubh_v)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf183_ku_z_propz_prubh_vType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_propz_prubh_s)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf184_ku_z_propz_prubh_sType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf155_ku_z_propz_spropType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vys_prij)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prij_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf9_hType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_param)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf179_p_zap_vysType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_a_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:fyznal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf10_fyznalType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_param)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf179_p_zap_vysType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_f_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_s_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_s_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_hodn_fs)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_form)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf180_vys_fs_formType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fs_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:poznamka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf156_ku_z_propz_doporType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:pp_nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pp_nemstav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:popis_dopor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ppo_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ppo_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pp_podrob)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pp_aktivita)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf185_pp_aktivitaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:medikace)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf20_leType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf157_vykonType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_vykonu">
			<xsl:attribute name="kod_vykonu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lok_zubu">
			<xsl:attribute name="lok_zubu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pocet">
			<xsl:attribute name="pocet" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uctujici">
			<xsl:attribute name="uctujici" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uctovatelnost">
			<xsl:attribute name="uctovatelnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_omezeni">
			<xsl:attribute name="typ_omezeni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@boduzavykon">
			<xsl:attribute name="boduzavykon" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cenazabod">
			<xsl:attribute name="cenazabod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cenafixni">
			<xsl:attribute name="cenafixni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cenacelkem">
			<xsl:attribute name="cenacelkem" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:vykonAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf158_zumType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@skupina">
			<xsl:attribute name="skupina" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kod_zumu">
			<xsl:attribute name="kod_zumu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@mnozstvi">
			<xsl:attribute name="mnozstvi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@cena">
			<xsl:attribute name="cena" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uctujici">
			<xsl:attribute name="uctujici" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@uctovatelnost">
			<xsl:attribute name="uctovatelnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_omezeni">
			<xsl:attribute name="typ_omezeni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:zumAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf159_rdg_lokalType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lokalita">
			<xsl:attribute name="lokalita" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lateralita">
			<xsl:attribute name="lateralita" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lokalita_popis">
			<xsl:attribute name="lokalita_popis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:kvalifikator)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:rdglokalAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf160_losType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@prijeti">
			<xsl:attribute name="prijeti" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@kolize">
			<xsl:attribute name="kolize" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg_vysled">
			<xsl:attribute name="urg_vysled" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@rut_vysled">
			<xsl:attribute name="rut_vysled" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ext_vysled">
			<xsl:attribute name="ext_vysled" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodsest">
			<xsl:attribute name="dodsest" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodform">
			<xsl:attribute name="dodform" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodnadpis">
			<xsl:attribute name="dodnadpis" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodskal">
			<xsl:attribute name="dodskal" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typskal">
			<xsl:attribute name="typskal" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodkoment">
			<xsl:attribute name="dodkoment" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodgraf">
			<xsl:attribute name="dodgraf" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@fsvku">
			<xsl:attribute name="fsvku" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:losAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf161_lipType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@priznak_kvant">
			<xsl:attribute name="priznak_kvant" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota">
			<xsl:attribute name="hodnota" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@mtv_klic">
			<xsl:attribute name="mtv_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jednotka">
			<xsl:attribute name="jednotka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lipAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf162_loiType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_znac">
			<xsl:attribute name="typ_znac" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@id_loi_is">
			<xsl:attribute name="id_loi_is" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@odber_mist">
			<xsl:attribute name="odber_mist" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@lokal_mo">
			<xsl:attribute name="lokal_mo" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_obalu">
			<xsl:attribute name="typ_obalu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@poc_obalu">
			<xsl:attribute name="poc_obalu" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@material">
			<xsl:attribute name="material" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@anal_vzorek">
			<xsl:attribute name="anal_vzorek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@indikace">
			<xsl:attribute name="indikace" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_loi">
			<xsl:attribute name="pozn_loi" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:o_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sci)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf132_sciType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_zt)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf186_lodType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lop)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf163_lopType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopk)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf164_lopkType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:loiAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf163_lopType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@systspec_klic">
			<xsl:attribute name="systspec_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_sp_klic">
			<xsl:attribute name="syst_sp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subsp_text">
			<xsl:attribute name="subsp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_klic">
			<xsl:attribute name="ziskmat_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_proc">
			<xsl:attribute name="spec_proc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop">
			<xsl:attribute name="pozn_lop" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop_lab">
			<xsl:attribute name="pozn_lop_lab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lopAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf164_lopkType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@systspec_kod">
			<xsl:attribute name="systspec_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_text">
			<xsl:attribute name="spec_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subspec_text">
			<xsl:attribute name="subspec_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_kod">
			<xsl:attribute name="ziskmat_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_text">
			<xsl:attribute name="ziskmat_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lopok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf175_lopokType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopkAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf165_lopzType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@systspec_klic">
			<xsl:attribute name="systspec_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_sp_klic">
			<xsl:attribute name="syst_sp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subsp_text">
			<xsl:attribute name="subsp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_klic">
			<xsl:attribute name="ziskmat_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_proc">
			<xsl:attribute name="spec_proc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop">
			<xsl:attribute name="pozn_lop" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop_lab">
			<xsl:attribute name="pozn_lop_lab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lopAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf166_loprType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@urg">
			<xsl:attribute name="urg" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@systspec_klic">
			<xsl:attribute name="systspec_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@syst_sp_klic">
			<xsl:attribute name="syst_sp_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@subsp_text">
			<xsl:attribute name="subsp_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@ziskmat_klic">
			<xsl:attribute name="ziskmat_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@spec_proc">
			<xsl:attribute name="spec_proc" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop">
			<xsl:attribute name="pozn_lop" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn_lop_lab">
			<xsl:attribute name="pozn_lop_lab" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lopAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:lopzAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf167_kolize_vType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@stav">
			<xsl:attribute name="stav" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@err">
			<xsl:attribute name="err" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp_novy">
			<xsl:attribute name="klic_nclp_novy" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pozn">
			<xsl:attribute name="pozn" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf168_int_prilType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@nazev">
			<xsl:attribute name="nazev" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jm_soub">
			<xsl:attribute name="jm_soub" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@encode">
			<xsl:attribute name="encode" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf169_nazvyType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ_cispol">
			<xsl:attribute name="typ_cispol" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nadpis_nal">
			<xsl:attribute name="nadpis_nal" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@nadpis_nal_dop">
			<xsl:attribute name="nadpis_nal_dop" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@system">
			<xsl:attribute name="system" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@material">
			<xsl:attribute name="material" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@komponenta">
			<xsl:attribute name="komponenta" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@druh_veliciny">
			<xsl:attribute name="druh_veliciny" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jednotka">
			<xsl:attribute name="jednotka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@procedura">
			<xsl:attribute name="procedura" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nazvyAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf170_prepocetType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota_lok">
			<xsl:attribute name="hodnota_lok" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jednotka_lclp">
			<xsl:attribute name="jednotka_lclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@prepfak">
			<xsl:attribute name="prepfak" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typpol_fh_lclp">
			<xsl:attribute name="typpol_fh_lclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:skala_lok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf173_skalaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prepocetAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf171_nejistotaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nejist_var1)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf187_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nejist_var2)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf188_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nejistotaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf172_hodnoceniType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodn_vysl">
			<xsl:attribute name="hodn_vysl" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodn_vysl_lok)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:hodnoceniAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf173_skalaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@typ">
			<xsl:attribute name="typ" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@atribut">
			<xsl:attribute name="atribut" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@algoritmus">
			<xsl:attribute name="algoritmus" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@s_hodn_o">
			<xsl:attribute name="s_hodn_o" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@t_hodn_o">
			<xsl:attribute name="t_hodn_o" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:s1)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s2)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s3)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s4)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s5)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s6)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s7)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:s8)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:udalost)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:interpret_g_z)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:skalaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf174_vrs_hType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota1_klic">
			<xsl:attribute name="hodnota1_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota1_text">
			<xsl:attribute name="hodnota1_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@priznak2_kvant">
			<xsl:attribute name="priznak2_kvant" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota2_cislo">
			<xsl:attribute name="hodnota2_cislo" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota2_klic">
			<xsl:attribute name="hodnota2_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota2_text">
			<xsl:attribute name="hodnota2_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:vrshAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf175_lopokType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@obj_mv_kod">
			<xsl:attribute name="obj_mv_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@obj_mv_text">
			<xsl:attribute name="obj_mv_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@upresneni">
			<xsl:attribute name="upresneni" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lopokAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf176_vrkpaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@agens_kod">
			<xsl:attribute name="agens_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@agens_text">
			<xsl:attribute name="agens_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@agens_snmd_k">
			<xsl:attribute name="agens_snmd_k" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dalsi_vys">
			<xsl:attribute name="dalsi_vys" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pritomnost">
			<xsl:attribute name="pritomnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_mikro">
			<xsl:attribute name="v_mikro" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_kultiv">
			<xsl:attribute name="v_kultiv" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_pcr">
			<xsl:attribute name="v_pcr" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_seq">
			<xsl:attribute name="v_seq" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@v_antig">
			<xsl:attribute name="v_antig" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@druh_veliciny">
			<xsl:attribute name="druh_veliciny" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@jednotka">
			<xsl:attribute name="jednotka" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@sez">
			<xsl:attribute name="sez" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:multiplex)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:antigen)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kvantita)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf189_kvantitaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf190_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrac)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf191_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dourceni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmahn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmlpn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrmzhl)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vrkpaAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf177_ku_z_propz_urg_vType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:var_ozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:var_stav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sp_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:var_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:var_zav_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:var_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:var_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf178_ku_z_propz_h_pType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_pob_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_pob_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:odd_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:odd_naz)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:odd_adr)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf7_aType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf179_p_zap_vysType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:vys_v_snomed)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf192_vys_v_snomedType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_v_nclp)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf112_ku_z_labType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf180_vys_fs_formType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vzn_fo)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fo_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fo_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_fo_form)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf181_ku_z_propz_prubh_pType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:prob_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_dat_od)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_dat_do)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_klin)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_kat_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_kat_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_okol)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_zav_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_zav_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_stad_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:prob_stad_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf65_mknorphaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf182_ku_z_propz_prubh_dType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:vykd_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vykd_lokal)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_prov_vykd)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vykd_duv_text)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vykd_duv_kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf183_ku_z_propz_prubh_vType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:dat_vys)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:idku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:typku)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:nazev)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_stav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_puvod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:text_uprav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf112_ku_z_labType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_pat_n)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf113_ku_z_pat_nType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ku_z_rdg)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf111_ku_z_rdgType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vys_v_snomed)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf192_vys_v_snomedType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:idku_ref)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf184_ku_z_propz_prubh_sType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:ks_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf193_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ks_duv_prub_h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf194_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:ks_klin_uvaha)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf195_">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf185_pp_aktivitaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:aktivita_typ)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:aktivita_popis)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:specif_atrib)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf48_textType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf186_lodType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@klic_nclp">
			<xsl:attribute name="klic_nclp" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@priznak_kvant">
			<xsl:attribute name="priznak_kvant" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hodnota">
			<xsl:attribute name="hodnota" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@mtv_klic">
			<xsl:attribute name="mtv_klic" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@text">
			<xsl:attribute name="text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:lodAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf187_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@t_nejist">
			<xsl:attribute name="t_nejist" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@h_nejist">
			<xsl:attribute name="h_nejist" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nejistvar1Any)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf188_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@t_nejist_n">
			<xsl:attribute name="t_nejist_n" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@h_nejist_n">
			<xsl:attribute name="h_nejist_n" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@k_anal_n">
			<xsl:attribute name="k_anal_n" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@t_nejist_v">
			<xsl:attribute name="t_nejist_v" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@h_nejist_v">
			<xsl:attribute name="h_nejist_v" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@k_anal_v">
			<xsl:attribute name="k_anal_v" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:nejistvar2Any)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf189_kvantitaType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@priznak">
			<xsl:attribute name="priznak" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf190_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vl_kod">
			<xsl:attribute name="vl_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vl_text">
			<xsl:attribute name="vl_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@pritomnost">
			<xsl:attribute name="pritomnost" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@dodatek">
			<xsl:attribute name="dodatek" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vravAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf191_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@latka_kod">
			<xsl:attribute name="latka_kod" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@latka_text">
			<xsl:attribute name="latka_text" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@latka_snmd_k">
			<xsl:attribute name="latka_snmd_k" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@latka_kod_l">
			<xsl:attribute name="latka_kod_l" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@latka_text_l">
			<xsl:attribute name="latka_text_l" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@hod_citlivosti">
			<xsl:attribute name="hod_citlivosti" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:kvantita)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf189_kvantitaType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:bpoint)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:bpoint2)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:sdeleni_lab)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:autor)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf31_autorType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vracAny)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf30_AnyType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf192_vys_v_snomedType">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/node()">
			<xsl:choose>
				<xsl:when test="fn:boolean(self::*)">
					<xsl:if test="fn:boolean(self::ns2:iid)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf35_iidType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:stav)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:kod)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vysetreni)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:dat_vydani)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf4_dat_xxType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_typ)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_hodnota)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_jednotka)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_pozn)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_rm_d)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_rm_h)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_interpret)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:sequence select="fn:string(.)"/>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_pracovnik)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf102_pracovnikType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
					<xsl:if test="fn:boolean(self::ns2:vysl_pracoviste)">
						<xsl:element name="{fn:string(fn:node-name(.))}" namespace="{fn:namespace-uri-from-QName(fn:node-name(.))}">
							<xsl:call-template name="tbf:tbf101_pracovisteType">
								<xsl:with-param name="input" select="." as="node()"/>
							</xsl:call-template>
						</xsl:element>
					</xsl:if>
				</xsl:when>
				<xsl:otherwise>
					<xsl:if test="fn:not(fn:boolean(self::text()))">
						<xsl:sequence select="."/>
					</xsl:if>
				</xsl:otherwise>
			</xsl:choose>
		</xsl:for-each>
	</xsl:template>
	<xsl:template name="tbf:tbf193_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf194_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="tbf:tbf195_">
		<xsl:param name="input" select="()"/>
		<xsl:for-each select="$input/@guid">
			<xsl:attribute name="guid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:for-each select="$input/@vguid">
			<xsl:attribute name="vguid" select="fn:string(.)"/>
		</xsl:for-each>
		<xsl:sequence select="fn:string($input)"/>
	</xsl:template>
	<xsl:template name="vmf:vmf1_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
			<xsl:when test="$input='SP'">
				<xsl:copy-of select="'resolved'"/>
			</xsl:when>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'inactive'"/>
			</xsl:when>
			<xsl:when test="$input='Z'">
				<xsl:copy-of select="'suspended'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf2_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'unconfirmed'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'refuted'"/>
			</xsl:when>
			<xsl:when test="$input='AF'">
				<xsl:copy-of select="'confirmed'"/>
			</xsl:when>
			<xsl:when test="$input='AN'">
				<xsl:copy-of select="'confirmed'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf3_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'allergy'"/>
			</xsl:when>
			<xsl:when test="$input='I'">
				<xsl:copy-of select="'intolerance'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf4_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='L'">
				<xsl:copy-of select="'medication'"/>
			</xsl:when>
			<xsl:when test="$input='P'">
				<xsl:copy-of select="'food'"/>
			</xsl:when>
			<xsl:when test="$input='S'">
				<xsl:copy-of select="'environment'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf5_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='255604002'">
				<xsl:copy-of select="'low'"/>
			</xsl:when>
			<xsl:when test="$input='371923003'">
				<xsl:copy-of select="'low'"/>
			</xsl:when>
			<xsl:when test="$input='6736007'">
				<xsl:copy-of select="'high'"/>
			</xsl:when>
			<xsl:when test="$input='371924009'">
				<xsl:copy-of select="'high'"/>
			</xsl:when>
			<xsl:when test="$input='24484000'">
				<xsl:copy-of select="'high'"/>
			</xsl:when>
			<xsl:when test="$input='442452003'">
				<xsl:copy-of select="'high'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf6_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'inactive'"/>
			</xsl:when>
			<xsl:when test="$input='RF'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
			<xsl:when test="$input='RN'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
			<xsl:when test="$input='RS'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf7_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='A+'">
				<xsl:copy-of select="'A RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='A1+'">
				<xsl:copy-of select="'A1 RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='A2+'">
				<xsl:copy-of select="'A2 RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='A-'">
				<xsl:copy-of select="'A RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='A1-'">
				<xsl:copy-of select="'A1 RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='A2-'">
				<xsl:copy-of select="'A2 RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='B+'">
				<xsl:copy-of select="'B RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='B-'">
				<xsl:copy-of select="'B RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='AB+'">
				<xsl:copy-of select="'AB RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='A1B+'">
				<xsl:copy-of select="'A1B RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='A2B+'">
				<xsl:copy-of select="'A2B RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='AB-'">
				<xsl:copy-of select="'AB RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='A1B-'">
				<xsl:copy-of select="'A1B RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='A2B-'">
				<xsl:copy-of select="'A2B RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='0+'">
				<xsl:copy-of select="'0 RhD pozitivn'"/>
			</xsl:when>
			<xsl:when test="$input='0-'">
				<xsl:copy-of select="'0 RhD negativn'"/>
			</xsl:when>
			<xsl:when test="$input='ARHDWV'">
				<xsl:copy-of select="'A RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='A1RHDWV'">
				<xsl:copy-of select="'A1 RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='A2RHDWV'">
				<xsl:copy-of select="'A2 RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='BRHDWV'">
				<xsl:copy-of select="'B RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='ABRHDWV'">
				<xsl:copy-of select="'AB RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='A1BRHWV'">
				<xsl:copy-of select="'A1B RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='A2BRHWV'">
				<xsl:copy-of select="'A2B RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='0RHDWV'">
				<xsl:copy-of select="'0 RhD weak/variant'"/>
			</xsl:when>
			<xsl:when test="$input='MF'">
				<xsl:copy-of select="'Neuzaven vyeten KS'"/>
			</xsl:when>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'A RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='A1'">
				<xsl:copy-of select="'A1 RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='A2'">
				<xsl:copy-of select="'A2 RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'B RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='AB'">
				<xsl:copy-of select="'AB RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='A1B'">
				<xsl:copy-of select="'A1B RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='A2B'">
				<xsl:copy-of select="'A2B RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='00'">
				<xsl:copy-of select="'0 RhD nespecifikovno'"/>
			</xsl:when>
			<xsl:when test="$input='A1-,DU+'">
				<xsl:copy-of select="'A1 Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='A2-,DU+'">
				<xsl:copy-of select="'A2 Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='A-,DU+'">
				<xsl:copy-of select="'A Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='B-,DU+'">
				<xsl:copy-of select="'B Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='AB-,DU+'">
				<xsl:copy-of select="'AB Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='A1B-,DU+'">
				<xsl:copy-of select="'A1B Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='A2B-,DU+'">
				<xsl:copy-of select="'A2B Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
			<xsl:when test="$input='0-,DU+'">
				<xsl:copy-of select="'0 Rh(D)neg se slabou variantou D antigenu'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf8_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'completed'"/>
			</xsl:when>
			<xsl:when test="$input='SF'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
			<xsl:when test="$input='SN'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf9_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'385669000'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'385671000'"/>
			</xsl:when>
			<xsl:when test="$input='C'">
				<xsl:copy-of select="'385670004'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf10_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'spn'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'Nespn'"/>
			</xsl:when>
			<xsl:when test="$input='C'">
				<xsl:copy-of select="'sten spn'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf11_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'152231000119106'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'60001007'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'146799005'"/>
			</xsl:when>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'77386006'"/>
			</xsl:when>
			<xsl:when test="$input='G'">
				<xsl:copy-of select="'77386006'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf12_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='77386006'">
				<xsl:copy-of select="'Pregnant'"/>
			</xsl:when>
			<xsl:when test="$input='60001007'">
				<xsl:copy-of select="'Not pregnant'"/>
			</xsl:when>
			<xsl:when test="$input='146799005'">
				<xsl:copy-of select="'Possible pregnancy'"/>
			</xsl:when>
			<xsl:when test="$input='152231000119106'">
				<xsl:copy-of select="'Pregnancy not yet confirmed'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf13_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='11778-8'">
				<xsl:copy-of select="'Delivery date Estimated'"/>
			</xsl:when>
			<xsl:when test="$input='11780-4'">
				<xsl:copy-of select="'Delivery date Estimated from ovulation date'"/>
			</xsl:when>
			<xsl:when test="$input='11779-6'">
				<xsl:copy-of select="'Delivery date Estimated from last menstrual period'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf14_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='F'">
				<xsl:copy-of select="'fyziologick reakce'"/>
			</xsl:when>
			<xsl:when test="$input='H'">
				<xsl:copy-of select="'hyperreakce'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'neurologick reakce'"/>
			</xsl:when>
			<xsl:when test="$input='J'">
				<xsl:copy-of select="'jin reakce'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf15_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'completed'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'correction'"/>
			</xsl:when>
			<xsl:when test="$input='S'">
				<xsl:copy-of select="'entered-in-error'"/>
			</xsl:when>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'stopped'"/>
			</xsl:when>
			<xsl:when test="$input='P'">
				<xsl:copy-of select="'on-hold'"/>
			</xsl:when>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'stopped'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf16_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='ND'">
				<xsl:copy-of select="'nevhodn dvkovn'"/>
			</xsl:when>
			<xsl:when test="$input='PD'">
				<xsl:copy-of select="'nedostaten dvkovn'"/>
			</xsl:when>
			<xsl:when test="$input='IL'">
				<xsl:copy-of select="'interakce lku'"/>
			</xsl:when>
			<xsl:when test="$input='J'">
				<xsl:copy-of select="'jin'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf17_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'chronic'"/>
			</xsl:when>
			<xsl:when test="$input='P'">
				<xsl:copy-of select="'acute'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf18_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'Chronick (trval) medikace'"/>
			</xsl:when>
			<xsl:when test="$input='P'">
				<xsl:copy-of select="'Akutn (pechodn) medikace'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf19_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='1'">
				<xsl:copy-of select="'standardn'"/>
			</xsl:when>
			<xsl:when test="$input='2'">
				<xsl:copy-of select="'dvrn'"/>
			</xsl:when>
			<xsl:when test="$input='3'">
				<xsl:copy-of select="'velmi dvrn'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf20_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='ALL'">
				<xsl:copy-of select="'sdlovna vechna dostupn data z IS odeslatele pro tohoto pacienta'"/>
			</xsl:when>
			<xsl:when test="$input='PS'">
				<xsl:copy-of select="'sdlovna data v rozsahu mnoiny Patient Summary'"/>
			</xsl:when>
			<xsl:when test="$input='KU'">
				<xsl:copy-of select="'obsahuje pouze data v rozsahu potebnm pro een pslun klinick udlosti'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf21_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='111'">
				<xsl:copy-of select="'Veobecn zdravotn pojiovna esk republiky'"/>
			</xsl:when>
			<xsl:when test="$input='201'">
				<xsl:copy-of select="'Vojensk zdravotn pojiovna esk republiky'"/>
			</xsl:when>
			<xsl:when test="$input='205'">
				<xsl:copy-of select="'esk prmyslov zdravotn pojiovna'"/>
			</xsl:when>
			<xsl:when test="$input='207'">
				<xsl:copy-of select="'Oborov zdravotn pojiovna zamstnanc bank, pojioven a stavebnictv'"/>
			</xsl:when>
			<xsl:when test="$input='209'">
				<xsl:copy-of select="'Zamstnaneck pojiovna koda'"/>
			</xsl:when>
			<xsl:when test="$input='211'">
				<xsl:copy-of select="'Zdravotn pojiovna ministerstva vnitra esk republiky'"/>
			</xsl:when>
			<xsl:when test="$input='213'">
				<xsl:copy-of select="'RBP, zdravotn pojiovna'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf22_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='CZE'">
				<xsl:copy-of select="'Czech Republic (CZE)'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf23_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'phone'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'email'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'phone'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf24_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='B'">
				<xsl:copy-of select="'mobile'"/>
			</xsl:when>
			<xsl:when test="$input='E'">
				<xsl:copy-of select="'home'"/>
			</xsl:when>
			<xsl:when test="$input='T'">
				<xsl:copy-of select="'home'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf25_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='M'">
				<xsl:copy-of select="'male'"/>
			</xsl:when>
			<xsl:when test="$input='F'">
				<xsl:copy-of select="'female'"/>
			</xsl:when>
			<xsl:when test="$input='X'">
				<xsl:copy-of select="'unknown'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf26_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='1'">
				<xsl:copy-of select="'home'"/>
			</xsl:when>
			<xsl:when test="$input='2'">
				<xsl:copy-of select="'temp'"/>
			</xsl:when>
			<xsl:when test="$input='5'">
				<xsl:copy-of select="'work'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf27_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='P'">
				<xsl:copy-of select="'true'"/>
			</xsl:when>
			<xsl:when test="$input='M'">
				<xsl:copy-of select="'false'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf28_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='HNMD'">
				<xsl:copy-of select="'228368007'"/>
			</xsl:when>
			<xsl:when test="$input='DNMD'">
				<xsl:copy-of select="'228367002'"/>
			</xsl:when>
			<xsl:when test="$input='MDIP'">
				<xsl:copy-of select="'44870007'"/>
			</xsl:when>
			<xsl:when test="$input='CDUS'">
				<xsl:copy-of select="'417284009'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf29_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='AMFETAM'">
				<xsl:copy-of select="'703842006'"/>
			</xsl:when>
			<xsl:when test="$input='ANABST'">
				<xsl:copy-of select="'111151007'"/>
			</xsl:when>
			<xsl:when test="$input='BARBIT'">
				<xsl:copy-of select="'372798009'"/>
			</xsl:when>
			<xsl:when test="$input='BENZOD'">
				<xsl:copy-of select="'372664007'"/>
			</xsl:when>
			<xsl:when test="$input='BUP'">
				<xsl:copy-of select="'387173000'"/>
			</xsl:when>
			<xsl:when test="$input='PHENC'">
				<xsl:copy-of select="'9721008'"/>
			</xsl:when>
			<xsl:when test="$input='FENTAN'">
				<xsl:copy-of select="'373492002'"/>
			</xsl:when>
			<xsl:when test="$input='HALLMUSH'">
				<xsl:copy-of select="'229006007'"/>
			</xsl:when>
			<xsl:when test="$input='HEROIN'">
				<xsl:copy-of select="'387341002'"/>
			</xsl:when>
			<xsl:when test="$input='3OHBUTYR'">
				<xsl:copy-of select="'62821004'"/>
			</xsl:when>
			<xsl:when test="$input='KETAM'">
				<xsl:copy-of select="'373464007'"/>
			</xsl:when>
			<xsl:when test="$input='COCAINE'">
				<xsl:copy-of select="'387085005'"/>
			</xsl:when>
			<xsl:when test="$input='COCFB'">
				<xsl:copy-of select="'229003004'"/>
			</xsl:when>
			<xsl:when test="$input='CANAB'">
				<xsl:copy-of select="'398705004'"/>
			</xsl:when>
			<xsl:when test="$input='LAXAT'">
				<xsl:copy-of select="'372800002'"/>
			</xsl:when>
			<xsl:when test="$input='LSD'">
				<xsl:copy-of select="'15698006'"/>
			</xsl:when>
			<xsl:when test="$input='MDMA'">
				<xsl:copy-of select="'288459003'"/>
			</xsl:when>
			<xsl:when test="$input='METHAD'">
				<xsl:copy-of select="'387286002'"/>
			</xsl:when>
			<xsl:when test="$input='METAMF'">
				<xsl:copy-of select="'387499002'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf30_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='ASSOC'">
				<xsl:copy-of select="&quot;Associate's or technical degree complete&quot;"/>
			</xsl:when>
			<xsl:when test="$input='BD'">
				<xsl:copy-of select="'College or baccalaureate degree complete'"/>
			</xsl:when>
			<xsl:when test="$input='ELEN'">
				<xsl:copy-of select="'Elementary School'"/>
			</xsl:when>
			<xsl:when test="$input='GD'">
				<xsl:copy-of select="'Graduate or professional Degree complete'"/>
			</xsl:when>
			<xsl:when test="$input='HS'">
				<xsl:copy-of select="'High School or secondary school degree complete'"/>
			</xsl:when>
			<xsl:when test="$input='PB'">
				<xsl:copy-of select="'Some post-baccalaureate education'"/>
			</xsl:when>
			<xsl:when test="$input='POSTG'">
				<xsl:copy-of select="'Doctoral or post graduate education'"/>
			</xsl:when>
			<xsl:when test="$input='SCOL'">
				<xsl:copy-of select="'Some College education'"/>
			</xsl:when>
			<xsl:when test="$input='SEC'">
				<xsl:copy-of select="'Some secondary or high school education'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf31_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='365508006'">
				<xsl:copy-of select="'Residence and accommodation circumstances'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf32_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='BSCH'">
				<xsl:copy-of select="'Vana / sprchov keslo'"/>
			</xsl:when>
			<xsl:when test="$input='SLCH'">
				<xsl:copy-of select="'Schodiov vtah, idle'"/>
			</xsl:when>
			<xsl:when test="$input='ASTO'">
				<xsl:copy-of select="'Pomocn toaleta'"/>
			</xsl:when>
			<xsl:when test="$input='ASBE'">
				<xsl:copy-of select="'Pomocn lko'"/>
			</xsl:when>
			<xsl:when test="$input='HPAF'">
				<xsl:copy-of select="'Pomocn vybaven / adaptace domu a prostor'"/>
			</xsl:when>
			<xsl:when test="$input='HARA'">
				<xsl:copy-of select="'Zbradl, dradla'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf33_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='STHO'">
				<xsl:copy-of select="'Schody v dom'"/>
			</xsl:when>
			<xsl:when test="$input='LAWE'">
				<xsl:copy-of select="'Bydl v byt s vtahem'"/>
			</xsl:when>
			<xsl:when test="$input='ARBS'">
				<xsl:copy-of select="'Pstup do domu po schodech'"/>
			</xsl:when>
			<xsl:when test="$input='OMRE'">
				<xsl:copy-of select="'Blokovan vstup do bytu'"/>
			</xsl:when>
			<xsl:when test="$input='HCSB'">
				<xsl:copy-of select="'Bydlen obsahuje strukturln pekky pohybu'"/>
			</xsl:when>
			<xsl:when test="$input='CLSP'">
				<xsl:copy-of select="'Zanedn ivotn prostor'"/>
			</xsl:when>
			<xsl:when test="$input='DLCO'">
				<xsl:copy-of select="'pinav ivotn prosted'"/>
			</xsl:when>
			<xsl:when test="$input='KEPE'">
				<xsl:copy-of select="'Chov domc mazlky'"/>
			</xsl:when>
			<xsl:when test="$input='UFCO'">
				<xsl:copy-of select="'Nebezpen podlahov krytina'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf34_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'active'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'inactive'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf35_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='255604002'">
				<xsl:copy-of select="'Mild'"/>
			</xsl:when>
			<xsl:when test="$input='6736007'">
				<xsl:copy-of select="'Moderate'"/>
			</xsl:when>
			<xsl:when test="$input='24484000'">
				<xsl:copy-of select="'Severe'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:template name="vmf:vmf36_inputtoresult">
		<xsl:param name="input" select="()"/>
		<xsl:choose>
			<xsl:when test="$input='U'">
				<xsl:copy-of select="'neznm informace'"/>
			</xsl:when>
			<xsl:when test="$input='N'">
				<xsl:copy-of select="'nebyla dosud dn zaznamenan informace o funknm stavu pacienta'"/>
			</xsl:when>
			<xsl:when test="$input='A'">
				<xsl:copy-of select="'sdlovan funkn stav pacienta'"/>
			</xsl:when>
		</xsl:choose>
	</xsl:template>
	<xsl:output method="xml" encoding="UTF-8" byte-order-mark="no" indent="yes"/>
	<xsl:template match="/">
		<xsl:variable name="var14_dasta" as="node()?" select="ns1:dasta"/>
		<xsl:variable name="var12_map_of_dasta" as="node()?">
			<xsl:for-each select="$var14_dasta/ns1:garant_dat">
				<garant_dat xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_dasta">
					<xsl:sequence select="(./@node(), ./node())"/>
				</garant_dat>
			</xsl:for-each>
		</xsl:variable>
		<xsl:variable name="var13_map_of_dasta" as="node()*">
			<xsl:for-each select="$var14_dasta/ns1:is">
				<is xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_dasta">
					<xsl:sequence select="(./@node(), ./node())"/>
				</is>
			</xsl:for-each>
		</xsl:variable>
		<Bundle xmlns="http://hl7.org/fhir" xmlns:xhtml="http://www.w3.org/1999/xhtml">
			<xsl:attribute name="xsi:schemaLocation" namespace="http://www.w3.org/2001/XMLSchema-instance" select="'http://hl7.org/fhir file:///C:/converters/Dasta2FHIR/mapforce/schemas/hl7-fhir/bundle.xsd'"/>
			<type>
				<xsl:attribute name="value" namespace="" select="'document'"/>
			</type>
			<xsl:for-each select="$var14_dasta/ns1:is/ns2:ip">
				<xsl:variable name="var4_resultof_is" as="node()*">
					<xsl:call-template name="provisio:is">
						<xsl:with-param name="is" select="$var13_map_of_dasta" as="node()*"/>
					</xsl:call-template>
				</xsl:variable>
				<xsl:variable name="var8_resultof_garant_dat" as="node()*">
					<xsl:call-template name="provisio:garant_dat">
						<xsl:with-param name="garant_dat" select="$var12_map_of_dasta" as="node()?"/>
					</xsl:call-template>
				</xsl:variable>
				<xsl:variable name="var9_resultof_ip" as="node()*">
					<xsl:call-template name="provisio:ip">
						<xsl:with-param name="patientReference" as="node()">
							<Reference>
								<identifier>
									<use>
										<xsl:attribute name="value" namespace="" select="'official'"/>
									</use>
									<system>
										<xsl:attribute name="value" namespace="" select="xs:string(xs:anyURI('https://ncez.mzcr.cz/fhir/sid/cpoj'))"/>
									</system>
									<value>
										<xsl:attribute name="value" namespace="" select="fn:string(@id_pac)"/>
									</value>
								</identifier>
							</Reference>
						</xsl:with-param>
						<xsl:with-param name="ip" as="node()*">
							<xsl:for-each select="$var14_dasta/ns1:is/ns2:ip">
								<ip xmlns="urn:cz-mzcr:ns:dasta:ds4:ds_ip">
									<xsl:call-template name="tbf:tbf1_">
										<xsl:with-param name="input" select="." as="node()"/>
									</xsl:call-template>
								</ip>
							</xsl:for-each>
						</xsl:with-param>
						<xsl:with-param name="organizatinReference" as="xs:string*">
							<xsl:for-each select="$var4_resultof_is/ns0:resource/ns0:Organization">
								<xsl:variable name="var3_cur" as="node()" select="."/>
								<xsl:for-each select="ns0:id/@value">
									<xsl:variable name="var2_cur" as="node()" select="."/>
									<xsl:for-each select="$var3_cur/ns0:meta/ns0:versionId/@value">
										<xsl:variable name="var1_resultof_Reference_Organization" as="xs:string?">
											<xsl:call-template name="provisio:Reference_Organization">
												<xsl:with-param name="GUID" select="fn:string($var2_cur)" as="xs:string"/>
												<xsl:with-param name="VGUID" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:sequence select="$var1_resultof_Reference_Organization"/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:with-param>
						<xsl:with-param name="practitionerReference" as="xs:string*">
							<xsl:for-each select="$var8_resultof_garant_dat/ns0:resource/ns0:Practitioner">
								<xsl:variable name="var7_cur" as="node()" select="."/>
								<xsl:for-each select="ns0:id/@value">
									<xsl:variable name="var6_cur" as="node()" select="."/>
									<xsl:for-each select="$var7_cur/ns0:meta/ns0:versionId/@value">
										<xsl:variable name="var5_resultof_Reference_Practitioner" as="xs:string?">
											<xsl:call-template name="provisio:Reference_Practitioner">
												<xsl:with-param name="GUID" select="fn:string($var6_cur)" as="xs:string"/>
												<xsl:with-param name="VGUID" select="fn:string(.)" as="xs:string"/>
											</xsl:call-template>
										</xsl:variable>
										<xsl:sequence select="$var5_resultof_Reference_Practitioner"/>
									</xsl:for-each>
								</xsl:for-each>
							</xsl:for-each>
						</xsl:with-param>
					</xsl:call-template>
				</xsl:variable>
				<xsl:for-each select="$var9_resultof_ip">
					<entry>
						<xsl:sequence select="(./@node(), ./node())"/>
					</entry>
				</xsl:for-each>
			</xsl:for-each>
			<xsl:variable name="var10_resultof_garant_dat" as="node()*">
				<xsl:call-template name="provisio:garant_dat">
					<xsl:with-param name="garant_dat" select="$var12_map_of_dasta" as="node()?"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:for-each select="$var10_resultof_garant_dat">
				<entry>
					<xsl:sequence select="(./@node(), ./node())"/>
				</entry>
			</xsl:for-each>
			<xsl:variable name="var11_resultof_is" as="node()*">
				<xsl:call-template name="provisio:is">
					<xsl:with-param name="is" select="$var13_map_of_dasta" as="node()*"/>
				</xsl:call-template>
			</xsl:variable>
			<xsl:for-each select="$var11_resultof_is">
				<entry>
					<xsl:sequence select="(./@node(), ./node())"/>
				</entry>
			</xsl:for-each>
		</Bundle>
	</xsl:template>
</xsl:stylesheet>

